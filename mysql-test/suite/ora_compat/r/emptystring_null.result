DROP TABLE IF EXISTS `test1`;
Warnings:
Note	1051	Unknown table 'test.test1'
CREATE TABLE `test1` (
`id` int NOT NULL,
`name` varchar(100) DEFAULT NULL,
`test_dec` decimal(10,5) DEFAULT NULL,
`test_blob` blob,
`c5` varchar(255) NOT NULL,
`c6` timestamp NULL DEFAULT NULL,
`c7` char(255) DEFAULT NULL,
`c8` varchar(255) DEFAULT NULL,
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
INSERT INTO `test1` VALUES (1, '1', 11.32000, NULL, 'c5', NULL, 'c71', NULL);
INSERT INTO `test1` VALUES (2, '2', 22.24500, NULL, '', '2022-03-17 16:08:57', NULL, 'c82');
INSERT INTO `test1` VALUES (3, '3', 3.00000, NULL, '', '2022-03-17 16:04:15', NULL, NULL);
INSERT INTO `test1` VALUES (4, '3', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test1` VALUES (5, '', NULL, NULL, '', '2022-03-09 16:04:19', NULL, NULL);
INSERT INTO `test1` VALUES (6, '', NULL, NULL, '', NULL, NULL, '1');
INSERT INTO `test1` VALUES (7, '20', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test1` VALUES (8, '8', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test1` VALUES (9, NULL, NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test1` VALUES (10, NULL, NULL, NULL, 'c510', NULL, '', '');
DROP TABLE IF EXISTS `test2`;
Warnings:
Note	1051	Unknown table 'test.test2'
CREATE TABLE `test2` (
`id` int NOT NULL,
`name` varchar(100) DEFAULT NULL,
`test_dec` decimal(10,5) DEFAULT NULL,
`test_blob` blob,
`c5` varchar(255) NOT NULL,
`c6` timestamp NULL DEFAULT NULL,
`c7` char(255) DEFAULT NULL,
`c8` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
INSERT INTO `test2` VALUES (10, '1', 11.32000, NULL, 'c5', NULL, 'c71', NULL);
INSERT INTO `test2` VALUES (10, '2', 22.24500, NULL, '', '2022-03-17 16:08:57', NULL, 'c82');
INSERT INTO `test2` VALUES (10, '3', 3.00000, NULL, '', '2022-03-17 16:04:15', NULL, NULL);
INSERT INTO `test2` VALUES (10, '3', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test2` VALUES (20, '', NULL, NULL, '', '2022-03-09 16:04:19', NULL, NULL);
INSERT INTO `test2` VALUES (20, '', NULL, NULL, '', NULL, NULL, '1');
INSERT INTO `test2` VALUES (20, '20', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test2` VALUES (30, '8', NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test2` VALUES (30, NULL, NULL, NULL, '', NULL, NULL, NULL);
INSERT INTO `test2` VALUES (40, NULL, NULL, NULL, 'c510', NULL, '', '');
INSERT INTO `test2` VALUES (40, NULL, NULL, NULL, 'c510', NULL, '', '');
INSERT INTO `test2` VALUES (50, '', NULL, NULL, '', NULL, NULL, '1');
INSERT INTO `test2` VALUES (50, '', NULL, NULL, '', NULL, NULL, '1');
CREATE VIEW test_view as select name from test1 group by name;
CREATE TABLE t1 (i1 int, c2 varchar(100) default '', descr VARCHAR(100));
INSERT INTO t1 VALUES (1, '', 'empty string');
INSERT INTO t1 VALUES (-1, NULL, 'null');
INSERT INTO t1 VALUES (2, '', 'empty string 2');
INSERT INTO t1 VALUES (-2, NULL, 'null 2');
CREATE TABLE t2 AS SELECT * FROM t1;
CREATE INDEX t1_c2 ON t1(c2);
create table lob1 (
id int,
c2 clob,
b3 blob
);
insert into lob1 values (0, NULL, NULL);
insert into lob1 values (1, '', '');
insert into lob1 values (2, 'a', 'a');
insert into lob1 values (3, '', '');
insert into lob1 values (4, 'b', 'b');
create table es1 (
id int,
e2 enum('N', 'Y'),
s3 set(' ', 'a', 'b'),
vc4 varchar(100)
);
insert into es1 values (0, null, null, null);
insert into es1 values (100, null, 0, null);
insert into es1 values (2, 'Y', 'a', null);
insert into es1 values (103, 'N', 0, null);
update es1 set vc4=s3;
set timestamp=1648915200;
set @default_mode='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
set @default_mode_emptystring_equal_null='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION,emptystring_equal_null';
set @oracle_mode='oracle';
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=default;
test ------------------------no emptystring_equal_null mode;--------------------------------
test Numerical function
select name,abs(name) from test1;
name	abs(name)
1	1
2	2
3	3
3	3
	0
	0
20	20
8	8
NULL	NULL
NULL	NULL
select name,SQRT(name) from test1;
name	SQRT(name)
1	1
2	1.4142135623730951
3	1.7320508075688772
3	1.7320508075688772
	0
	0
20	4.47213595499958
8	2.8284271247461903
NULL	NULL
NULL	NULL
select name,MOD(name,1.5) from test1;
name	MOD(name,1.5)
1	1
2	0.5
3	0
3	0
	0
	0
20	0.5
8	0.5
NULL	NULL
NULL	NULL
select name,CEIL(name) from test1;
name	CEIL(name)
1	1
2	2
3	3
3	3
	0
	0
20	20
8	8
NULL	NULL
NULL	NULL
select name,CEILING(name) from test1;
name	CEILING(name)
1	1
2	2
3	3
3	3
	0
	0
20	20
8	8
NULL	NULL
NULL	NULL
select name,FLOOR(name) from test1;
name	FLOOR(name)
1	1
2	2
3	3
3	3
	0
	0
20	20
8	8
NULL	NULL
NULL	NULL
select name,RAND(name) from test1;
name	RAND(name)
1	0.40540353712197724
2	0.6555866465490187
3	0.9057697559760601
3	0.9057697559760601
	0.15522042769493574
	0.15522042769493574
20	0.15888261251047497
8	0.15668530311126755
NULL	0.15522042769493574
NULL	0.15522042769493574
select name,ROUND(name) from test1;
name	ROUND(name)
1	1
2	2
3	3
3	3
	0
	0
20	20
8	8
NULL	NULL
NULL	NULL
select name,SIGN(name) from test1;
name	SIGN(name)
1	1
2	1
3	1
3	1
	0
	0
20	1
8	1
NULL	NULL
NULL	NULL
select name,POW(name,2) from test1;
name	POW(name,2)
1	1
2	4
3	9
3	9
	0
	0
20	400
8	64
NULL	NULL
NULL	NULL
select name,POWER(name,2) from test1;
name	POWER(name,2)
1	1
2	4
3	9
3	9
	0
	0
20	400
8	64
NULL	NULL
NULL	NULL
select name,SIN(name) from test1;
name	SIN(name)
1	0.8414709848078965
2	0.9092974268256817
3	0.1411200080598672
3	0.1411200080598672
	0
	0
20	0.9129452507276277
8	0.9893582466233818
NULL	NULL
NULL	NULL
select name,ASIN(name) from test1;
name	ASIN(name)
1	1.5707963267948966
2	NULL
3	NULL
3	NULL
	0
	0
20	NULL
8	NULL
NULL	NULL
NULL	NULL
select name,COS(name) from test1;
name	COS(name)
1	0.5403023058681398
2	-0.4161468365471424
3	-0.9899924966004454
3	-0.9899924966004454
	1
	1
20	0.40808206181339196
8	-0.14550003380861354
NULL	NULL
NULL	NULL
select name,ACOS(name) from test1;
name	ACOS(name)
1	0
2	NULL
3	NULL
3	NULL
	1.5707963267948966
	1.5707963267948966
20	NULL
8	NULL
NULL	NULL
NULL	NULL
select name,TAN(name) from test1;
name	TAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
	<0>
	<0>
20	<0>
8	<0>
NULL	<0>
NULL	<0>
select name,ATAN(name) from test1;
name	ATAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
	<0>
	<0>
20	<0>
8	<0>
NULL	<0>
NULL	<0>
select name,COT(name) from test1;
ERROR 22003: DOUBLE value is out of range in 'cot(`test`.`test1`.`name`)'
test string function
select name,length(name) from test1;
name	length(name)
1	1
2	1
3	1
3	1
	0
	0
20	2
8	1
NULL	NULL
NULL	NULL
select name,CONCAT(name) from test1;
name	CONCAT(name)
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	NULL
NULL	NULL
select name,CONCAT(name,'2') from test1;
name	CONCAT(name,'2')
1	12
2	22
3	32
3	32
	2
	2
20	202
8	82
NULL	NULL
NULL	NULL
select name,concat(name,'') from test1;
name	concat(name,'')
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	NULL
NULL	NULL
select concat('a','') from dual;
concat('a','')
a
select name,INSERT(name,1,1,'+') from test1;
name	INSERT(name,1,1,'+')
1	+
2	+
3	+
3	+
	
	
20	+0
8	+
NULL	NULL
NULL	NULL
select name,LOWER(name) from test1;
name	LOWER(name)
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	NULL
NULL	NULL
select name,UPPER(name) from test1;
name	UPPER(name)
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	NULL
NULL	NULL
select name,LEFT(name,1) from test1;
name	LEFT(name,1)
1	1
2	2
3	3
3	3
	
	
20	2
8	8
NULL	NULL
NULL	NULL
select name,RIGHT(name,1) from test1;
name	RIGHT(name,1)
1	1
2	2
3	3
3	3
	
	
20	0
8	8
NULL	NULL
NULL	NULL
select name,TRIM(name) from test1;
name	TRIM(name)
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	NULL
NULL	NULL
select name,REPLACE(name,name,'') from test1;
name	REPLACE(name,name,'')
1	
2	
3	
3	
	
	
20	
8	
NULL	NULL
NULL	NULL
select name,SUBSTRING(name,2) from test1;
name	SUBSTRING(name,2)
1	
2	
3	
3	
	
	
20	0
8	
NULL	NULL
NULL	NULL
select name,REVERSE(name) from test1;
name	REVERSE(name)
1	1
2	2
3	3
3	3
	
	
20	02
8	8
NULL	NULL
NULL	NULL
select space('') from dual;
space('')

test date time funciton
select str_to_date(name, '%m/%d/%Y') from test1;
str_to_date(name, '%m/%d/%Y')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_format(name, '%Y%m%d%H%i%s') from test1;
date_format(name, '%Y%m%d%H%i%s')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select time_to_sec(name) from test1;
time_to_sec(name)
1
2
3
3
NULL
NULL
20
8
NULL
NULL
select sec_to_time(name) from test1;
sec_to_time(name)
00:00:01.000000
00:00:02.000000
00:00:03.000000
00:00:03.000000
00:00:00.000000
00:00:00.000000
00:00:20.000000
00:00:08.000000
NULL
NULL
select makedate(name,31) from test1;
makedate(name,31)
2001-01-31
2002-01-31
2003-01-31
2003-01-31
2000-01-31
2000-01-31
2020-01-31
2008-01-31
NULL
NULL
select maketime(name,15,31) from test1;
maketime(name,15,31)
01:15:31
02:15:31
03:15:31
03:15:31
00:15:31
00:15:31
20:15:31
08:15:31
NULL
NULL
select unix_timestamp(name) from test1;
unix_timestamp(name)
0.000000
0.000000
0.000000
0.000000
0.000000
0.000000
0.000000
0.000000
NULL
NULL
select from_unixtime(name) from test1;
from_unixtime(name)
1970-01-01 03:00:01.000000
1970-01-01 03:00:02.000000
1970-01-01 03:00:03.000000
1970-01-01 03:00:03.000000
1970-01-01 03:00:00.000000
1970-01-01 03:00:00.000000
1970-01-01 03:00:20.000000
1970-01-01 03:00:08.000000
NULL
NULL
select timestamp(name) from test1;
timestamp(name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
set @dt ='';
select date_add(@dt, interval 1 day);
date_add(@dt, interval 1 day)
NULL
select convert_tz(name, '+08:00', '+00:00') from test1;
convert_tz(name, '+08:00', '+00:00')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_sub(name, interval 1 day) from test1;
date_sub(name, interval 1 day)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select timestampadd(hour, -8, name) from test1;
timestampadd(hour, -8, name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
test oracle mode ||
set sql_mode=oracle;
select concat('a',null) from dual;
concat('a',null)
NULL
select concat('a','') from dual;
concat('a','')
a
select 'a'||null from dual;
'a'||null 
a
select 'a'||'' from dual;
'a'||''
a
set sql_mode=default;
test statistical function
select MAX(name) from test1;
MAX(name)
8
select MIN(name) from test1;
MIN(name)

select COUNT(name) from test1;
COUNT(name)
8
select sum(name) from test1;
sum(name)
37
select AVG(name) from test1;
AVG(name)
4.625
select least(c5,name) from test1 ;
least(c5,name)
1







NULL
NULL
test CAST
select CAST(name AS decimal) from test1;
CAST(name AS decimal)
1
2
3
3
0
0
20
8
NULL
NULL
select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
0008-04-01 00:00:00
NULL
NULL
select CAST(name AS date) from test1;
CAST(name AS date)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select CAST(name AS time) from test1;
CAST(name AS time)
00:00:01
00:00:02
00:00:03
00:00:03
NULL
NULL
00:00:20
00:00:08
NULL
NULL
select CAST(name as binary) from test1;
CAST(name as binary)
1
2
3
3


20
8
NULL
NULL
select CAST(name as json) from test1;
ERROR 22032: Invalid JSON text in argument 1 to function cast_as_json: "The document is empty." at position 0.
test CONVERT
SELECT CONVERT(name , decimal) from test1;
CONVERT(name , decimal)
1
2
3
3
0
0
20
8
NULL
NULL
test IF ,IFNULL
select name,IF(name>0,'Y','N') from test1;
name	IF(name>0,'Y','N')
1	Y
2	Y
3	Y
3	Y
	N
	N
20	Y
8	Y
NULL	N
NULL	N
select name,IFNULL(name,'Y') from test1;
name	IFNULL(name,'Y')
1	1
2	2
3	3
3	3
	
	
20	20
8	8
NULL	Y
NULL	Y
select nullif(null,'') from dual;
nullif(null,'')
NULL
select nvl('',6) from dual;
nvl('',6)

select nvl(name,6) from test1;
nvl(name,6)
1
2
3
3


20
8
6
6
select '' is  null from dual;
'' is  null
0
select '' is not  null from dual;
'' is not  null
1
select ''  from dual;


select name is null from test1;
name is null
0
0
0
0
0
0
0
0
1
1
select name is not null from test1;
name is not null
1
1
1
1
1
1
1
1
0
0
test CASE WHEN THEN
SELECT CASE name WHEN -2 THEN 'name<0' WHEN 2 THEN 'name>0' ELSE 'other' END AS name from test1;
name
other
name>0
other
other
other
other
other
other
other
other
test UNION
select name from test1 union select c5 from test1;
name
1
2
3

20
8
NULL
c5
c510
test DISTINCT
select distinct name ,c5 from test1;
name	c5
1	c5
2	
3	
	
20	
8	
NULL	
NULL	c510
select distinct name,count(name),count(''),count(*) from test1 group by name;
name	count(name)	count('')	count(*)
1	1	1	1
2	1	1	1
3	2	2	2
	2	2	2
20	1	1	1
8	1	1	1
NULL	0	2	2
test JOIN
select * from test1 t  join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
select * from test1 t  inner join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
select * from test1 t  cross join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
select * from test1 t  straight_join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
select * from test1 t left join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
9	NULL	NULL	NULL		NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
10	NULL	NULL	NULL	c510	NULL			NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t right join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL		NULL	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL		NULL	NULL	NULL
6		NULL	NULL		NULL	NULL	1	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1	6		NULL	NULL		NULL	NULL	1
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL	6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL	7	20	NULL	NULL		NULL	NULL	NULL
8	8	NULL	NULL		NULL	NULL	NULL	8	8	NULL	NULL		NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	9	NULL	NULL	NULL		NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	10	NULL	NULL	NULL	c510	NULL		
test INSERT INTO
insert into test1 select * from test1;
ERROR 23000: Duplicate entry '1' for key 'test1.PRIMARY'
test IN
select name from test1 where name not in (1,2,3);
name


20
8
select name from test1 where name  in (1,2,3);
name
1
2
3
3
test replace
replace into test1(id,name,test_dec,test_blob,c5,c6) values(8, '', NULL, NULL, '', NULL);
test SUBQUERY
SELECT * FROM test1 WHERE name = (SELECT name FROM test1 where id=5);
id	name	test_dec	test_blob	c5	c6	c7	c8
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1
8		NULL	NULL		NULL	NULL	NULL
test where
select name from test1 where name > '';
name
1
2
3
3
20
select name from test1 where name = '';
name



test not null field c5 in where
select * from test1 where c5 is null;
id	name	test_dec	test_blob	c5	c6	c7	c8
select * from test1 where c5 is not null;
id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL		2022-03-17 16:08:57	NULL	c82
3	3	3.00000	NULL		2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL		NULL	NULL	NULL
5		NULL	NULL		2022-03-09 16:04:19	NULL	NULL
6		NULL	NULL		NULL	NULL	1
7	20	NULL	NULL		NULL	NULL	NULL
8		NULL	NULL		NULL	NULL	NULL
9	NULL	NULL	NULL		NULL	NULL	NULL
10	NULL	NULL	NULL	c510	NULL		
set sql_mode=default;
update test1 set c5='' where id=4;
INSERT INTO `test1` VALUES (11, '', NULL, NULL, '', NULL, NULL, NULL);
test oracmp function
select name,decode(name, '',1,2),decode(name,null,1,2) from test1;
name	decode(name, '',1,2)	decode(name,null,1,2)
1	2	2
2	2	2
3	2	2
3	2	2
	1	2
	1	2
20	2	2
	1	2
NULL	2	1
NULL	2	1
	1	2
select name,c5,decode(name, c5, 'one', 2, 'two', 'other') from test1;
name	c5	decode(name, c5, 'one', 2, 'two', 'other')
1	c5	other
2		two
3		other
3		other
		one
		one
20		other
		one
NULL		other
NULL	c510	other
		one
select name,instr(name,'1') from test1;
name	instr(name,'1')
1	1
2	0
3	0
3	0
	0
	0
20	0
	0
NULL	NULL
NULL	NULL
	0
select name,length(name) from test1;
name	length(name)
1	1
2	1
3	1
3	1
	0
	0
20	2
	0
NULL	NULL
NULL	NULL
	0
select name,lengthb(name) from test1;
name	lengthb(name)
1	1
2	1
3	1
3	1
	NULL
	NULL
20	2
	NULL
NULL	NULL
NULL	NULL
	NULL
explain select name,decode(name, '', 1, 2) from test1;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	test1	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	NULL
show warnings;
Level	Code	Message
Note	1003	/* select#1 */ select `test`.`test1`.`name` AS `name`,decode(`test`.`test1`.`name`,'',1,2) AS `decode(name, '', 1, 2)` from `test`.`test1`
explain select group_concat(name order by id ASC) gc,name from test1 group by name;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	test1	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	Using filesort
show  warnings;
Level	Code	Message
Note	1003	/* select#1 */ select group_concat(`test`.`test1`.`name` order by `test`.`test1`.`id` ASC separator ',') AS `gc`,`test`.`test1`.`name` AS `name` from `test`.`test1` group by `test`.`test1`.`name`
select group_concat(name order by id ASC) gc,name from test1 group by name;
gc	name
NULL	NULL
,,,	
1	1
2	2
20	20
3,3	3
select to_char(name) from test1;
to_char(name)
1
2
3
3


20

NULL
NULL

select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
NULL
NULL
NULL
NULL
select to_number(name,'9999') from test1;
to_number(name,'9999')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name,'99.009') from test1;
to_number(name,'99.009')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name) from test1;
to_number(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_timestamp(name,'yy') from test1;
to_timestamp(name,'yy')
2001-04-01 00:00:00.000000
2002-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
NULL
NULL
2020-04-01 00:00:00.000000
NULL
NULL
NULL
NULL
select translate(name,'','null') from test1;
translate(name,'','null')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select translate(name,'1','=1') from test1;
translate(name,'1','=1')
=
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select group_concat(name) from test1;
group_concat(name)
1,2,3,3,,,20,,
test group by 
select name from test1 group by name ;
name
1
2
3

20
NULL
select name,c8 from test1 group by name,c8 ;
name	c8
1	NULL
2	c82
3	NULL
	NULL
	1
20	NULL
NULL	NULL
NULL	
select b.name from  (select * from test1) b left join test1 c on b.name=c.name group by b.name;
name
1
2
3

20
NULL
select name from (select * from test1 where id>3) b union select name from test1 group by name;
name
3

20
NULL
1
2
select * from test_view;
name
1
2
3

20
NULL
select c1,ca from (select name c1,  '' ca from test1 group by name) where ca is null;
c1	ca
test in and not in 
select name from test1 where name not in (1,2,'');
name
3
3
20
select name from test1 where name  in (1,2,null);
name
1
2
test set variable
set @a='';
select @a,name from test1 where name > @a;
@a	name
	1
	2
	3
	3
	20
select @a,name from test1 where @a is null;
@a	name
test table index field
select * from t1 where c2 is null;
i1	c2	descr
-1	NULL	null
-2	NULL	null 2
select * from t2 where c2 is null;
i1	c2	descr
-1	NULL	null
-2	NULL	null 2
select * from t1 where c2 is not null;
i1	c2	descr
1		empty string
2		empty string 2
select * from t2 where c2 is not null;
i1	c2	descr
1		empty string
2		empty string 2
select i1,c2,descr "off, t1.c2=" from t1 where i1 > -99 and c2='';
i1	c2	off, t1.c2=
1		empty string
2		empty string 2
select i1,c2,descr 'off, t2.c2=' from t2 where i1 > -99 and c2='';
i1	c2	off, t2.c2=
1		empty string
2		empty string 2
select i1,c2,descr 'off, t1.c2 is null' from t1 where i1 > -99 and c2 is null;
i1	c2	off, t1.c2 is null
-1	NULL	null
-2	NULL	null 2
select i1,c2,descr 'off, t2.c2 is null' from t2 where i1 > -99 and c2 is null;
i1	c2	off, t2.c2 is null
-1	NULL	null
-2	NULL	null 2
test emptystring_equal_null change between prepare/execute.
set sql_mode=@default_mode;
prepare stmt1 from 'select c2,isnull(c2),''p-off,e-on'' from t1 where c2 is null ';
set sql_mode=@default_mode_emptystring_equal_null;
execute stmt1;
c2	isnull(c2)	p-off,e-on
NULL	1	p-off,e-on
NULL	1	p-off,e-on
NULL	1	p-off,e-on
NULL	1	p-off,e-on
select c2,isnull(c2),'e-on' from t1 where c2 is null;
c2	isnull(c2)	e-on
NULL	1	e-on
NULL	1	e-on
NULL	1	e-on
NULL	1	e-on
deallocate prepare stmt1;
set sql_mode=@default_mode_emptystring_equal_null;
prepare stmt1 from 'select c2,isnull(c2),''p-on,e-off'' from t1 where c2 is null ';
set sql_mode=@default_mode;
execute stmt1;
c2	isnull(c2)	p-on,e-off
NULL	1	p-on,e-off
NULL	1	p-on,e-off
select c2,isnull(c2),'e-off' from t1 where c2 is null;
c2	isnull(c2)	e-off
NULL	1	e-off
NULL	1	e-off
deallocate prepare stmt1;
set sql_mode=@default_mode_emptystring_equal_null;
prepare stmt1 from 'select c2,isnull(c2),''p-on,e-on'' from t1 where c2 is null ';
execute stmt1;
c2	isnull(c2)	p-on,e-on
NULL	1	p-on,e-on
NULL	1	p-on,e-on
NULL	1	p-on,e-on
NULL	1	p-on,e-on
select c2,isnull(c2),'e-on' from t1 where c2 is null;
c2	isnull(c2)	e-on
NULL	1	e-on
NULL	1	e-on
NULL	1	e-on
NULL	1	e-on
deallocate prepare stmt1;
test count/min/max
set sql_mode=@default_mode_emptystring_equal_null;
select count(''),min(''),max(''),count(null),min(null),max(null) from t1;
count('')	min('')	max('')	count(null)	min(null)	max(null)
0	NULL	NULL	0	NULL	NULL
select name,count(name),count(''),count(*) from test1 group by name;
name	count(name)	count('')	count(*)
1	1	0	1
2	1	0	1
3	2	0	2
NULL	0	0	6
20	1	0	1
select '' '';
NULL
NULL
set sql_mode=@default_mode;
select count(''),min(''),max(''),count(null),min(null),max(null) from t1;
count('')	min('')	max('')	count(null)	min(null)	max(null)
4			0	NULL	NULL
select name,count(name),count(''),count(*) from test1 group by name;
name	count(name)	count('')	count(*)
1	1	1	1
2	1	1	1
3	2	2	2
	4	4	4
20	1	1	1
NULL	0	2	2
select '' '';


test ------------------------default mode add emptystring_equal_null mode; ---------------------------------
set sql_mode=@default_mode_emptystring_equal_null;
test Numerical function
select name,abs(name) from test1;
name	abs(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SQRT(name) from test1;
name	SQRT(name)
1	1
2	1.4142135623730951
3	1.7320508075688772
3	1.7320508075688772
NULL	NULL
NULL	NULL
20	4.47213595499958
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,MOD(name,1.5) from test1;
name	MOD(name,1.5)
1	1
2	0.5
3	0
3	0
NULL	NULL
NULL	NULL
20	0.5
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CEIL(name) from test1;
name	CEIL(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CEILING(name) from test1;
name	CEILING(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,FLOOR(name) from test1;
name	FLOOR(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,RAND(name) from test1;
name	RAND(name)
1	0.40540353712197724
2	0.6555866465490187
3	0.9057697559760601
3	0.9057697559760601
NULL	0.15522042769493574
NULL	0.15522042769493574
20	0.15888261251047497
NULL	0.15522042769493574
NULL	0.15522042769493574
NULL	0.15522042769493574
NULL	0.15522042769493574
select name,ROUND(name) from test1;
name	ROUND(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SIGN(name) from test1;
name	SIGN(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	1
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,POW(name,2) from test1;
name	POW(name,2)
1	1
2	4
3	9
3	9
NULL	NULL
NULL	NULL
20	400
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,POWER(name,2) from test1;
name	POWER(name,2)
1	1
2	4
3	9
3	9
NULL	NULL
NULL	NULL
20	400
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SIN(name) from test1;
name	SIN(name)
1	0.8414709848078965
2	0.9092974268256817
3	0.1411200080598672
3	0.1411200080598672
NULL	NULL
NULL	NULL
20	0.9129452507276277
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,ASIN(name) from test1;
name	ASIN(name)
1	1.5707963267948966
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,COS(name) from test1;
name	COS(name)
1	0.5403023058681398
2	-0.4161468365471424
3	-0.9899924966004454
3	-0.9899924966004454
NULL	NULL
NULL	NULL
20	0.40808206181339196
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,ACOS(name) from test1;
name	ACOS(name)
1	0
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,TAN(name) from test1;
name	TAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
select name,ATAN(name) from test1;
name	ATAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
select name,COT(name) from test1;
name	COT(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
test string function
select name,length(name) from test1;
name	length(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CONCAT(name) from test1;
name	CONCAT(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CONCAT(name,'2') from test1;
name	CONCAT(name,'2')
1	12
2	22
3	32
3	32
NULL	NULL
NULL	NULL
20	202
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,concat(name,'') from test1;
name	concat(name,'')
1	NULL
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select concat('a','') from dual;
concat('a','')
NULL
select name,INSERT(name,1,1,'+') from test1;
name	INSERT(name,1,1,'+')
1	+
2	+
3	+
3	+
NULL	NULL
NULL	NULL
20	+0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,LOWER(name) from test1;
name	LOWER(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,UPPER(name) from test1;
name	UPPER(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,LEFT(name,1) from test1;
name	LEFT(name,1)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,RIGHT(name,1) from test1;
name	RIGHT(name,1)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,TRIM(name) from test1;
name	TRIM(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,REPLACE(name,name,'') from test1;
name	REPLACE(name,name,'')
1	NULL
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SUBSTRING(name,2) from test1;
name	SUBSTRING(name,2)
1	
2	
3	
3	
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,REVERSE(name) from test1;
name	REVERSE(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	02
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select space('') from dual;
space('')
NULL
test date time funciton
select str_to_date(name, '%m/%d/%Y') from test1;
str_to_date(name, '%m/%d/%Y')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_format(name, '%Y%m%d%H%i%s') from test1;
date_format(name, '%Y%m%d%H%i%s')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select time_to_sec(name) from test1;
time_to_sec(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select sec_to_time(name) from test1;
sec_to_time(name)
00:00:01.000000
00:00:02.000000
00:00:03.000000
00:00:03.000000
NULL
NULL
00:00:20.000000
NULL
NULL
NULL
NULL
select makedate(name,31) from test1;
makedate(name,31)
2001-01-31
2002-01-31
2003-01-31
2003-01-31
NULL
NULL
2020-01-31
NULL
NULL
NULL
NULL
select maketime(name,15,31) from test1;
maketime(name,15,31)
01:15:31
02:15:31
03:15:31
03:15:31
NULL
NULL
20:15:31
NULL
NULL
NULL
NULL
select unix_timestamp(name) from test1;
unix_timestamp(name)
0.000000
0.000000
0.000000
0.000000
NULL
NULL
0.000000
NULL
NULL
NULL
NULL
select from_unixtime(name) from test1;
from_unixtime(name)
1970-01-01 03:00:01.000000
1970-01-01 03:00:02.000000
1970-01-01 03:00:03.000000
1970-01-01 03:00:03.000000
NULL
NULL
1970-01-01 03:00:20.000000
NULL
NULL
NULL
NULL
select timestamp(name) from test1;
timestamp(name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
set @dt ='';
select date_add(@dt, interval 1 day);
date_add(@dt, interval 1 day)
NULL
select convert_tz(name, '+08:00', '+00:00') from test1;
convert_tz(name, '+08:00', '+00:00')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_sub(name, interval 1 day) from test1;
date_sub(name, interval 1 day)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select timestampadd(hour, -8, name) from test1;
timestampadd(hour, -8, name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
test oracle mode ||
set sql_mode=@oracle_mode_emptystring_equal_null;
select concat('a',null) from dual;
concat('a',null)
NULL
select concat('a','') from dual;
concat('a','')
NULL
select 'a'||null from dual;
'a'||null 
a
select 'a'||'' from dual;
'a'||''
a
set sql_mode=@default_mode_emptystring_equal_null;
test statistical function
select MAX(name) from test1;
MAX(name)
3
select MIN(name) from test1;
MIN(name)
1
select COUNT(name) from test1;
COUNT(name)
5
select sum(name) from test1;
sum(name)
29
select AVG(name) from test1;
AVG(name)
5.8
select least(c5,name) from test1 ;
least(c5,name)
1
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
test CAST
SELECT CAST(name AS decimal) from test1;
CAST(name AS decimal)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
NULL
NULL
NULL
NULL
select CAST(name AS date) from test1;
CAST(name AS date)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select CAST(name AS time) from test1;
CAST(name AS time)
00:00:01
00:00:02
00:00:03
00:00:03
NULL
NULL
00:00:20
NULL
NULL
NULL
NULL
select CAST(name as binary) from test1;
CAST(name as binary)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select CAST(name as json) from test1;
CAST(name as json)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
test CONVERT
SELECT CONVERT(name , decimal) from test1;
CONVERT(name , decimal)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
test IF ,IFNULL
select name,IF(name>0,'Y','N') from test1;
name	IF(name>0,'Y','N')
1	Y
2	Y
3	Y
3	Y
NULL	N
NULL	N
20	Y
NULL	N
NULL	N
NULL	N
NULL	N
select name,IFNULL(name,'Y') from test1;
name	IFNULL(name,'Y')
1	1
2	2
3	3
3	3
NULL	Y
NULL	Y
20	20
NULL	Y
NULL	Y
NULL	Y
NULL	Y
select nullif(null,'') from dual;
nullif(null,'')
NULL
select nvl('',6) from dual;
nvl('',6)
6
select nvl(name,6) from test1;
nvl(name,6)
1
2
3
3
6
6
20
6
6
6
6
select '' is  null from dual;
'' is  null
1
select '' is not  null from dual;
'' is not  null
0
select ''  from dual;
NULL
NULL
select name is null from test1;
name is null
0
0
0
0
1
1
0
1
1
1
1
select name is not null from test1;
name is not null
1
1
1
1
0
0
1
0
0
0
0
test CASE WHEN THEN
SELECT CASE name WHEN -2 THEN 'name<0' WHEN 2 THEN 'name>0' ELSE 'other' END AS name from test1;
name
other
name>0
other
other
other
other
other
other
other
other
other
test UNION
select name from test1 union select c5 from test1;
name
1
2
3
NULL
20
c5
c510
test DISTINCT
select distinct name ,c5 from test1;
name	c5
1	c5
2	NULL
3	NULL
NULL	NULL
20	NULL
NULL	c510
select distinct name,count(name),count(''),count(*) from test1 group by name;
name	count(name)	count('')	count(*)
1	1	0	1
2	1	0	1
3	2	0	2
NULL	0	0	6
20	1	0	1
test JOIN
select * from test1 t  join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  inner join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  cross join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  straight_join test1 t1 on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t left join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
6	NULL	NULL	NULL	NULL	NULL	NULL	1	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
8	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
9	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
10	NULL	NULL	NULL	c510	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
11	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t right join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL	1	1	11.32000	NULL	c5	NULL	c71	NULL
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	6	NULL	NULL	NULL	NULL	NULL	NULL	1
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	8	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	9	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	10	NULL	NULL	NULL	c510	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	11	NULL	NULL	NULL	NULL	NULL	NULL	NULL
test INSERT INTO
insert into test1 select * from test1;
ERROR 23000: Duplicate entry '1' for key 'test1.PRIMARY'
test IN
select name from test1 where name not in (1,2,3);
name
20
select name from test1 where name  in (1,2,3);
name
1
2
3
3
test replace
replace into test1(id,name,test_dec,test_blob,c5,c6) values(8, '', NULL, NULL, '', NULL);
ERROR 23000: Column 'c5' cannot be null
test SUBQUERY
SELECT * FROM test1 WHERE name = (SELECT name FROM test1 where id=5);
id	name	test_dec	test_blob	c5	c6	c7	c8
test where
select name from test1 where name > '';
name
select name from test1 where name = '';
name
test not null field c5 in where
select * from test1 where c5 is null;
id	name	test_dec	test_blob	c5	c6	c7	c8
2	2	22.24500	NULL	NULL	2022-03-17 16:08:57	NULL	c82
3	3	3.00000	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL
5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL
6	NULL	NULL	NULL	NULL	NULL	NULL	1
7	20	NULL	NULL	NULL	NULL	NULL	NULL
8	NULL	NULL	NULL	NULL	NULL	NULL	NULL
9	NULL	NULL	NULL	NULL	NULL	NULL	NULL
11	NULL	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 where c5 is not null;
id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32000	NULL	c5	NULL	c71	NULL
10	NULL	NULL	NULL	c510	NULL	NULL	NULL
update test1 set c5='' where id=4;
ERROR 23000: Column 'c5' cannot be null
INSERT INTO `test1` VALUES (11, '', NULL, NULL, '', NULL, NULL, NULL);
ERROR 23000: Column 'c5' cannot be null
test oracmp function
select name,decode(name, '',1,2),decode(name,null,1,2) from test1;
name	decode(name, '',1,2)	decode(name,null,1,2)
1	2	2
2	2	2
3	2	2
3	2	2
NULL	1	1
NULL	1	1
20	2	2
NULL	1	1
NULL	1	1
NULL	1	1
NULL	1	1
select name,c5,decode(name, c5, 'one', 2, 'two', 'other') from test1;
name	c5	decode(name, c5, 'one', 2, 'two', 'other')
1	c5	other
2	NULL	two
3	NULL	other
3	NULL	other
NULL	NULL	one
NULL	NULL	one
20	NULL	other
NULL	NULL	one
NULL	NULL	one
NULL	c510	other
NULL	NULL	one
select name,instr(name,'1') from test1;
name	instr(name,'1')
1	1
2	0
3	0
3	0
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
explain select name,decode(name, '', 1, 2) from test1;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	test1	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	NULL
show warnings;
Level	Code	Message
Note	1003	/* select#1 */ select `test`.`test1`.`name` AS `name`,decode(`test`.`test1`.`name`,NULL,1,2) AS `decode(name, '', 1, 2)` from `test`.`test1`
explain select group_concat(name order by id ASC) gc,name from test1 group by name;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	test1	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	Using filesort
show  warnings;
Level	Code	Message
Note	1003	/* select#1 */ select group_concat(`test`.`test1`.`name` order by `test`.`test1`.`id` ASC separator ',') AS `gc`,`test`.`test1`.`name` AS `name` from `test`.`test1` group by `test`.`test1`.`name`
select group_concat(name order by id ASC) gc,name from test1 group by name;
gc	name
NULL	NULL
1	1
2	2
20	20
3,3	3
select substr(name, -90, 7) from test1;
substr(name, -90, 7)




NULL
NULL

NULL
NULL
NULL
NULL
select to_char(name) from test1;
to_char(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
NULL
NULL
NULL
NULL
select to_number(name,'9999') from test1;
to_number(name,'9999')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name,'99.009') from test1;
to_number(name,'99.009')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name) from test1;
to_number(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_timestamp(name,'yy') from test1;
to_timestamp(name,'yy')
2001-04-01 00:00:00.000000
2002-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
NULL
NULL
2020-04-01 00:00:00.000000
NULL
NULL
NULL
NULL
select translate(name,'','null') from test1;
translate(name,'','null')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select translate(name,'1','=1') from test1;
translate(name,'1','=1')
=
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select group_concat(name) from test1;
group_concat(name)
1,2,3,3,20
test group by 
select name from test1 group by name ;
name
1
2
3
NULL
20
select name,c8 from test1 group by name,c8 ;
name	c8
1	NULL
2	c82
3	NULL
NULL	NULL
NULL	1
20	NULL
select b.name from  (select * from test1) b left join test1 c on b.name=c.name group by b.name;
name
1
2
3
NULL
20
select name from (select * from test1 where id>3) b union select name from test1 group by name;
name
3
NULL
20
1
2
select * from test_view;
name
1
2
3
NULL
20
select c1,ca from (select name c1,  '' ca from test1 group by name) where ca is null;
c1	ca
1	NULL
2	NULL
3	NULL
NULL	NULL
20	NULL
test in and not in 
select name from test1 where name not in (1,2,'');
name
select name from test1 where name  in (1,2,null);
name
1
2
test set variable
set @a='';
select @a,name from test1 where name > @a;
@a	name
select @a,name from test1 where @a is null;
@a	name
NULL	1
NULL	2
NULL	3
NULL	3
NULL	NULL
NULL	NULL
NULL	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
test table index field
select * from t1 where c2 is null;
i1	c2	descr
1	NULL	empty string
2	NULL	empty string 2
-1	NULL	null
-2	NULL	null 2
select * from t2 where c2 is null;
i1	c2	descr
1	NULL	empty string
-1	NULL	null
2	NULL	empty string 2
-2	NULL	null 2
select * from t1 where c2 is not null;
i1	c2	descr
select * from t2 where c2 is not null;
i1	c2	descr
select i1,c2,descr "off, t1.c2=" from t1 where i1 > -99 and c2='';
i1	c2	off, t1.c2=
select i1,c2,descr 'off, t2.c2=' from t2 where i1 > -99 and c2='';
i1	c2	off, t2.c2=
select i1,c2,descr 'off, t1.c2 is null' from t1 where i1 > -99 and c2 is null;
i1	c2	off, t1.c2 is null
1	NULL	empty string
2	NULL	empty string 2
-1	NULL	null
-2	NULL	null 2
select i1,c2,descr 'off, t2.c2 is null' from t2 where i1 > -99 and c2 is null;
i1	c2	off, t2.c2 is null
1	NULL	empty string
-1	NULL	null
2	NULL	empty string 2
-2	NULL	null 2
test ------------------------oracle mode add  emptystring_equal_null ---------------------------------
set sql_mode=@oracle_mode_emptystring_equal_null;
test Numerical function
select name,abs(name) from test1;
name	abs(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SQRT(name) from test1;
name	SQRT(name)
1	1
2	1.4142135623730951
3	1.7320508075688772
3	1.7320508075688772
NULL	NULL
NULL	NULL
20	4.47213595499958
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,MOD(name,1.5) from test1;
name	MOD(name,1.5)
1	1
2	0.5
3	0
3	0
NULL	NULL
NULL	NULL
20	0.5
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CEIL(name) from test1;
name	CEIL(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CEILING(name) from test1;
name	CEILING(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,FLOOR(name) from test1;
name	FLOOR(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,RAND(name) from test1;
name	RAND(name)
1	0.40540353712197724
2	0.6555866465490187
3	0.9057697559760601
3	0.9057697559760601
NULL	0.15522042769493574
NULL	0.15522042769493574
20	0.15888261251047497
NULL	0.15522042769493574
NULL	0.15522042769493574
NULL	0.15522042769493574
NULL	0.15522042769493574
select name,ROUND(name) from test1;
name	ROUND(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SIGN(name) from test1;
name	SIGN(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	1
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,POW(name,2) from test1;
name	POW(name,2)
1	1
2	4
3	9
3	9
NULL	NULL
NULL	NULL
20	400
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,POWER(name,2) from test1;
name	POWER(name,2)
1	1
2	4
3	9
3	9
NULL	NULL
NULL	NULL
20	400
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SIN(name) from test1;
name	SIN(name)
1	0.8414709848078965
2	0.9092974268256817
3	0.1411200080598672
3	0.1411200080598672
NULL	NULL
NULL	NULL
20	0.9129452507276277
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,ASIN(name) from test1;
name	ASIN(name)
1	1.5707963267948966
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,COS(name) from test1;
name	COS(name)
1	0.5403023058681398
2	-0.4161468365471424
3	-0.9899924966004454
3	-0.9899924966004454
NULL	NULL
NULL	NULL
20	0.40808206181339196
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,ACOS(name) from test1;
name	ACOS(name)
1	0
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,TAN(name) from test1;
name	TAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
select name,ATAN(name) from test1;
name	ATAN(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
select name,COT(name) from test1;
name	COT(name)
1	<0>
2	<0>
3	<0>
3	<0>
NULL	<0>
NULL	<0>
20	<0>
NULL	<0>
NULL	<0>
NULL	<0>
NULL	<0>
test string function
select name,length(name) from test1;
name	length(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CONCAT(name) from test1;
name	CONCAT(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,CONCAT(name,'2') from test1;
name	CONCAT(name,'2')
1	12
2	22
3	32
3	32
NULL	NULL
NULL	NULL
20	202
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,concat(name,'') from test1;
name	concat(name,'')
1	NULL
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select concat('a','') from dual;
concat('a','')
NULL
select name,INSERT(name,1,1,'+') from test1;
name	INSERT(name,1,1,'+')
1	+
2	+
3	+
3	+
NULL	NULL
NULL	NULL
20	+0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,LOWER(name) from test1;
name	LOWER(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,UPPER(name) from test1;
name	UPPER(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,LEFT(name,1) from test1;
name	LEFT(name,1)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,RIGHT(name,1) from test1;
name	RIGHT(name,1)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,TRIM(name) from test1;
name	TRIM(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,REPLACE(name,name,'') from test1;
name	REPLACE(name,name,'')
1	NULL
2	NULL
3	NULL
3	NULL
NULL	NULL
NULL	NULL
20	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,SUBSTRING(name,2) from test1;
name	SUBSTRING(name,2)
1	
2	
3	
3	
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,REVERSE(name) from test1;
name	REVERSE(name)
1	1
2	2
3	3
3	3
NULL	NULL
NULL	NULL
20	02
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select space('') from dual;
space('')
NULL
test date time funciton
select str_to_date(name, '%m/%d/%Y') from test1;
str_to_date(name, '%m/%d/%Y')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_format(name, '%Y%m%d%H%i%s') from test1;
date_format(name, '%Y%m%d%H%i%s')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select time_to_sec(name) from test1;
time_to_sec(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select sec_to_time(name) from test1;
sec_to_time(name)
00:00:01.000000
00:00:02.000000
00:00:03.000000
00:00:03.000000
NULL
NULL
00:00:20.000000
NULL
NULL
NULL
NULL
select makedate(name,31) from test1;
makedate(name,31)
2001-01-31
2002-01-31
2003-01-31
2003-01-31
NULL
NULL
2020-01-31
NULL
NULL
NULL
NULL
select maketime(name,15,31) from test1;
maketime(name,15,31)
01:15:31
02:15:31
03:15:31
03:15:31
NULL
NULL
20:15:31
NULL
NULL
NULL
NULL
select unix_timestamp(name) from test1;
unix_timestamp(name)
0
0
0
0
NULL
NULL
0
NULL
NULL
NULL
NULL
select from_unixtime(name) from test1;
from_unixtime(name)
1970-01-01 03:00:01.000000
1970-01-01 03:00:02.000000
1970-01-01 03:00:03.000000
1970-01-01 03:00:03.000000
NULL
NULL
1970-01-01 03:00:20.000000
NULL
NULL
NULL
NULL
select timestamp(name) from test1;
timestamp(name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
set @dt ='';
select date_add(@dt, interval 1 day);
date_add(@dt, interval 1 day)
NULL
select convert_tz(name, '+08:00', '+00:00') from test1;
convert_tz(name, '+08:00', '+00:00')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select date_sub(name, interval 1 day) from test1;
date_sub(name, interval 1 day)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select timestampadd(hour, -8, name) from test1;
timestampadd(hour, -8, name)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
test oracle mode ||
select concat('a',null) from dual;
concat('a',null)
NULL
select concat('a','') from dual;
concat('a','')
NULL
select 'a'||null from dual;
'a'||null 
a
select 'a'||'' from dual;
'a'||''
a
test statistical function
select MAX(name) from test1;
MAX(name)
3
select MIN(name) from test1;
MIN(name)
1
select COUNT(name) from test1;
COUNT(name)
5
select sum(name) from test1;
sum(name)
29
select AVG(name) from test1;
AVG(name)
5.8
select least(c5,name) from test1 ;
least(c5,name)
1
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
test CAST
SELECT CAST(name AS decimal) from test1;
CAST(name AS decimal)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
NULL
NULL
NULL
NULL
select CAST(name AS date) from test1;
CAST(name AS date)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select CAST(name AS time) from test1;
CAST(name AS time)
00:00:01
00:00:02
00:00:03
00:00:03
NULL
NULL
00:00:20
NULL
NULL
NULL
NULL
select CAST(name as binary) from test1;
CAST(name as binary)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select CAST(name as json) from test1;
CAST(name as json)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
test CONVERT
SELECT CONVERT(name , decimal) from test1;
CONVERT(name , decimal)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
test IF ,IFNULL
select name,IF(name>0,'Y','N') from test1;
name	IF(name>0,'Y','N')
1	Y
2	Y
3	Y
3	Y
NULL	N
NULL	N
20	Y
NULL	N
NULL	N
NULL	N
NULL	N
select name,IFNULL(name,'Y') from test1;
name	IFNULL(name,'Y')
1	1
2	2
3	3
3	3
NULL	Y
NULL	Y
20	20
NULL	Y
NULL	Y
NULL	Y
NULL	Y
select nullif(null,'') from dual;
nullif(null,'')
NULL
select nvl('',6) from dual;
nvl('',6)
6
select nvl(name,6) from test1;
nvl(name,6)
1
2
3
3
6
6
20
6
6
6
6
select '' is  null from dual;
'' is  null 
1
select '' is not  null from dual;
'' is not  null 
0
select ''  from dual;
NULL
NULL
select name is null from test1;
name is null 
0
0
0
0
1
1
0
1
1
1
1
select name is not null from test1;
name is not null 
1
1
1
1
0
0
1
0
0
0
0
test CASE WHEN THEN
SELECT CASE name WHEN -2 THEN 'name<0' WHEN 2 THEN 'name>0' ELSE 'other' END AS name from test1;
name
other
name>0
other
other
other
other
other
other
other
other
other
test UNION
select name from test1 union select c5 from test1;
name
1
2
3
NULL
20
c5
c510
test DISTINCT
select distinct name ,c5 from test1;
name	c5
1	c5
2	NULL
3	NULL
NULL	NULL
20	NULL
NULL	c510
test JOIN
select * from test1 t  join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  inner join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  cross join test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t  straight_join test1 t1 on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t left join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
6	NULL	NULL	NULL	NULL	NULL	NULL	1	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
8	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
9	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
10	NULL	NULL	NULL	c510	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
11	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 t right join  test1 t1  on t.name = t1.name;
id	name	test_dec	test_blob	c5	c6	c7	c8	id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL	1	1	11.32	NULL	c5	NULL	c71	NULL
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82	2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
4	3	NULL	NULL	NULL	NULL	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL	4	3	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	6	NULL	NULL	NULL	NULL	NULL	NULL	1
7	20	NULL	NULL	NULL	NULL	NULL	NULL	7	20	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	8	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	9	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	10	NULL	NULL	NULL	c510	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	11	NULL	NULL	NULL	NULL	NULL	NULL	NULL
test INSERT INTO
insert into test1 select * from test1;
ERROR 23000: Duplicate entry '1' for key 'test1.PRIMARY'
test IN
select name from test1 where name not in (1,2,3);
name
20
select name from test1 where name  in (1,2,3);
name
1
2
3
3
test replace
replace into test1(id,name,test_dec,test_blob,c5,c6) values(8, '', NULL, NULL, '', NULL);
ERROR 23000: Column 'c5' cannot be null
test SUBQUERY
SELECT * FROM test1 WHERE name = (SELECT name FROM test1 where id=5);
id	name	test_dec	test_blob	c5	c6	c7	c8
test where
select name from test1 where name > '';
name
select name from test1 where name = '';
name
test not null field c5 in where
select * from test1 where c5 is null;
id	name	test_dec	test_blob	c5	c6	c7	c8
2	2	22.245	NULL	NULL	2022-03-17 16:08:57	NULL	c82
3	3	3	NULL	NULL	2022-03-17 16:04:15	NULL	NULL
4	3	NULL	NULL	NULL	NULL	NULL	NULL
5	NULL	NULL	NULL	NULL	2022-03-09 16:04:19	NULL	NULL
6	NULL	NULL	NULL	NULL	NULL	NULL	1
7	20	NULL	NULL	NULL	NULL	NULL	NULL
8	NULL	NULL	NULL	NULL	NULL	NULL	NULL
9	NULL	NULL	NULL	NULL	NULL	NULL	NULL
11	NULL	NULL	NULL	NULL	NULL	NULL	NULL
select * from test1 where c5 is not null;
id	name	test_dec	test_blob	c5	c6	c7	c8
1	1	11.32	NULL	c5	NULL	c71	NULL
10	NULL	NULL	NULL	c510	NULL	NULL	NULL
update test1 set c5='' where id=4;
ERROR 23000: Column 'c5' cannot be null
INSERT INTO `test1` VALUES (11, '', NULL, NULL, '', NULL, NULL, NULL);
ERROR 23000: Column 'c5' cannot be null
test oracmp function
select name,c5,decode(name, c5, 'one', 2, 'two', 'other') from test1;
name	c5	decode(name, c5, 'one', 2, 'two', 'other')
1	c5	other
2	NULL	two
3	NULL	other
3	NULL	other
NULL	NULL	one
NULL	NULL	one
20	NULL	other
NULL	NULL	one
NULL	NULL	one
NULL	c510	other
NULL	NULL	one
select name,instr(name,'1') from test1;
name	instr(name,'1')
1	1
2	0
3	0
3	0
NULL	NULL
NULL	NULL
20	0
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,length(name) from test1;
name	length(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
select name,lengthb(name) from test1;
name	lengthb(name)
1	1
2	1
3	1
3	1
NULL	NULL
NULL	NULL
20	2
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
explain select group_concat(name order by id ASC) gc,name from test1 group by name;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	test1	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	Using filesort
show  warnings;
Level	Code	Message
Note	1003	/* select#1 */ select group_concat("test"."test1"."name" order by "test"."test1"."id" ASC separator ',') AS "gc","test"."test1"."name" AS "name" from "test"."test1" group by "test"."test1"."name"
select group_concat(name order by id ASC) gc,name from test1 group by name;
gc	name
NULL	NULL
1	1
2	2
20	20
3,3	3
select substr(name, -90, 7) from test1;
substr(name, -90, 7)




NULL
NULL

NULL
NULL
NULL
NULL
select to_char(name) from test1;
to_char(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_date(name,'yyyy') from test1;
to_date(name,'yyyy')
0001-04-01 00:00:00
0002-04-01 00:00:00
0003-04-01 00:00:00
0003-04-01 00:00:00
NULL
NULL
0020-04-01 00:00:00
NULL
NULL
NULL
NULL
select to_number(name,'9999') from test1;
to_number(name,'9999')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name,'99.009') from test1;
to_number(name,'99.009')
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_number(name) from test1;
to_number(name)
1
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select to_timestamp(name,'yy') from test1;
to_timestamp(name,'yy')
2001-04-01 00:00:00.000000
2002-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
2003-04-01 00:00:00.000000
NULL
NULL
2020-04-01 00:00:00.000000
NULL
NULL
NULL
NULL
select translate(name,'','null') from test1;
translate(name,'','null')
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select translate(name,'1','=1') from test1;
translate(name,'1','=1')
=
2
3
3
NULL
NULL
20
NULL
NULL
NULL
NULL
select group_concat(name) from test1;
group_concat(name)
1,2,3,3,20
test group by 
select name from test1 group by name ;
name
1
2
3
NULL
20
select name,c8 from test1 group by name,c8 ;
name	c8
1	NULL
2	c82
3	NULL
NULL	NULL
NULL	1
20	NULL
select b.name from  (select * from test1) b left join test1 c on b.name=c.name group by b.name;
name
1
2
3
NULL
20
select name from (select * from test1 where id>3) b union select name from test1 group by name;
name
3
NULL
20
1
2
select * from test_view;
name
1
2
3
NULL
20
test in and not in 
select name from test1 where name not in (1,2,'');
name
select name from test1 where name  in (1,2,null);
name
1
2
test set variable
set @a='';
select @a,name from test1 where name > @a;
@a	name
select @a,name from test1 where @a is null;
@a	name
NULL	1
NULL	2
NULL	3
NULL	3
NULL	NULL
NULL	NULL
NULL	20
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
test table index field
select * from t1 where c2 is null;
i1	c2	descr
1	NULL	empty string
2	NULL	empty string 2
-1	NULL	null
-2	NULL	null 2
select * from t2 where c2 is null;
i1	c2	descr
1	NULL	empty string
-1	NULL	null
2	NULL	empty string 2
-2	NULL	null 2
select * from t1 where c2 is not null;
i1	c2	descr
select * from t2 where c2 is not null;
i1	c2	descr
select i1,c2,descr "on, t1.c2=" from t1 where i1 > -99 and c2='';
i1	c2	on, t1.c2=
select i1,c2,descr 'on, t2.c2=' from t2 where i1 > -99 and c2='';
i1	c2	on, t2.c2=
select i1,c2,descr 'on, t1.c2 is null' from t1 where i1 > -99 and c2 is null;
i1	c2	on, t1.c2 is null
1	NULL	empty string
2	NULL	empty string 2
-1	NULL	null
-2	NULL	null 2
select i1,c2,descr 'on, t2.c2 is null' from t2 where i1 > -99 and c2 is null;
i1	c2	on, t2.c2 is null
1	NULL	empty string
-1	NULL	null
2	NULL	empty string 2
-2	NULL	null 2
set sql_mode=default;
current behavior
create table t3 as select * from t1;
select will output as the data is, no ''/null translation
select *,'off,select' from t3;
i1	c2	descr	off,select
1		empty string	off,select
-1	NULL	null	off,select
2		empty string 2	off,select
-2	NULL	null 2	off,select
set sql_mode=@default_mode_emptystring_equal_null;
select *,'on,select' from t3;
i1	c2	descr	on,select
1	NULL	empty string	on,select
-1	NULL	null	on,select
2	NULL	empty string 2	on,select
-2	NULL	null 2	on,select
set sql_mode=@default_mode;
update may do ''/null translation
set sql_mode=@default_mode_emptystring_equal_null;
update t3 set c2=c2;
select *,'on,update c2=c2' from t3;
i1	c2	descr	on,update c2=c2
1	NULL	empty string	on,update c2=c2
-1	NULL	null	on,update c2=c2
2	NULL	empty string 2	on,update c2=c2
-2	NULL	null 2	on,update c2=c2
set sql_mode=@default_mode;
create table x select * from xxx
set sql_mode=@default_mode_emptystring_equal_null;
drop table t3;
create table t3 as select * from t1;
select *,'on,create as select' from t3;
i1	c2	descr	on,create as select
1	NULL	empty string	on,create as select
-1	NULL	null	on,create as select
2	NULL	empty string 2	on,create as select
-2	NULL	null 2	on,create as select
drop table es1;
drop table lob1;
drop table test2;
drop table test1;
drop view  test_view;
drop table t1;
drop table t2;
drop table t3;
