create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',2003);
insert into account values('peter2004',2004);
insert into account values('peter2005',2005);
insert into account values('peter2006',2006);
insert into account values('peter2007',null);
set sql_mode=oracle;
explain format=tree select * from account where lnnvl(name like '%2004%') and lnnvl(year is null);
EXPLAIN
-> Filter: (lnnvl(("account"."name" like '%2004%')) and lnnvl(("account"."year" is null)))  (cost=*** rows=***)
    -> Table scan on account  (cost=*** rows=***)

explain format=tree select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0) and a.name ='peter2003';
EXPLAIN
-> Filter: (lnnvl((not((b."name" like '%2004%')))) or lnnvl((a."year" like '%lnnvl%')))  (cost=*** rows=***)
    -> Inner hash join (no condition)  (cost=*** rows=***)
        -> Table scan on b  (cost=*** rows=***)
        -> Hash
            -> Filter: ((a."name" = 'peter2003') and lnnvl((a."name" is null)) and lnnvl((a."year" = 0.000000000000000000000000000000)))  (cost=*** rows=***)
                -> Table scan on a  (cost=*** rows=***)

explain format=tree select * from account a,account b where (lnnvl(b.name = a.name) or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
EXPLAIN
-> Filter: (lnnvl((b."name" = a."name")) or lnnvl((a."year" like '%lnnvl%')))  (cost=*** rows=***)
    -> Inner hash join (no condition)  (cost=*** rows=***)
        -> Table scan on b  (cost=*** rows=***)
        -> Hash
            -> Filter: (lnnvl((a."name" is null)) and lnnvl((a."year" = 0.000000000000000000000000000000)))  (cost=*** rows=***)
                -> Table scan on a  (cost=*** rows=***)

set sql_mode=oracle;
set @mytest=2001;
select * from account where lnnvl(@mytest<>2001);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(2001<>2001);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(@mytest=2001);
name	year
select * from account where lnnvl(2001=2001);
name	year
select * from account where lnnvl(year<=@mytest);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year<=2001);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
declare
my_var int;
my_var2 varchar(256);
begin
my_var:=1;
my_var2:='2004';
select * from account where lnnvl(my_var>year);
select * from account where lnnvl(my_var+2000>year);
select * from account where lnnvl(name not like '%'||my_var2||'%') and lnnvl(year like '%lnnvl%') and lnnvl(year is null);
select * from account where lnnvl(name not like '%'||my_var2||'%') and lnnvl(year like '%lnnvl%') and lnnvl(year is null) and year=0;
end;
//
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2004	2004
name	year
create or replace procedure p1() AS
my_var int;
my_var2 varchar(256);
begin
my_var:=1;
my_var2:='2004';
select * from account where lnnvl(my_var>year);
select * from account where lnnvl(my_var+2000>year);
select * from account where lnnvl(name not like '%'||my_var2||'%') and lnnvl(year like '%lnnvl%') and lnnvl(year is null);
select * from account where lnnvl(name not like '%'||my_var2||'%') and lnnvl(year like '%lnnvl%') and lnnvl(year is null) and year=0;
end;
//
call p1()//
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2004	2004
name	year
call p1()//
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
name	year
peter2004	2004
name	year
drop procedure p1//
create table t1(ida int, age int, name varchar(10));
insert into t1 values(1, 2, '');
insert into t1 values(NULL, 2, 'a');
insert into t1 values(3, 2, 'b');
create table t2(ida int, age int, name varchar(10));
insert into t2 values(1, 2, '');
insert into t2 values(2, 2, 'a');
insert into t2 values(3, 1, 'b');
create table t3(ida int, age int, name varchar(10));
insert into t3 values(2, 3, 'a');
insert into t3 values(5, NULL, '');
select * from t1, t2 where lnnvl(t1.ida like t2.ida(+));
ida	age	name	ida	age	name
1	2		3	1	b
1	2		2	2	a
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	
3	2	b	2	2	a
3	2	b	1	2	
select * from t1, t2 where lnnvl(t1.ida < t2.ida(+)+t2.age(+));
ida	age	name	ida	age	name
1	2		NULL	NULL	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	
3	2	b	1	2	
select * from t1, t2 where lnnvl(t1.ida = t2.ida(+));
ida	age	name	ida	age	name
1	2		3	1	b
1	2		2	2	a
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	
3	2	b	2	2	a
3	2	b	1	2	
select * from t1, t2 where lnnvl(t1.ida = t2.ida(+)) and t2.ida=1;
ida	age	name	ida	age	name
NULL	2	a	1	2	
3	2	b	1	2	
select * from t1, t2 where lnnvl(t1.age(+) < t2.age) and t2.name = 'cc';
ida	age	name	ida	age	name
select * from t1, t2, t3 where lnnvl(t3.age < 5)  and lnnvl(t2.age(+) = t1.age) and t2.ida < t3.ida(+);
ida	age	name	ida	age	name	ida	age	name
1	2		3	1	b	5	NULL	
NULL	2	a	3	1	b	5	NULL	
3	2	b	3	1	b	5	NULL	
select * from t1, t2, t3 where lnnvl(t3.age < 5)  and lnnvl(t2.age(+) = t1.age) and lnnvl(t2.ida < t3.ida(+));
ida	age	name	ida	age	name	ida	age	name
select * from t1, t2 where lnnvl(t1.ida(+)>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	
1	2		1	2	
NULL	2	a	2	2	a
1	2		2	2	a
NULL	2	a	3	1	b
1	2		3	1	b
drop table t1;
drop table t2;
drop table t3;
CREATE TABLE student (
id       INT,
name  VARCHAR(10),
grade INT
);
INSERT INTO student VALUES(1, 'John', NULL);
INSERT INTO student VALUES(2, 'Paul', 1);
INSERT INTO student VALUES(3, 'Nancy', 1);
INSERT INTO student VALUES(4, 'Sarah', 3);
select id, name, grade, level from student where lnnvl(id=1) connect by prior id=grade order by id,name;
id	name	grade	level 
2	Paul	1	2
2	Paul	1	1
3	Nancy	1	2
3	Nancy	1	1
4	Sarah	3	3
4	Sarah	3	2
4	Sarah	3	1
select id, name, grade, level from student where lnnvl(id=1) and name = 'Nancy' connect by prior id=grade order by id,name;
id	name	grade	level 
3	Nancy	1	2
3	Nancy	1	1
create table m1(grade int,name varchar2(200));
insert into m1 values(1, 'test1');
insert into m1 values(2, 'test2');
insert into m1 values(3, 'test3');
insert into m1 values(4, 'test4');
insert into m1 values(5, 'test5');
create table m2(id int,grade int);
insert into m2 values(1, -1);
insert into m2 values(2, 1);
insert into m2 values(3, 1);
insert into m2 values(4, 2);
select m2.id , m2.grade, m1.name  from m2,m1 where lnnvl(m2.id = m1.grade) connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test2
1	-1	test3
1	-1	test4
1	-1	test5
2	1	test1
2	1	test1
2	1	test1
2	1	test1
2	1	test1
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test4
2	1	test4
2	1	test4
2	1	test4
2	1	test4
2	1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
3	1	test1
3	1	test1
3	1	test1
3	1	test1
3	1	test1
3	1	test2
3	1	test2
3	1	test2
3	1	test2
3	1	test2
3	1	test4
3	1	test4
3	1	test4
3	1	test4
3	1	test4
3	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
select m2.id , m2.grade, m1.name,count(*) from m2,m1 where lnnvl(m2.id = m1.grade) connect by prior m2.id = m2.grade group by m2.id , m2.grade, m1.name order by m2.id , m2.grade, m1.name;
id	grade	name	count(*)
1	-1	test2	1
1	-1	test3	1
1	-1	test4	1
1	-1	test5	1
2	1	test1	5
2	1	test3	5
2	1	test4	5
2	1	test5	5
3	1	test1	5
3	1	test2	5
3	1	test4	5
3	1	test5	5
4	2	test1	21
4	2	test2	21
4	2	test3	21
4	2	test5	21
select count(*) from m2,m1 where lnnvl(m2.id = m1.grade) connect by prior m2.id = m2.grade;
count(*)
128
select m2.id , m2.grade, m1.name  from m2,m1 where lnnvl(m2.id = m1.grade) and m1.name='test3' connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
select m2.id , m2.grade, m1.name  from m2,m1 where (lnnvl(m2.id = m1.grade) or m1.grade=5)  connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
select m2.id , m2.grade, m1.name  from m2,m1 where (lnnvl(m2.id = m1.grade) or m1.grade=5) and m1.name='test5' connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
select m2.id , m2.grade, m1.name  from m2,m1 where (lnnvl(m2.id = m1.grade) or m1.grade=5) and m1.name='test1' connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
select m2.id , m2.grade, m1.name  from m2 join m1 on lnnvl(m2.id = m1.grade) connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test2
1	-1	test3
1	-1	test4
1	-1	test5
2	1	test1
2	1	test1
2	1	test1
2	1	test1
2	1	test1
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test4
2	1	test4
2	1	test4
2	1	test4
2	1	test4
2	1	test5
2	1	test5
2	1	test5
2	1	test5
2	1	test5
3	1	test1
3	1	test1
3	1	test1
3	1	test1
3	1	test1
3	1	test2
3	1	test2
3	1	test2
3	1	test2
3	1	test2
3	1	test4
3	1	test4
3	1	test4
3	1	test4
3	1	test4
3	1	test5
3	1	test5
3	1	test5
3	1	test5
3	1	test5
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test1
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test2
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
4	2	test5
select count(*)  from m2 join m1 on lnnvl(m2.id = m1.grade) connect by prior m2.id = m2.grade;
count(*)
128
select m2.id , m2.grade, m1.name  from m2 join m1 on lnnvl(m2.id = m1.grade) where m1.name='test3' connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
select m2.id , m2.grade, m1.name  from m2 join m1 on (lnnvl(m2.id = m1.grade) or m1.grade=5) where m1.name='test3' connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
1	-1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
select m2.id , m2.grade, m1.name  from m2 join m1 on (lnnvl(m2.id = m1.grade) or m1.grade=5) where m1.name='test3' and m2.grade=2 connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
4	2	test3
select m2.id , m2.grade, m1.name  from m2 join m1 on (lnnvl(m2.id = m1.grade) or m1.grade=5) where m1.name='test3' and m2.grade=1 connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
select m2.id , m2.grade, m1.name  from m2 join m1 on (lnnvl(m2.id = m1.grade) or m1.grade=5) where m1.name='test3' and lnnvl(m2.grade<>1) connect by prior m2.id = m2.grade order by id,grade,name;
id	grade	name
2	1	test3
2	1	test3
2	1	test3
2	1	test3
2	1	test3
drop table m1;
drop table m2;
drop table student;
drop table account;
create table account(name varchar(20),year number);
delete from account;
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
select * from account where lnnvl(year=2002);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year!=2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<>2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year>2002);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year>=2002);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<=2002);
name	year
peter2003	NULL
select * from account where lnnvl(year in(2002));
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year not in(2002));
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year=2003);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year!=2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<>2003);
name	year
peter2003	NULL
select * from account where lnnvl(year>2003);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year>=2003);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<=2003);
name	year
peter2003	NULL
select * from account where lnnvl(year in(2003));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year not in(2003));
name	year
peter2003	NULL
select * from account where lnnvl(year=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year!=2004);
name	year
peter2003	NULL
select * from account where lnnvl(year<>2004);
name	year
peter2003	NULL
select * from account where lnnvl(year>2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year>=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<2004);
name	year
peter2003	NULL
select * from account where lnnvl(year<=2004);
name	year
peter2003	NULL
select * from account where lnnvl(year in(2004));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year not in(2004));
name	year
peter2003	NULL
select * from account where lnnvl(!year);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
Warnings:
Warning	1287	'!' is deprecated and will be removed in a future release. Please use NOT instead
select * from account where lnnvl(not(year));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
select * from account where lnnvl(0=(year));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
select * from account where lnnvl(0=year);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
select * from account where lnnvl(not(year=2002));
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(0!=(year-2002));
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year!=2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(not(year-2002));
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(0=(year-2002));
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=2002);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(not(not(year-2002)));
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year!=2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(not(year+1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(0=(year+1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(null is null);
name	year
select * from account where lnnvl(null is not null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(1>1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(1>null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where (1=null);
name	year
select * from account where (null=null);
name	year
select * from account where (null is null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where (null is not null);
name	year
select * from account where (null is null) and name = 'peter2003';
name	year
peter2003	NULL
select * from account where (null is not null) and name = 'peter2003';
name	year
select * from account where (year <> null);
name	year
select * from account where (year = null);
name	year
select * from account where (year = null) and name = 'peter2003';
name	year
select * from account where (year is null);
name	year
peter2003	NULL
select * from account where (year is not null) and name = 'peter2002';
name	year
peter2002	2002
select * from account where (year is not null) and name = 'peter2003';
name	year
select * from account where lnnvl(name<>'peter2003');
name	year
peter2003	NULL
select * from account where lnnvl(name='peter2003') and year=1;
name	year
peter2004B	1
select * from account where lnnvl(year > 2001);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year < least(2001,1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
select * from account where lnnvl(year > least(2001,1));
name	year
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year < length(length(1)));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004B	1
select * from account a where exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1);
name	year
peter2004B	1
select * from account a where exists (select 1 from account b where lnnvl(a.year=b.year));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1) and year=1;
name	year
peter2004B	1
select * from account a where exists (select 1 from account b where lnnvl(a.year=b.year)) and year=1;
name	year
peter2004B	1
select * from account a where not exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account a where not exists (select 1 from account b where lnnvl(a.year=b.year));
name	year
select * from account a where not exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1) and year=1;
name	year
select * from account a where not exists (select 1 from account b where lnnvl(a.year=b.year)) and year=1;
name	year
select * from account a where not exists (select 1 from account b where a.year=b.year and a.year=1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account a where not exists (select 1 from account b where a.year=b.year);
name	year
peter2003	NULL
set sql_mode=oracle;
select * from account where lnnvl(year = (select 2001 from dual));
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year != (select 2001 from dual));
name	year
peter2001	2001
peter2003	NULL
select * from account where lnnvl(year = (select * from (select year from account where year is not null order by year desc) where rownum<=1));
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl((select 2001 from dual) = (select 2001 from dual));
name	year
select * from account where lnnvl((select 2001 from dual)+1 = (select 2001 from dual));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = (select 2001 from dual union select 1 from dual));
ERROR 21000: Subquery returns more than 1 row
select * from account where lnnvl((select * from (select year from account order by year) where rownum<=1)<2001);
name	year
select * from account where lnnvl((select * from (select year from account order by year) where rownum<=1)>2001);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl((select * from (select year from account where year is not null order by year desc) where rownum<=1)=2001+1);
name	year
select * from account where lnnvl((select * from (select year from account where year is not null order by year desc) where rownum<=1)=year);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl((select * from (select year from account where year is not null order by year desc) where rownum<=1)=year+1);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = (select year from account where lnnvl(name='peter2003') and year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account where lnnvl(year <> (select year from account where lnnvl(name='peter2003') and year=1));
name	year
peter2003	NULL
peter2004B	1
select * from account where lnnvl(name = (select name from account where lnnvl(name<>'peter2003')));
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(name <> (select name from account where lnnvl(name<>'peter2003')));
name	year
peter2003	NULL
select * from account where lnnvl(year = (select 1 from account a where exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1)));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account where lnnvl(year = (select 1 from account a where exists (select 1 from account b where lnnvl(a.year=b.year))));
ERROR 21000: Subquery returns more than 1 row
select * from account where lnnvl(year = (select 1 from account a where exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1) and year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account where lnnvl(year = (select 1 from account a where exists (select 1 from account b where lnnvl(a.year=b.year)) and year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account where lnnvl(year = (select 1 from account a where not exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1)));
ERROR 21000: Subquery returns more than 1 row
select * from account where lnnvl(year = (select 1 from account a where not exists (select 1 from account b where lnnvl(a.year=b.year))));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = (select 1 from account a where not exists (select 1 from account b where lnnvl(a.year=b.year) and a.year=1) and year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = (select 1 from account a where not exists (select 1 from account b where lnnvl(a.year=b.year)) and year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(name like '%test%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%test%');
name	year
select * from account where lnnvl(not(name like '%2004%'));
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%');
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name like '%'||to_char(2004)||'%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year not like '%lnnvl(year>2004)%');
name	year
peter2003	NULL
select * from account where lnnvl(year not like '%lnnvl%');
name	year
peter2003	NULL
select * from account where lnnvl(year like '%lnnvl%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year like '%1%');
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account where lnnvl(year not like '%1%');
name	year
peter2001	2001
peter2003	NULL
peter2004B	1
set sql_mode=default;
select * from account where lnnvl(1>1);
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
select * from account where lnnvl(year>2001);
name	year
peter2001	2001.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
set sql_mode=oracle;
select * from account where lnnvl(1>1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year>2001);
name	year
peter2001	2001
peter2003	NULL
peter2004A	0
peter2004B	1
set sql_mode=default;
select * from account where lnnvl(year>2004)||1;
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
Warnings:
Warning	1287	'|| as a synonym for OR' is deprecated and will be removed in a future release. Please use OR instead
select * from account where lnnvl(year>2004) or 1;
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
select * from account where 1||lnnvl(year>2004);
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
Warnings:
Warning	1287	'|| as a synonym for OR' is deprecated and will be removed in a future release. Please use OR instead
select * from account where 1 or lnnvl(year>2004);
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
select * from account where lnnvl(year>2004)||lnnvl(name<>'peter2003');
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
Warnings:
Warning	1287	'|| as a synonym for OR' is deprecated and will be removed in a future release. Please use OR instead
select * from account where lnnvl(year>2004) or lnnvl(name<>'peter2003');
name	year
peter2001	2001.000000000000000000000000000000
peter2002	2002.000000000000000000000000000000
peter2003	NULL
peter2004A	0.000000000000000000000000000000
peter2004B	1.000000000000000000000000000000
select * from account where (lnnvl(year>2004)||lnnvl(name<>'peter2003')) and name='peter2004A';
name	year
peter2004A	0.000000000000000000000000000000
Warnings:
Warning	1287	'|| as a synonym for OR' is deprecated and will be removed in a future release. Please use OR instead
select * from account where (lnnvl(year>2004) or lnnvl(name<>'peter2003')) and name='peter2004A';
name	year
peter2004A	0.000000000000000000000000000000
select * from account where (lnnvl(year>2004)&&lnnvl(name<>'peter2003')) and name='peter2004A';
name	year
Warnings:
Warning	1287	'&&' is deprecated and will be removed in a future release. Please use AND instead
select * from account where (lnnvl(year>2004) and lnnvl(name<>'peter2003')) and name='peter2004A';
name	year
select * from account where (lnnvl(year>2004)&&lnnvl(name<>'peter2003'));
name	year
peter2003	NULL
Warnings:
Warning	1287	'&&' is deprecated and will be removed in a future release. Please use AND instead
set sql_mode=oracle;
select * from account where name = 'peter2003';
name	year
peter2003	NULL
select * from account where name = 'peter2003' and year is null;
name	year
peter2003	NULL
select * from account where name = 'peter2001' or year is null;
name	year
peter2001	2001
peter2003	NULL
select * from account where lnnvl(year=2001) and year=1;
name	year
peter2004B	1
select * from account where lnnvl(year=2001) or year=1;
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where (lnnvl(year=2001) or year=1);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where (lnnvl(year=2001) or year=1) and year is null;
name	year
peter2003	NULL
select * from account where (lnnvl(year=2001) or year=1) and year is not null;
name	year
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where (lnnvl(year=2001) or year=1) and year = 2001;
name	year
select * from account where (lnnvl(year=2001) or year=1) and year = 2002;
name	year
peter2002	2002
select * from account where (lnnvl(year=2001) or year=1) and name like '%2004%';
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<>2002);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<>2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(year<>2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(name='peter2002');
name	year
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(name<>'peter2002');
name	year
peter2002	2002
select * from account where lnnvl(year<>2002) and lnnvl(year<>2003) and year is null;
name	year
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(year<>2003) and year is not null;
name	year
select * from account where lnnvl(year<>2002) or lnnvl(year<>2003);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<>2002) and name = 'peter2002';
name	year
peter2002	2002
select * from account where lnnvl(year<>2002) or name = 'peter2002';
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(year<>2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<>2002) and lnnvl(name<>'peter2002');
name	year
peter2002	2002
select * from account a,account b where lnnvl(a.year<>b.year) order by a.name;
name	year	name	year
peter2001	2001	peter2001	2001
peter2001	2001	peter2003	NULL
peter2002	2002	peter2002	2002
peter2002	2002	peter2003	NULL
peter2003	NULL	peter2001	2001
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2004B	1
peter2004A	0	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004B	1	peter2003	NULL
peter2004B	1	peter2004B	1
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004B	1	peter2004B	1
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name) and b.year!=0;
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2004B	1	peter2004B	1
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name like b.name);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2003	NULL	peter2002	2002
peter2004B	1	peter2003	NULL
peter2004A	0	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2001	2001	peter2003	NULL
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2004B	1
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name not like b.name);
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004B	1	peter2004B	1
select * from account a,account b where lnnvl(a.year is null) and lnnvl(b.name is not null);
name	year	name	year
select * from account a,account b where lnnvl(a.year is null) and lnnvl(b.name is null);
name	year	name	year
peter2004B	1	peter2001	2001
peter2004A	0	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2004B	1	peter2002	2002
peter2004A	0	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2004B	1	peter2003	NULL
peter2004A	0	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2001	2001	peter2003	NULL
peter2004B	1	peter2004A	0
peter2004A	0	peter2004A	0
peter2002	2002	peter2004A	0
peter2001	2001	peter2004A	0
peter2004B	1	peter2004B	1
peter2004A	0	peter2004B	1
peter2002	2002	peter2004B	1
peter2001	2001	peter2004B	1
select * from account a,account b where lnnvl(b.name not like '%2004%') and lnnvl(a.year like '%lnnvl%') and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
peter2004B	1	peter2004A	0
peter2003	NULL	peter2004A	0
peter2002	2002	peter2004A	0
peter2001	2001	peter2004A	0
peter2004B	1	peter2004B	1
peter2003	NULL	peter2004B	1
peter2002	2002	peter2004B	1
peter2001	2001	peter2004B	1
select * from account a,account b where lnnvl(b.name not like '%2004%') and lnnvl(a.year like '%lnnvl%') and lnnvl(a.name is null) and lnnvl(a.year=0) and a.name ='peter2003';
name	year	name	year
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2004B	1
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
peter2004B	1	peter2001	2001
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2004B	1	peter2002	2002
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2004B	1	peter2003	NULL
peter2003	NULL	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2001	2001	peter2003	NULL
peter2004B	1	peter2004A	0
peter2003	NULL	peter2004A	0
peter2002	2002	peter2004A	0
peter2001	2001	peter2004A	0
peter2004B	1	peter2004B	1
peter2003	NULL	peter2004B	1
peter2002	2002	peter2004B	1
peter2001	2001	peter2004B	1
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0) and a.name ='peter2003';
name	year	name	year
peter2003	NULL	peter2001	2001
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2004B	1
select * from account a,account b where (lnnvl(b.name = a.name) or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
peter2004B	1	peter2001	2001
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2004B	1	peter2002	2002
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2004B	1	peter2003	NULL
peter2003	NULL	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2001	2001	peter2003	NULL
peter2004B	1	peter2004A	0
peter2003	NULL	peter2004A	0
peter2002	2002	peter2004A	0
peter2001	2001	peter2004A	0
peter2004B	1	peter2004B	1
peter2003	NULL	peter2004B	1
peter2002	2002	peter2004B	1
peter2001	2001	peter2004B	1
select * from account a,account b where (lnnvl(b.name = a.name) or lnnvl(a.year like '%lnnvl%')) and b.year=1;
name	year	name	year
peter2001	2001	peter2004B	1
peter2002	2002	peter2004B	1
peter2003	NULL	peter2004B	1
peter2004A	0	peter2004B	1
peter2004B	1	peter2004B	1
select * from account where lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year is null) and lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
select * from account where lnnvl(name like '%2004%') and lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
select * from account where lnnvl(name like '%2004%') or lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is null) or lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year is null);
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is null) and lnnvl(name not like '%2004%');
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name like '%2004%') and lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(name like '%2004%') and lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year is not null) and lnnvl(year = 2001);
name	year
peter2003	NULL
select * from account where lnnvl(year = 2001) and lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(name not like '%2004%');
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year is null);
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year is not null);
name	year
select * from account where lnnvl(name like '%2004%') and lnnvl(year not like '%lnnvl%');
name	year
peter2003	NULL
select * from account where lnnvl(name not like '%2004%') and lnnvl(year not like '%lnnvl%');
name	year
select * from account where lnnvl(name like '%2004%') and lnnvl(year like '%lnnvl%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%');
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and year=11;
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and year=1;
name	year
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(year is null);
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(year is not null);
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(year+1 is not null);
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null);
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is not null);
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and year=1;
name	year
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year=0);
name	year
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year!=0);
name	year
peter2004A	0
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year=0) and year=1;
name	year
peter2004B	1
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year=0) and year=0;
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year!=0) and year=1;
name	year
select * from account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and lnnvl(name is null) and lnnvl(year!=0) and year=0;
name	year
peter2004A	0
select * from account where lnnvl(name not like '%2004%') and (lnnvl(year like '%lnnvl%') or lnnvl(name is null)) and lnnvl(year!=0) and year=0;
name	year
peter2004A	0
select * from account where (lnnvl(name not like '%2004%') or lnnvl(year like '%lnnvl%') or lnnvl(name is null)) and lnnvl(year!=0) and year=0;
name	year
peter2004A	0
select * from account where (lnnvl(name not like '%2004%') or lnnvl(year like '%lnnvl%') or lnnvl(name is null)) and lnnvl(year!=0) and year is null;
name	year
peter2003	NULL
select * from account where lnnvl(name not like '%2004%') and (lnnvl(year like '%lnnvl%') or lnnvl(name is null)) and lnnvl(year!=0);
name	year
peter2004A	0
select * from dual where lnnvl(length('AA')>0);
ERROR HY000: No tables used
create table my_account_1(name varchar2(20),year number);
insert into my_account_1 values('peter2001',2001);
insert into my_account_1 values('peter2002',2002);
insert into my_account_1 values('peter2003',2003);
insert into my_account_1 values('peter2004',2004);
insert into my_account_1 values('peter2005',2005);
insert into my_account_1 values('peter2006',2006);
insert into my_account_1 values('peter2007',null);
select * from my_account_1 where lnnvl(year<2003);
name	year
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from my_account_1 where lnnvl(year is not null);
name	year
peter2007	NULL
select * from my_account_1 where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from my_account_1 where lnnvl(year=2008);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from my_account_1 where lnnvl(year!=2008);
name	year
peter2007	NULL
create table my_account_2(name varchar2(20),id number);
insert into my_account_2 values('a',2);
insert into my_account_2 values('b',null);
select * from my_account_2 where lnnvl(id=1);
name	id
a	2
b	NULL
select * from my_account_2 where lnnvl(id=2);
name	id
b	NULL
select * from my_account_2 where lnnvl(id>2);
name	id
a	2
b	NULL
select * from my_account_2 where lnnvl(id<2);
name	id
a	2
b	NULL
select * from my_account_2 where lnnvl(id is null);
name	id
a	2
drop table my_account_1;
drop table my_account_2;
create table my_account_3(name varchar(20),year int);
insert into my_account_3 values('peter2001',2001);
insert into my_account_3 values('peter2002',2002);
insert into my_account_3 values('peter2003',null);
insert into my_account_3 values('peter2004A',0);
insert into my_account_3 values('peter2004B',1);
set @my_stmt='select * from my_account_3 where (null is null) and name = \'peter2003\'';
execute immediate @my_stmt;
name	year
peter2003	NULL
set @my_stmt2='select * from my_account_3 a,my_account_3 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)';
execute immediate @my_stmt2;
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004B	1	peter2004B	1
execute immediate 'select * from my_account_3 where lnnvl(year = 2001) and lnnvl(name like \'%2004%\')';
name	year
peter2002	2002
peter2003	NULL
execute immediate 'select * from my_account_3 where lnnvl(year = ?) and lnnvl(name like \'%\'||?||\'%\')' using 2001,'2004';
name	year
peter2002	2002
peter2003	NULL
execute immediate 'select * from my_account_3 where lnnvl(year = ?) and lnnvl(name like \'%\'||?||\'%\') and name = ?' using 2001,'2004','peter2003';
name	year
peter2003	NULL
prepare my_stmt1 from 'select * from my_account_3 where (null is null) and name = \'peter2003\'';
execute my_stmt1;
name	year
peter2003	NULL
deallocate prepare my_stmt1;
SET @v1 = 2001;
SET @v2 = '2004';
SET @v3 = 'peter2003';
select @v1,@v2,@v3;
@v1	@v2	@v3
2001	2004	peter2003
prepare my_stmt2 from 'select * from my_account_3 where lnnvl(year = ?) and lnnvl(name like \'%\'||?||\'%\') and name = ? ';
execute my_stmt2 using @v1,@v2,@v3;
name	year
peter2003	NULL
deallocate prepare my_stmt2;
SET @v4 = 2002;
SET @v5 = 'peter2002';
SET @v6 = 2008;
select @v4,@v5,@v6;
@v4	@v5	@v6
2002	peter2002	2008
prepare my_stmt3 from 'select * from account where lnnvl(year<>?)';
execute my_stmt3 using @v4;
name	year
peter2002	2002
peter2003	NULL
prepare my_stmt3 from 'select * from account where lnnvl(year<>?) and lnnvl(name<>?)';
execute my_stmt3 using @v4,@v5;
name	year
peter2002	2002
prepare my_stmt3 from 'select * from account where lnnvl(year<>?) and lnnvl(name<>?) and year=?';
execute my_stmt3 using @v4,@v5,@v6;
name	year
deallocate prepare my_stmt3;
drop table my_account_3;
create table my_account_5(name varchar(20),year int);
insert into my_account_5 values('peter2001',2001);
insert into my_account_5 values('peter2002',2002);
insert into my_account_5 values('peter2003',null);
insert into my_account_5 values('peter2004A',0);
insert into my_account_5 values('peter2004B',1);
create table my_account_4(name varchar(20) primary key,year int);
insert into my_account_4 values('peter2001',2001);
insert into my_account_4 values('peter2002',2002);
insert into my_account_4 values('peter2003',null);
insert into my_account_4 values('peter2004A',0);
insert into my_account_4 values('peter2004B',1);
select * from my_account_4 where lnnvl(year = 2001)
minus
select * from my_account_5 where lnnvl(year = 2001);
name	year
select * from my_account_5 where lnnvl(year = 2001)
minus
select * from my_account_4 where lnnvl(year = 2001);
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
drop table my_account_4;
create table my_account_4(name varchar(20) primary key,year int,unique key(year));
insert into my_account_4 values('peter2001',2001);
insert into my_account_4 values('peter2002',2002);
insert into my_account_4 values('peter2003',null);
insert into my_account_4 values('peter2004A',0);
insert into my_account_4 values('peter2004B',1);
select * from my_account_4 where lnnvl(year = 2001)
minus
select * from my_account_5 where lnnvl(year = 2001);
name	year
select * from my_account_5 where lnnvl(year = 2001)
minus
select * from my_account_4 where lnnvl(year = 2001);
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
drop table my_account_4;
create table my_account_4(name varchar(20) primary key,year int,key(year));
insert into my_account_4 values('peter2001',2001);
insert into my_account_4 values('peter2002',2002);
insert into my_account_4 values('peter2003',null);
insert into my_account_4 values('peter2004A',0);
insert into my_account_4 values('peter2004B',1);
select * from my_account_4 where lnnvl(year = 2001)
minus
select * from my_account_5 where lnnvl(year = 2001);
name	year
select * from my_account_5 where lnnvl(year = 2001)
minus
select * from my_account_4 where lnnvl(year = 2001);
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_5 where lnnvl(year = 2001) and lnnvl(name like '%2004%')
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003'
minus
select * from my_account_4 where lnnvl(year = 2001) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)
minus
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name);
name	year	name	year
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
select * from account a,account b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0)
minus
select * from my_account_4 a,my_account_4 b where (lnnvl(b.name not like '%2004%') or lnnvl(a.year like '%lnnvl%')) and lnnvl(a.name is null) and lnnvl(a.year=0);
name	year	name	year
drop table my_account_4,my_account_5;
create table my_account_6(name varchar(20),year int);
insert into my_account_6 values('peter2001',2001);
insert into my_account_6 values('peter2002',2002);
insert into my_account_6 values('peter2003',null);
insert into my_account_6 values('peter2004A',0);
insert into my_account_6 values('peter2004B',1);
create table my_account_7(name varchar(20),year int);
insert into my_account_7 values('peter2001',2001);
insert into my_account_7 values('peter2002',2002);
insert into my_account_7 values('peter2003',null);
insert into my_account_7 values('peter2004A',0);
insert into my_account_7 values('peter2004B',1);
explain format=tree
select * from my_account_6 where lnnvl(year = 2001)
minus
select * from my_account_7 where lnnvl(year = 2001);
EXPLAIN
-> Table scan on <except temporary>  (cost=*** rows=***)
    -> Except materialize with deduplication  (cost=*** rows=***)
        -> Filter: lnnvl((my_account_6."year" = 2001))  (cost=*** rows=***)
            -> Table scan on my_account_6  (cost=*** rows=***)
        -> Filter: lnnvl((my_account_7."year" = 2001))  (cost=*** rows=***)
            -> Table scan on my_account_7  (cost=*** rows=***)

select * from my_account_6 where lnnvl(year = 2001)
minus
select * from my_account_7 where lnnvl(year = 2001);
name	year
select * from my_account_7 where lnnvl(year = 2001)
minus
select * from my_account_6 where lnnvl(year = 2001);
name	year
select * from my_account_7 where lnnvl(year = 2001)
minus
select * from my_account_7 where lnnvl(year = 2001);
name	year
explain format=tree
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
minus
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003';
EXPLAIN
-> Table scan on <except temporary>  (cost=*** rows=***)
    -> Except materialize with deduplication  (cost=*** rows=***)
        -> Filter: ((my_account_6."name" = 'peter2003') and lnnvl((my_account_6."year" = 2001)))  (cost=*** rows=***)
            -> Table scan on my_account_6  (cost=*** rows=***)
        -> Filter: ((my_account_7."name" = 'peter2003') and lnnvl((my_account_7."year" = 2001)))  (cost=*** rows=***)
            -> Table scan on my_account_7  (cost=*** rows=***)

select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003'
minus
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003';
name	year
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
minus
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003';
name	year
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003'
minus
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003';
name	year
explain format=tree
(select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003'
intersect
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003')
minus
(
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
intersect
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
);
EXPLAIN
-> Table scan on <except temporary>  (cost=*** rows=***)
    -> Except materialize with deduplication  (cost=*** rows=***)
        -> Table scan on <intersect temporary>  (cost=*** rows=***)
            -> Intersect materialize with deduplication  (cost=*** rows=***)
                -> Filter: ((my_account_7."name" = 'peter2003') and lnnvl((my_account_7."year" = 2001)))  (cost=*** rows=***)
                    -> Table scan on my_account_7  (cost=*** rows=***)
                -> Filter: ((my_account_7."name" = 'peter2003') and lnnvl((my_account_7."year" = 2001)))  (cost=*** rows=***)
                    -> Table scan on my_account_7  (cost=*** rows=***)
        -> Table scan on <intersect temporary>  (cost=*** rows=***)
            -> Intersect materialize with deduplication  (cost=*** rows=***)
                -> Filter: ((my_account_6."name" = 'peter2003') and lnnvl((my_account_6."year" = 2001)))  (cost=*** rows=***)
                    -> Table scan on my_account_6  (cost=*** rows=***)
                -> Filter: ((my_account_6."name" = 'peter2003') and lnnvl((my_account_6."year" = 2001)))  (cost=*** rows=***)
                    -> Table scan on my_account_6  (cost=*** rows=***)

(select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003'
intersect
select * from my_account_7 where lnnvl(year = 2001) and name = 'peter2003')
minus
(
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
intersect
select * from my_account_6 where lnnvl(year = 2001) and name = 'peter2003'
);
name	year
drop table my_account_6,my_account_7;
create view my_view_account as select * from account;
select * from my_view_account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and year=1;
name	year
peter2004B	1
select * from my_view_account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%');
name	year
peter2004A	0
peter2004B	1
drop view my_view_account;
create temporary table my_tmp_account(name varchar(20),year number);
insert into my_tmp_account values('peter2001',2001);
insert into my_tmp_account values('peter2002',2002);
insert into my_tmp_account values('peter2003',null);
insert into my_tmp_account values('peter2004A',0);
insert into my_tmp_account values('peter2004B',1);
select * from my_tmp_account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%') and year=1;
name	year
peter2004B	1
select * from my_tmp_account where lnnvl(name not like '%2004%') and lnnvl(year like '%lnnvl%');
name	year
peter2004A	0
peter2004B	1
drop temporary table my_tmp_account;
create table my_account_8(name varchar(20),year int);
insert into my_account_8 values('peter2001',2001);
insert into my_account_8 values('peter2005',2002);
insert into my_account_8 values('peter2009',null);
select * from (select * from account) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
peter2002	2002
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001));
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%'));
name	year
peter2002	2002
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where year = 2002;
name	year
peter2002	2002
select * from (
select * from account where lnnvl(year = 2001)
union
select * from my_account_8
) where name = 'peter2003';
name	year
peter2003	NULL
select * from (
select * from account
union
select * from my_account_8
) where name = 'peter2003' and lnnvl(year = 2001);
name	year
peter2003	NULL
select * from (
select * from account
union
select * from my_account_8
) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
peter2005	2002
peter2009	NULL
select * from (
select * from account
union
select * from my_account_8
) where lnnvl(year = 2001) and lnnvl(name='peter2004A');
name	year
peter2002	2002
peter2003	NULL
peter2004B	1
peter2005	2002
peter2009	NULL
select * from (
select * from account where lnnvl(year = 2001)
union
select * from account where lnnvl(year = 2002)
) where name = 'peter2003';
name	year
peter2003	NULL
select * from (
select * from account where lnnvl(year = 2001)
union
select * from account where lnnvl(year = 2002)
) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(2001 <> 2001);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(2001 <> 2001) and year=2001;
name	year
peter2001	2001
select * from (select * from account) where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(year is not null);
name	year
peter2003	NULL
select * from (select * from account) where lnnvl(year is null) and year=2002;
name	year
peter2002	2002
select * from (select * from account) where lnnvl(year is not null) and year=2002;
name	year
select * from (select * from account) where lnnvl(year is not null) and year is null;
name	year
peter2003	NULL
select * from (select * from account) where lnnvl(1 is null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(1 is not null);
name	year
select * from (select * from account) where lnnvl(1 is null) and year=2002;
name	year
peter2002	2002
select * from (select * from account) where lnnvl(1 is not null) and year=2002;
name	year
select * from (select * from account) where lnnvl(1 is not null) and year is null;
name	year
select * from (select * from account) where lnnvl(null is null);
name	year
select * from (select * from account) where lnnvl(null is not null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(null is null) and year=2002;
name	year
select * from (select * from account) where lnnvl(null is not null) and year=2002;
name	year
peter2002	2002
select * from (select * from account) where lnnvl(null is not null) and year is null;
name	year
peter2003	NULL
select * from account where lnnvl(year like '%2001%');
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year not like '%2001%');
name	year
peter2001	2001
peter2003	NULL
select * from account where lnnvl(name not like '%2004%');
name	year
peter2004A	0
peter2004B	1
select * from account where lnnvl(year like '%2001%') and year=0;
name	year
peter2004A	0
select * from account where lnnvl(name like '%2004%') and year is not null;
name	year
peter2001	2001
peter2002	2002
select * from account where lnnvl(year not like '%2001%') and year=2001;
name	year
peter2001	2001
select * from account where lnnvl(name not like '%2004%') and year in(0,1);
name	year
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(year like '%2001%');
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(name like '%2004%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from (select * from account) where lnnvl(year not like '%2001%');
name	year
peter2001	2001
peter2003	NULL
select * from (select * from account) where lnnvl(name not like '%2004%');
name	year
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(year like '%2001%') and year=0;
name	year
peter2004A	0
select * from (select * from account) where lnnvl(name like '%2004%') and year is not null;
name	year
peter2001	2001
peter2002	2002
select * from (select * from account) where lnnvl(year not like '%2001%') and year=2001;
name	year
peter2001	2001
select * from (select * from account) where lnnvl(name not like '%2004%') and year in(0,1);
name	year
peter2004A	0
peter2004B	1
select * from (select * from (select * from account) where lnnvl(year = 2001)) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from (select * from account)) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) where length(year) = 2001;
name	year
select * from (select * from account) where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
peter2002	2002
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2001);
name	year
peter2002	2002
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2002);
name	year
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2001) and lnnvl(name like '%2004%');
name	year
peter2002	2002
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2002) and lnnvl(name like '%2004%');
name	year
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2002) and lnnvl(name like '%2004%') and name = 'test';
name	year
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2002) and lnnvl(name like '%2004%') and name = 'peter2003';
name	year
peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) where lnnvl(year = 2002) and lnnvl(name not like '%2004%');
name	year
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) a,account b where lnnvl(a.year=b.year);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2003	NULL	peter2004A	0
peter2002	2002	peter2004A	0
peter2003	NULL	peter2004B	1
peter2002	2002	peter2004B	1
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) a,account b where lnnvl(a.year=b.year) and b.name='peter2004A';
name	year	name	year
peter2002	2002	peter2004A	0
peter2003	NULL	peter2004A	0
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) a,(select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) b where lnnvl(a.year=b.year);
name	year	name	year
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2003	NULL
peter2002	2002	peter2003	NULL
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) a,(select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) b where lnnvl(a.year=b.year) and b.name='peter2004A';
name	year	name	year
select * from (select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) a,(select * from account where lnnvl(year = 2001) and lnnvl(name like '%2004%')) b where lnnvl(a.year=b.year) and a.name='peter2003';
name	year	name	year
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2003	NULL
drop table my_account_8;
select * from account where lnnvl(rownum<>rownum);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(rownum<10);
name	year
select * from account where lnnvl(rownum=rownum);
name	year
select * from account where lnnvl(rownum=rownum+1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a,account b where lnnvl(rownum<>rownum) order by a.name;
name	year	name	year
peter2001	2001	peter2004B	1
peter2001	2001	peter2001	2001
peter2001	2001	peter2004A	0
peter2001	2001	peter2002	2002
peter2001	2001	peter2003	NULL
peter2002	2002	peter2004B	1
peter2002	2002	peter2001	2001
peter2002	2002	peter2004A	0
peter2002	2002	peter2002	2002
peter2002	2002	peter2003	NULL
peter2003	NULL	peter2003	NULL
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004A	0	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004A	0	peter2002	2002
peter2004A	0	peter2004B	1
peter2004A	0	peter2001	2001
peter2004B	1	peter2001	2001
peter2004B	1	peter2004A	0
peter2004B	1	peter2003	NULL
peter2004B	1	peter2004B	1
peter2004B	1	peter2002	2002
select * from account a,account b where lnnvl(rownum=rownum) order by a.name;
name	year	name	year
select * from account a,account b where lnnvl(rownum=rownum+1) order by a.name;
name	year	name	year
peter2001	2001	peter2004B	1
peter2001	2001	peter2001	2001
peter2001	2001	peter2004A	0
peter2001	2001	peter2002	2002
peter2001	2001	peter2003	NULL
peter2002	2002	peter2004B	1
peter2002	2002	peter2001	2001
peter2002	2002	peter2004A	0
peter2002	2002	peter2002	2002
peter2002	2002	peter2003	NULL
peter2003	NULL	peter2003	NULL
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2004A	0
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004A	0	peter2003	NULL
peter2004A	0	peter2004A	0
peter2004A	0	peter2002	2002
peter2004A	0	peter2004B	1
peter2004A	0	peter2001	2001
peter2004B	1	peter2001	2001
peter2004B	1	peter2004A	0
peter2004B	1	peter2003	NULL
peter2004B	1	peter2004B	1
peter2004B	1	peter2002	2002
drop table account;
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
set sql_mode=oracle;
select * from account where lnnvl(1<1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(null<null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(null>null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(null is null);
name	year
select * from account where lnnvl(null is not null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl('5'<1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl('2'<5);
name	year
select * from account where lnnvl('5'=5);
name	year
select * from account where lnnvl('5'<>5);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=2004) and name = '';
name	year
select * from account where lnnvl(name like '%200%');
name	year
select * from account where lnnvl(name not like '%200%');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year!=2004) and lnnvl(year!=2005);
name	year
peter2003	NULL
select * from account where lnnvl(year=2004) and lnnvl(year=2005);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=2004) and lnnvl(year=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year!=2004);
name	year
peter2003	NULL
select * from account where lnnvl(year=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
drop table account;
create table my_tt(name varchar(32),id number(10));
insert into my_tt(name,id) values('a',2);
insert into my_tt(name,id) values('b',null);
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
create table account2(name varchar(20),year number);
insert into account2 values('peter2001',2001);
insert into account2 values('peter2002',2002);
insert into account2 values('peter2003',2003);
insert into account2 values('peter2004',2004);
insert into account2 values('peter2005',2005);
insert into account2 values('peter2006',2006);
insert into account2 values('peter2007',null);
set sql_mode=oracle;
select * from account a,account2 b where lnnvl(a.year<2003) and lnnvl(b.year<2003);
name	year	name	year
peter2003	NULL	peter2003	2003
peter2003	NULL	peter2004	2004
peter2003	NULL	peter2005	2005
peter2003	NULL	peter2006	2006
peter2003	NULL	peter2007	NULL
select * from account a,account2 b where lnnvl(a.year<b.year);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	2003
peter2003	NULL	peter2004	2004
peter2003	NULL	peter2005	2005
peter2003	NULL	peter2006	2006
peter2004B	1	peter2007	NULL
peter2004A	0	peter2007	NULL
peter2003	NULL	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account2 b where lnnvl(substr(a.name,6)+1<b.year);
name	year	name	year
peter2004B	1	peter2001	2001
peter2004A	0	peter2001	2001
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2004B	1	peter2002	2002
peter2004A	0	peter2002	2002
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2004B	1	peter2003	2003
peter2004A	0	peter2003	2003
peter2003	NULL	peter2003	2003
peter2002	2002	peter2003	2003
peter2004B	1	peter2004	2004
peter2004A	0	peter2004	2004
peter2003	NULL	peter2004	2004
peter2004B	1	peter2005	2005
peter2004A	0	peter2005	2005
peter2004B	1	peter2007	NULL
peter2004A	0	peter2007	NULL
peter2003	NULL	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account2 b where lnnvl(a.year<b.year);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	2003
peter2003	NULL	peter2004	2004
peter2003	NULL	peter2005	2005
peter2003	NULL	peter2006	2006
peter2004B	1	peter2007	NULL
peter2004A	0	peter2007	NULL
peter2003	NULL	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account2 b where (not(a.year<b.year) or a.year is null or b.year is null);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2003	NULL	peter2003	2003
peter2003	NULL	peter2004	2004
peter2003	NULL	peter2005	2005
peter2003	NULL	peter2006	2006
peter2004B	1	peter2007	NULL
peter2004A	0	peter2007	NULL
peter2003	NULL	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account2 b where lnnvl(a.year = null);
name	year	name	year
peter2004B	1	peter2001	2001
peter2004A	0	peter2001	2001
peter2003	NULL	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2004B	1	peter2002	2002
peter2004A	0	peter2002	2002
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2004B	1	peter2003	2003
peter2004A	0	peter2003	2003
peter2003	NULL	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2004B	1	peter2004	2004
peter2004A	0	peter2004	2004
peter2003	NULL	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2004B	1	peter2005	2005
peter2004A	0	peter2005	2005
peter2003	NULL	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2004B	1	peter2006	2006
peter2004A	0	peter2006	2006
peter2003	NULL	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2004B	1	peter2007	NULL
peter2004A	0	peter2007	NULL
peter2003	NULL	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account where lnnvl(year<2003);
name	year
peter2003	NULL
select * from account where lnnvl(year<2003) and lnnvl(year<2003);
name	year
peter2003	NULL
select * from account where lnnvl((select year from account2 where rownum<=1)<2001);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where (select year from account2 where rownum<=1)<2004;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where lnnvl(to_char(a.year)<a.name);
name	year
peter2003	NULL
select * from account a where (not(to_char(a.year)<a.name) or to_char(a.year) is null or a.name is null);
name	year
peter2003	NULL
select * from account a where lnnvl(a.year<a.year);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where (not(a.year<a.year) or a.year is null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where lnnvl(a.year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account a where (not(a.year is null));
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account a where lnnvl(a.year is not null);
name	year
peter2003	NULL
select * from account a where (not(a.year is not null));
name	year
peter2003	NULL
select * from account a where lnnvl(null is null);
name	year
select * from account a where lnnvl(null is not null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where not(null is null);
name	year
select * from account a where lnnvl(a.year <> null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account a where (not(a.year <> null) or 1=1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select 1 from dual where lnnvl(null<null);
1
1
select 1 from dual where lnnvl(1<1);
1
1
select 1 from dual where lnnvl(1+null<null);
1
1
select * from account where lnnvl(1<1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<1500);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(year<year);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<>year);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=year);
name	year
peter2003	NULL
select * from account where lnnvl(year<year+100);
name	year
peter2003	NULL
select * from account where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(year+1 is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(null is null);
name	year
select * from account where lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(year+1 is not null);
name	year
peter2003	NULL
select * from account where lnnvl(null is not null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = 1+null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year = null+null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year+1 = null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year > null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year < null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year <> null);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(sysdate<sysdate+1);
name	year
select * from account where lnnvl(1<1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year=2004);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl((select year from account where rownum<=1)<2001);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(year<>2004);
name	year
peter2003	NULL
select * from account where lnnvl(year!=2004);
name	year
peter2003	NULL
select * from account where lnnvl(year is null);
name	year
peter2001	2001
peter2002	2002
peter2004A	0
peter2004B	1
select * from account where lnnvl(year is not null);
name	year
peter2003	NULL
select * from account where lnnvl(year=1) and lnnvl(year=2005);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
select * from account a,account2 b where lnnvl(substr(a.name,6)<b.year)
minus
select * from account a,account2 b where (not(substr(a.name,6)<b.year) or b.year is null or substr(a.name,6) is null);
name	year	name	year
select * from account a,account2 b where (not(substr(a.name,6)<b.year) or b.year is null or substr(a.name,6) is null)
minus
select * from account a,account2 b where lnnvl(substr(a.name,6)<b.year);
name	year	name	year
select * from my_tt where lnnvl(id=1);
name	id
a	2
b	NULL
select * from my_tt where lnnvl(id=2);
name	id
b	NULL
select * from my_tt where lnnvl(id>2);
name	id
a	2
b	NULL
select * from my_tt where lnnvl(id<2);
name	id
a	2
b	NULL
select * from my_tt where lnnvl(id is null);
name	id
a	2
select * from my_tt where lnnvl(id is not null);
name	id
b	NULL
select * from my_tt where lnnvl(id=1);
name	id
a	2
b	NULL
drop table my_tt;
drop table account;
drop table account2;
CREATE TABLE student (
id       INT,
name  VARCHAR(10),
grade INT
);
delete from student;
INSERT INTO student VALUES(1, 'John', NULL);
INSERT INTO student VALUES(2, 'Paul', 1);
INSERT INTO student VALUES(3, 'Nancy', 1);
INSERT INTO student VALUES(4, 'Sarah', 3);
create table account(name varchar(20),year int);
create table account_bk(name varchar(20),year int);
delete from account;
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
insert into account_bk select * from account;
create table account2(year1 int,year2 int);
create table account2_bk(year1 int,year2 int);
delete from account2;
insert into account2 values(1,1);
insert into account2 values(2,2);
insert into account2 values(3,3);
insert into account2 values(4,4);
insert into account2 values(5,5);
insert into account2 values(6,6);
insert into account2 values(7,7);
insert into account2 values(8,8);
insert into account2 values(9,9);
insert into account2 values(10,10);
insert into account2 values(11,11);
insert into account2_bk select * from account2;
set sql_mode=oracle;
select * from account where lnnvl('AAA'='AAA');
name	year
select * from account where lnnvl('AAA'!='AAA');
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(1=1);
name	year
select * from account where lnnvl(1!=1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account where lnnvl(1!=1) and year = 0;
name	year
peter2004A	0
select * from account where lnnvl(length(year)=1);
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
select * from account where lnnvl(length(year)=1) and year = 2001;
name	year
peter2001	2001
set sql_mode=oracle;
create view my_view_lnnvl4 as select * from account2 where lnnvl(length(year1)=1);
select * from my_view_lnnvl4;
year1	year2
10	10
11	11
create view my_view_lnnvl5 as select * from account2 where lnnvl(year1=1) and year2 in(2,3);
select * from my_view_lnnvl5;
year1	year2
2	2
3	3
create force view my_view_lnnvl6 as select * from account2 where lnnvl(length(year1)=1);
select * from my_view_lnnvl6;
year1	year2
10	10
11	11
create force view my_view_lnnvl7 as select * from account2 where lnnvl(year1=1) and year2 in(2,3);
select * from my_view_lnnvl7;
year1	year2
2	2
3	3
create table my_table_lnnvl4 as select * from account2 where lnnvl(length(year1)=1);
select * from my_table_lnnvl4;
year1	year2
10	10
11	11
create table my_table_lnnvl5 as select * from account2 where lnnvl(year1=1) and year2 in(2,3);
select * from my_table_lnnvl5;
year1	year2
2	2
3	3
create materialized view my_mv_lnnvl4(a,b) build deferred refresh complete on demand as select year1,year2 from account2 where lnnvl(length(year1)=1);
create materialized view my_mv_lnnvl5(a,b) build deferred refresh complete on demand as select year1,year2 from account2 where lnnvl(year1=1) and year2 in(2,3);
select * from my_mv_lnnvl4;
a	b
select * from my_mv_lnnvl5;
a	b
drop view my_view_lnnvl4;
drop view my_view_lnnvl5;
drop view my_view_lnnvl6;
drop view my_view_lnnvl7;
drop table my_table_lnnvl4;
drop table my_table_lnnvl5;
drop materialized view my_mv_lnnvl4;
drop materialized view my_mv_lnnvl5;
set sql_mode=default;
set sql_mode=oracle;
with function my_func(my_year1 int,my_year2 int) return int deterministic is
var int;
begin
select year1 into var from account2 where lnnvl(year1=my_year1) and lnnvl(year2=my_year2) and year2 = 10;
return var;
end;
select my_func(1,4) from dual;//
my_func(1,4)
10
set sql_mode=default;
with temp_table as (
select year1,year2 from account2 where lnnvl(year1=1) and lnnvl(year2=4)
)
select * from temp_table
order by year1,year2;
year1	year2
10	10
11	11
2	2
3	3
5	5
6	6
7	7
8	8
9	9
with temp_table as (
select year1,year2 from account2 where lnnvl(year1=1)
)
select * from temp_table
order by year1,year2;
year1	year2
10	10
11	11
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
with temp_table as (
select year1,year2 from account2 where lnnvl(year1=1)
)
select * from temp_table where lnnvl(year2=5)
order by year1,year2;
year1	year2
10	10
11	11
2	2
3	3
4	4
6	6
7	7
8	8
9	9
with temp_table as (
select year1,year2 from account2 where lnnvl(year1=1) and lnnvl(year2=4)
)
select * from temp_table where lnnvl(year1=2)
order by year1,year2;
year1	year2
10	10
11	11
3	3
5	5
6	6
7	7
8	8
9	9
with temp_table as (
select year1,year2 from account2 where lnnvl(year1=1) and lnnvl(year2=4)
)
select * from temp_table where lnnvl(year1=2) and lnnvl(year2=8)
order by year1,year2;
year1	year2
10	10
11	11
3	3
5	5
6	6
7	7
9	9
delete from account;
insert into account select * from account_bk;
insert into account(name,year) values(lnnvl('AAA'='AAA'),lnnvl(1=1));
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
NULL	NULL
delete from account;
insert into account select * from account_bk;
insert into account(name,year) values(lnnvl('AAA'!='AAA'),lnnvl(1!=1));
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
NULL	NULL
delete from account;
insert into account select * from account_bk;
insert into account(name,year) select name,year from account where lnnvl(1!=1);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
delete from account;
insert into account select * from account_bk;
insert into account(name,year) select name,year from account where lnnvl(1!=1) and lnnvl(year=1);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
delete from account;
insert into account select * from account_bk;
insert into account(name,year) select name,year from account where lnnvl(1!=1) and lnnvl(year=1) and year=0;
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
peter2004A	0
delete from account;
insert into account select * from account_bk;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
replace into account2 values (12,lnnvl(1>1));
replace into account2 values (13,lnnvl(length(1)>1));
replace into account2 values (lnnvl(1=1),lnnvl(1<1));
replace into account2 set year1=lnnvl(1>1);
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
12	NULL
13	NULL
NULL	NULL
NULL	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
replace into account select to_char(year1),year2 from account2 where lnnvl(year2=2);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
replace into account select to_char(year1),year2 from account2 where lnnvl(year2=2) and year2=1;
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
replace into account select to_char(year1),year2 from account2 where lnnvl(year2=2) and lnnvl(year1=5);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
3	3
4	4
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
replace into account select to_char(year1),year2 from account2 where lnnvl(year2=2) and lnnvl(year1=5) and year1 in(1,3);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
3	3
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,lnnvl(1=1))
select 1111,2222 from dual;
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1111	2222
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,lnnvl(1=1))
select year1,year2 from account2 where lnnvl(year1=3);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
2	2
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,null)
select year1,year2 from account2 where lnnvl(year1=3);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
2	2
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,lnnvl(1=1))
select year1,year2 from account2 where lnnvl(year1=3) and year2 in(4,6);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
4	4
6	6
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,null)
select year1,year2 from account2 where lnnvl(year1=3) and year2 in(4,6);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
4	4
6	6
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,lnnvl(1=1))
select year1,year2 from account2 where lnnvl(year1=3) and lnnvl(year2=5);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
2	2
4	4
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,null)
select year1,year2 from account2 where lnnvl(year1=3) and lnnvl(year2=5);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
1	1
2	2
4	4
6	6
7	7
8	8
9	9
10	10
11	11
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,lnnvl(year1=1))
select year1,year2 from account2 where lnnvl(year1=3) and lnnvl(year2=5) and year2 in(4,6);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
4	4
6	6
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (888,null)
select year1,year2 from account2 where lnnvl(year1=3) and lnnvl(year2=5) and year2 in(4,6);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
4	4
6	6
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
888	NULL
888	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
insert all
into account
into account2(year1,year2) values (lnnvl(year1=1),lnnvl(year2=1))
select year1,year2 from account2 where lnnvl(year1=3) and lnnvl(year2=5) and year2 in(4,6);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
4	4
6	6
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
NULL	NULL
NULL	NULL
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
update account2 set year2=lnnvl(1=1) where year2=1;
select * from account2;
year1	year2
1	NULL
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
update account2 set year2=lnnvl(1!=1) where year2=2;
select * from account2;
year1	year2
1	NULL
2	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
update account2 set year2=lnnvl(year1>0) where year2=3;
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
update account2 set year2=lnnvl(length(year1)>1) where year2=4;
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	NULL
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(1=1);
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(1!=1);
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(year1>0);
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(length(year1)>1);
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(year1>0) where lnnvl(year1>3);
select * from account2;
year1	year2
1	NULL
2	NULL
3	NULL
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(year1>0) where lnnvl(year1>3) and year2=2;
select * from account2;
year1	year2
1	1
2	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(year1>0) where lnnvl(year1>3) and lnnvl(year2=3);
select * from account2;
year1	year2
1	NULL
2	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year2=lnnvl(year1>0) where lnnvl(year1>3) and lnnvl(year2=3) and year2=2;
select * from account2;
year1	year2
1	1
2	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year1=lnnvl(year1=0) , year2=lnnvl(year1>0) where lnnvl(year1>3);
select * from account2;
year1	year2
NULL	NULL
NULL	NULL
NULL	NULL
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year1=lnnvl(year1=0) , year2=lnnvl(year1>0) where lnnvl(year1>3) and year2=2;
select * from account2;
year1	year2
1	1
NULL	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year1=lnnvl(year1=0) , year2=lnnvl(year1>0) where lnnvl(year1>3) and lnnvl(year2=3);
select * from account2;
year1	year2
NULL	NULL
NULL	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
update account2 set year1=lnnvl(year1=0) , year2=lnnvl(year1>0) where lnnvl(year1>3) and lnnvl(year2=3) and year2=2;
select * from account2;
year1	year2
1	1
NULL	NULL
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
set sql_mode=oracle;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(1>1),9);
select * from account;
name	year
peter2001	NULL
peter2002	NULL
peter2003	NULL
peter2004A	NULL
peter2004B	NULL
select * from account2;
year1	year2
9	1
9	2
9	3
9	4
9	5
9	6
9	7
9	8
9	9
9	10
9	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(1>1),lnnvl(1=1));
select * from account;
name	year
peter2001	NULL
peter2002	NULL
peter2003	NULL
peter2004A	NULL
peter2004B	NULL
select * from account2;
year1	year2
NULL	1
NULL	2
NULL	3
NULL	4
NULL	5
NULL	6
NULL	7
NULL	8
NULL	9
NULL	10
NULL	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(1>1),lnnvl(1=1)) where b.year2=2;
select * from account;
name	year
peter2001	NULL
peter2002	NULL
peter2003	NULL
peter2004A	NULL
peter2004B	NULL
select * from account2;
year1	year2
1	1
NULL	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(1>1),lnnvl(1=1)) where lnnvl(a.year!=b.year1);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	NULL
select * from account2;
year1	year2
NULL	1
NULL	2
NULL	3
NULL	4
NULL	5
NULL	6
NULL	7
NULL	8
NULL	9
NULL	10
NULL	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(a.year>1),lnnvl(1=1)) where lnnvl(a.year!=b.year1) and b.year2=2;
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account2;
year1	year2
1	1
NULL	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
UPDATE account a, account2 b SET (a.year,b.year1)=(lnnvl(a.year>1),lnnvl(1=1)) where lnnvl(a.year=b.year1) and b.year2=2;
select * from account;
name	year
peter2001	NULL
peter2002	NULL
peter2003	NULL
peter2004A	NULL
peter2004B	NULL
select * from account2;
year1	year2
1	1
NULL	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b set a.name=lnnvl(1=1);
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b set a.name=lnnvl(b.year1=2);
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b set a.name=lnnvl(b.year1=2) where lnnvl(a.year=1);
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b set a.name=lnnvl(b.year1=2) where lnnvl(a.year=1) and b.year2=2;
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b on (lnnvl(a.year=b.year1)) set a.name=lnnvl(b.year1=2) where lnnvl(a.year=1) and b.year2=2;
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b on (lnnvl(8=b.year1) and b.year2=4) set a.name=lnnvl(b.year1=2) where lnnvl(b.year1=1) and a.year=2001;
select * from account;
name	year
NULL	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a join account2 b on (lnnvl(7=b.year1) and length(b.year2)=1 and (lnnvl(a.year=8) and lnnvl(a.name='peter2003'))) set a.name=lnnvl(b.year1=2) where lnnvl(b.year1=1) and a.year<>1;
select * from account;
name	year
NULL	2001
NULL	2002
peter2003	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a right join account2 b on (lnnvl(a.year=b.year1)) set a.name=lnnvl(b.year1=2) where lnnvl(a.year=1) and b.year2=2;
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a right join account2 b on (lnnvl(8=b.year1) and b.year2=4) set a.name=lnnvl(b.year1=2) where lnnvl(b.year1=1) and a.year=2001;
select * from account;
name	year
NULL	2001
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
update account a right join account2 b on (lnnvl(7=b.year1) and length(b.year2)=1 and (lnnvl(a.year=8) and lnnvl(a.name='peter2003'))) set a.name=lnnvl(b.year1=2) where lnnvl(b.year1=1) and a.year<>1;
select * from account;
name	year
NULL	2001
NULL	2002
peter2003	NULL
NULL	0
peter2004B	1
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
set sql_mode=default;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(1=1);
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(1=0);
select * from account2;
year1	year2
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(year1=1);
select * from account2;
year1	year2
1	1
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(length(year1)=1);
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(year1=1) and year2 in(2,3);
select * from account2;
year1	year2
1	1
4	4
5	5
6	6
7	7
8	8
9	9
10	10
11	11
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(year1=1) and lnnvl(year2=4);
select * from account2;
year1	year2
1	1
4	4
delete from account2;
insert into account2 select * from account2_bk;
delete from account2 where lnnvl(year1=1) and lnnvl(year2=4) and year2 = 10;
select * from account2;
year1	year2
1	1
2	2
3	3
4	4
5	5
6	6
7	7
8	8
9	9
11	11
delete from account;
delete from account2;
insert into account select * from account_bk;
insert into account2 select * from account2_bk;
explain merge into account
using (select * from account2 where lnnvl(year1=1)) ac2
on ( lnnvl(account.year = ac2.year1) )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(year1=3)
when not matched then
insert (account.name, account.year)
values (to_char(ac2.year1),lnnvl(ac2.year2=5)) where lnnvl(year1=4);
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	NULL
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	5	100.00	Using where
2	DERIVED	account2	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	Using where
Warnings:
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where lnnvl((`test`.`account2`.`year1` = 1))) `ac2` on(lnnvl((`test`.`account`.`year` = `ac2`.`year1`))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where lnnvl((`ac2`.`year1` = 3)) when not matched then insert  (`test`.`account`.`name`,`test`.`account`.`year`) values (cast(`ac2`.`year1` as char charset utf8mb4),lnnvl((`ac2`.`year2` = 5))) where lnnvl((`ac2`.`year1` = 4))
show warnings;
Level	Code	Message
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where lnnvl((`test`.`account2`.`year1` = 1))) `ac2` on(lnnvl((`test`.`account`.`year` = `ac2`.`year1`))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where lnnvl((`ac2`.`year1` = 3)) when not matched then insert  (`test`.`account`.`name`,`test`.`account`.`year`) values (cast(`ac2`.`year1` as char charset utf8mb4),lnnvl((`ac2`.`year2` = 5))) where lnnvl((`ac2`.`year1` = 4))
explain merge into account
using (select * from account2 where lnnvl(year1=1)) ac2
on ( lnnvl(account.year = ac2.year1) )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(year1=3)
delete where lnnvl(ac2.year1=2);
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	NULL
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	5	100.00	Using where
2	DERIVED	account2	NULL	ALL	NULL	NULL	NULL	NULL	11	100.00	Using where
Warnings:
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where lnnvl((`test`.`account2`.`year1` = 1))) `ac2` on(lnnvl((`test`.`account`.`year` = `ac2`.`year1`))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where lnnvl((`ac2`.`year1` = 3)) delete where lnnvl((`ac2`.`year1` = 2))
show warnings;
Level	Code	Message
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where lnnvl((`test`.`account2`.`year1` = 1))) `ac2` on(lnnvl((`test`.`account`.`year` = `ac2`.`year1`))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where lnnvl((`ac2`.`year1` = 3)) delete where lnnvl((`ac2`.`year1` = 2))
explain merge into account
using (select * from account2 where lnnvl(year1=1) and year2=11) ac2
on ( lnnvl(account.year = ac2.year1) and ac2.year1 = 22 )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(year1=3) and year2 = 33
when not matched then
insert (account.name, account.year)
values (to_char(ac2.year1),lnnvl(ac2.year2=5)) where lnnvl(year1=4) and year2 = 44;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	5	100.00	Using where
2	DERIVED	account2	NULL	ALL	NULL	NULL	NULL	NULL	11	10.00	Using where
Warnings:
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where ((`test`.`account2`.`year2` = 11) and lnnvl((`test`.`account2`.`year1` = 1)))) `ac2` on(((`ac2`.`year1` = 22) and lnnvl((`test`.`account`.`year` = 22)))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where (lnnvl((`ac2`.`year1` = 3)) and (`ac2`.`year2` = 33)) when not matched then insert  (`test`.`account`.`name`,`test`.`account`.`year`) values (cast(`ac2`.`year1` as char charset utf8mb4),lnnvl((`ac2`.`year2` = 5))) where (lnnvl((`ac2`.`year1` = 4)) and (`ac2`.`year2` = 44))
show warnings;
Level	Code	Message
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where ((`test`.`account2`.`year2` = 11) and lnnvl((`test`.`account2`.`year1` = 1)))) `ac2` on(((`ac2`.`year1` = 22) and lnnvl((`test`.`account`.`year` = 22)))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where (lnnvl((`ac2`.`year1` = 3)) and (`ac2`.`year2` = 33)) when not matched then insert  (`test`.`account`.`name`,`test`.`account`.`year`) values (cast(`ac2`.`year1` as char charset utf8mb4),lnnvl((`ac2`.`year2` = 5))) where (lnnvl((`ac2`.`year1` = 4)) and (`ac2`.`year2` = 44))
explain merge into account
using (select * from account2 where lnnvl(year1=1) and year2=11) ac2
on ( lnnvl(account.year = ac2.year1) and ac2.year1 = 22 )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(year1=3) and year2 = 33
delete where lnnvl(ac2.year1=2) and year2=44;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
1	UPDATE	account	NULL	ALL	NULL	NULL	NULL	NULL	5	100.00	Using where
2	DERIVED	account2	NULL	ALL	NULL	NULL	NULL	NULL	11	10.00	Using where
Warnings:
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where ((`test`.`account2`.`year2` = 11) and lnnvl((`test`.`account2`.`year1` = 1)))) `ac2` on(((`ac2`.`year1` = 22) and lnnvl((`test`.`account`.`year` = 22)))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where (lnnvl((`ac2`.`year1` = 3)) and (`ac2`.`year2` = 33)) delete where (lnnvl((`ac2`.`year1` = 2)) and (`ac2`.`year2` = 44))
show warnings;
Level	Code	Message
Note	1003	merge into `test`.`account` using (/* select#2 */ select `test`.`account2`.`year1` AS `year1`,`test`.`account2`.`year2` AS `year2` from `test`.`account2` where ((`test`.`account2`.`year2` = 11) and lnnvl((`test`.`account2`.`year1` = 1)))) `ac2` on(((`ac2`.`year1` = 22) and lnnvl((`test`.`account`.`year` = 22)))) when matched then update set `test`.`account`.`name` = lnnvl((`ac2`.`year1` = 2)) where (lnnvl((`ac2`.`year1` = 3)) and (`ac2`.`year2` = 33)) delete where (lnnvl((`ac2`.`year1` = 2)) and (`ac2`.`year2` = 44))
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(account2.year1),lnnvl(account2.year2=5));
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
1	NULL
2	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(account.year=1);
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
peter2004B	1
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2) where lnnvl(account.year=1) and year=2002;
select * from account;
name	year
peter2001	2001
NULL	2002
peter2003	NULL
peter2004A	0
peter2004B	1
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
delete where lnnvl(account.year=1);
select * from account;
name	year
NULL	1
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(account2.year1),lnnvl(account2.year2=5)) where lnnvl(account2.year1 = 8);
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
1	NULL
2	NULL
4	NULL
5	NULL
6	NULL
7	NULL
9	NULL
10	NULL
11	NULL
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( account2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(account2.year1),lnnvl(account2.year2=5)) where lnnvl(account2.year1 = 8) and account2.year1=7;
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
7	NULL
delete from account;
insert into account select * from account_bk;
merge into account
using (select * from account2 where lnnvl(year2=5)) ac2
on ( ac2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(ac2.year1),lnnvl(ac2.year2=5));
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
1	NULL
2	NULL
4	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
delete from account;
insert into account select * from account_bk;
merge into account
using (select * from account2 where lnnvl(year2=5) and year1 in(3,4,5)) ac2
on ( ac2.year1 = 3 )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(ac2.year1),lnnvl(ac2.year2=5));
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
4	NULL
delete from account;
insert into account select * from account_bk;
merge into account
using account2
on ( lnnvl(account2.year1 <> 3) )
when matched then
update set account.name=lnnvl(year1=2)
when not matched then
insert (account.name, account.year)
values (to_char(account2.year1),lnnvl(account2.year2=5));
select * from account;
name	year
NULL	2001
NULL	2002
NULL	NULL
NULL	0
NULL	1
1	NULL
2	NULL
4	NULL
5	NULL
6	NULL
7	NULL
8	NULL
9	NULL
10	NULL
11	NULL
drop table student;
drop table account;
drop table account2;
drop table account_bk;
drop table account2_bk;
CREATE TABLE student (
id       INT,
name  VARCHAR(10),
grade INT
);
INSERT INTO student VALUES(1, 'John', NULL);
INSERT INTO student VALUES(2, 'Paul', 1);
INSERT INTO student VALUES(3, 'Nancy', 1);
INSERT INTO student VALUES(4, 'Sarah', 3);
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
create table t1(ida int, age int, name varchar(10));
insert into t1 values(1, 2, '');
insert into t1 values(NULL, 2, 'a');
insert into t1 values(3, 2, 'b');
create table t2(ida int, age int, name varchar(10));
insert into t2 values(1, 2, '');
insert into t2 values(2, 2, 'a');
insert into t2 values(3, 1, 'b');
create table t3(ida int, age int, name varchar(10));
insert into t3 values(2, 3, 'a');
insert into t3 values(5, NULL, '');
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=@oracle_mode_emptystring_equal_null;
select * from t1 a join t2 b on lnnvl(a.ida>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida) t where lnnvl(t.a2<>3) and t.a4=2;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.age<>3) and b.ida=2) t;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida) t where lnnvl(t.a2=3) and t.a4=1;
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida) t where lnnvl(t.a2=3);
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida) t where lnnvl(t.a2=3) and t.a4=1;
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida) t where lnnvl(t.a2=3);
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida) t where lnnvl(t.a2<>2) and t.a4=1;
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2<>3) and t.a5=2;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where t.a5=2;
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where (not(t.a2<>3) or t.a2 is null or 3 is null) and t.a5=2;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a4=1);
a1	a2	a3	a4	a5	a6
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a4=1) and t.a5=1;
a1	a2	a3	a4	a5	a6
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a4=1) and t.a5=2;
a1	a2	a3	a4	a5	a6
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=b.ida);
ida	age	name	ida	age	name
NULL	NULL	NULL	2	2	a
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001) and lnnvl(a.ida=2001);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001) and lnnvl(b.age<>2);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001) and lnnvl(b.age<>2) and a.age=2;
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
select * from t1 a left join t2 b on a.ida=b.ida where lnnvl(a.ida=2001);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	2	a	NULL	NULL	NULL
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.name = 'b');
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
select * from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name = 'b') or lnnvl(a.ida=2001));
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name = b.name) or b.age=2);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
select * from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2);
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2) and b.ida=3;
ida	age	name	ida	age	name
3	2	b	3	1	b
select * from (select * from account) t where lnnvl(t.year=2001);
name	year
peter2002	2002
peter2003	NULL
peter2004A	0
peter2004B	1
select * from (select * from account) t where lnnvl(t.year=2001) and t.year=2002;
name	year
peter2002	2002
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t;
a1	a2	a3	a4	a5	a6
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2<>3);
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2<>3) and t.a5<>2;
a1	a2	a3	a4	a5	a6
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2 = t.a5);
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2<>3) and t.a5=2;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from (select a.ida a1,a.age a2,a.name a3,b.ida a4,b.age a5,b.name a6 from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name <> b.name) or b.age=2)) t where lnnvl(t.a2 = t.a5) and t.a5=2;
a1	a2	a3	a4	a5	a6
NULL	NULL	NULL	2	2	a
select * from t1 a,t2 b where lnnvl(a.ida(+)=2001);
ida	age	name	ida	age	name
3	2	b	1	2	NULL
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
3	2	b	2	2	a
NULL	2	a	2	2	a
1	2	NULL	2	2	a
3	2	b	3	1	b
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a,t2 b where lnnvl(a.ida(+)=b.ida);
ida	age	name	ida	age	name
3	2	b	1	2	NULL
NULL	2	a	1	2	NULL
3	2	b	2	2	a
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a,t2 b where lnnvl(a.ida(+)>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida(+)=b.ida);
ida	age	name	ida	age	name
NULL	NULL	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
NULL	NULL	NULL	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=b.ida(+));
ERROR HY000: OuterJoin: two tables cannot be outer-joined to each other
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida(+)=b.ida(+));
ERROR HY000: OuterJoin: a predicate may reference only one outer-joined table
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001) or lnnvl(a.ida=2001);
ERROR HY000: OuterJoin: outer join operator (+) not allowed in operand of OR or IN
select * from t1 a,t2 b where a.ida(+)=b.ida and (lnnvl(a.name(+) = 'b') or lnnvl(a.ida=2001));
ERROR HY000: OuterJoin: outer join operator (+) not allowed in operand of OR or IN
drop table student;
drop table account;
drop table t1;
drop table t2;
drop table t3;
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',null);
insert into account values('peter2004A',0);
insert into account values('peter2004B',1);
create table t1(ida int, age int, name varchar(10));
insert into t1 values(1, 2, '');
insert into t1 values(NULL, 2, 'a');
insert into t1 values(3, 2, 'b');
create table t2(ida int, age int, name varchar(10));
insert into t2 values(1, 2, '');
insert into t2 values(2, 2, 'a');
insert into t2 values(3, 1, 'b');
create table t3(ida int, age int, name varchar(10));
insert into t3 values(2, 3, 'a');
insert into t3 values(5, NULL, '');
set sql_mode=oracle;
select * from t1 a join t2 b on lnnvl(a.ida<>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and b.name='a');
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (b.name='a' and lnnvl(a.ida<>1));
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1));
ida	age	name	ida	age	name
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1) and b.name='b');
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1) and b.name<>'b');
ida	age	name	ida	age	name
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1) and b.name is null);
ida	age	name	ida	age	name
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1) and b.name is not null);
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida<>1) where a.age=2;
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida<>1) where a.age=20;
ida	age	name	ida	age	name
select * from t1 a join t2 b on lnnvl(a.ida<>1) where b.age=1;
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and b.name='a') where a.age=2;
ida	age	name	ida	age	name
NULL	2	a	2	2	a
1	2	NULL	2	2	a
select * from t1 a join t2 b on (b.name='a' and lnnvl(a.ida<>1)) where a.age=2;
ida	age	name	ida	age	name
NULL	2	a	2	2	a
1	2	NULL	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1)) where b.age=1;
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida=b.ida)) where b.age=1;
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida<>b.ida)) where b.age=1;
ida	age	name	ida	age	name
NULL	2	a	3	1	b
3	2	b	3	1	b
select * from t1 a join t2 b on (lnnvl(a.ida=b.ida) and b.name = 'a') where b.age=2;
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
3	2	b	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida)) where b.age=2;
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where b.age=2;
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where b.age=2 and lnnvl(a.name=b.name);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name=b.name);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name <> b.name) and lnnvl(a.age<b.age) and b.name='a' and a.name='a';
ida	age	name	ida	age	name
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(b.age<>1) and b.name='b') where b.name='b';
ida	age	name	ida	age	name
1	2	NULL	3	1	b
NULL	2	a	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida<>1) where lnnvl(a.name='a');
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
1	2	NULL	2	2	a
1	2	NULL	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida<>1) where lnnvl(a.name='a') and b.name='a';
ida	age	name	ida	age	name
1	2	NULL	2	2	a
select * from t1 a join t2 b on lnnvl(a.ida<>1) where b.name='a';
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.age<b.age);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.age=1);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name='a');
ida	age	name	ida	age	name
1	2	NULL	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where a.name='a';
ida	age	name	ida	age	name
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where a.name!='a';
ida	age	name	ida	age	name
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name!='a');
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name<>b.name);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name<>b.name) and lnnvl(a.age<b.age);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=@oracle_mode_emptystring_equal_null;
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where a.name!='a';
ida	age	name	ida	age	name
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name!='a');
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name<>b.name);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = 'a') where lnnvl(a.name<>b.name) and lnnvl(a.age<b.age);
ida	age	name	ida	age	name
1	2	NULL	2	2	a
NULL	2	a	2	2	a
execute immediate 'select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = \'a\') where lnnvl(a.name=\'a\')';
ida	age	name	ida	age	name
1	2	NULL	2	2	a
execute immediate 'select * from t1 a join t2 b on (lnnvl(a.ida<>?) and lnnvl(a.ida=b.ida) and b.name = ?) where lnnvl(a.name=?)' using 1,'a','a';
ida	age	name	ida	age	name
1	2	NULL	2	2	a
prepare my_stmt1 from 'select * from t1 a join t2 b on (lnnvl(a.ida<>1) and lnnvl(a.ida=b.ida) and b.name = \'a\') where lnnvl(a.name=\'a\')';
execute my_stmt1;
ida	age	name	ida	age	name
1	2	NULL	2	2	a
deallocate prepare my_stmt1;
SET @v1 = 1;
SET @v2 = 'a';
SET @v3 = 'a';
select @v1,@v2,@v3;
@v1	@v2	@v3
1	a	a
prepare my_stmt2 from 'select * from t1 a join t2 b on (lnnvl(a.ida<>?) and lnnvl(a.ida=b.ida) and b.name = ?) where lnnvl(a.name=?)';
execute my_stmt2 using @v1,@v2,@v3;
ida	age	name	ida	age	name
1	2	NULL	2	2	a
deallocate prepare my_stmt2;
select * from t1 a join t2 b on lnnvl(not(not(a.ida)));
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
NULL	2	a	2	2	a
NULL	2	a	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida<>0);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
NULL	2	a	2	2	a
NULL	2	a	3	1	b
select * from t1 a join t2 b on lnnvl(a.ida=0);
ida	age	name	ida	age	name
3	2	b	1	2	NULL
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
3	2	b	2	2	a
NULL	2	a	2	2	a
1	2	NULL	2	2	a
3	2	b	3	1	b
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a join t2 b on lnnvl(not(a.ida));
ida	age	name	ida	age	name
3	2	b	1	2	NULL
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
3	2	b	2	2	a
NULL	2	a	2	2	a
1	2	NULL	2	2	a
3	2	b	3	1	b
NULL	2	a	3	1	b
1	2	NULL	3	1	b
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=@oracle_mode_emptystring_equal_null;
select * from t1 a,t2 b where lnnvl(a.ida<>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a cross join t2 b where lnnvl(a.ida<>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a left join t2 b on lnnvl(a.ida=1);
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
3	2	b	3	1	b
3	2	b	2	2	a
3	2	b	1	2	NULL
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida)));
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
NULL	2	a	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	5	NULL	NULL
1	2	NULL	1	2	NULL	2	3	a
1	2	NULL	1	2	NULL	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
NULL	2	a	2	2	a	5	NULL	NULL
1	2	NULL	2	2	a	5	NULL	NULL
3	2	b	3	1	b	2	3	a
3	2	b	3	1	b	5	NULL	NULL
NULL	2	a	3	1	b	2	3	a
NULL	2	a	3	1	b	5	NULL	NULL
1	2	NULL	3	1	b	2	3	a
1	2	NULL	3	1	b	5	NULL	NULL
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida) and c.name='a'));
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	2	3	a
1	2	NULL	1	2	NULL	2	3	a
3	2	b	3	1	b	2	3	a
NULL	2	a	3	1	b	2	3	a
1	2	NULL	3	1	b	2	3	a
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida) and c.name<>'a'));
ida	age	name	ida	age	name	ida	age	name
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida) and lnnvl(b.name<>c.name)));
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
NULL	2	a	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	5	NULL	NULL
1	2	NULL	1	2	NULL	2	3	a
1	2	NULL	1	2	NULL	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
NULL	2	a	2	2	a	5	NULL	NULL
1	2	NULL	2	2	a	5	NULL	NULL
3	2	b	3	1	b	5	NULL	NULL
NULL	2	a	3	1	b	5	NULL	NULL
1	2	NULL	3	1	b	5	NULL	NULL
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida) and lnnvl(b.name<>c.name) and c.name='a'));
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	2	3	a
1	2	NULL	1	2	NULL	2	3	a
select * from t1 a cross join (t2 b join t3 c on(lnnvl(b.ida=c.ida) and lnnvl(b.name<>c.name) and c.name<>'a'));
ida	age	name	ida	age	name	ida	age	name
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on lnnvl(a.ida=b.ida);
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
NULL	2	a	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
NULL	2	a	2	2	a	5	NULL	NULL
1	2	NULL	2	2	a	5	NULL	NULL
NULL	2	a	3	1	b	2	3	a
NULL	2	a	3	1	b	5	NULL	NULL
1	2	NULL	3	1	b	2	3	a
1	2	NULL	3	1	b	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and a.name='b');
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
3	2	b	2	2	a	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and a.name<>'b');
ida	age	name	ida	age	name	ida	age	name
NULL	2	a	1	2	NULL	2	3	a
NULL	2	a	1	2	NULL	5	NULL	NULL
NULL	2	a	2	2	a	5	NULL	NULL
NULL	2	a	3	1	b	2	3	a
NULL	2	a	3	1	b	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b');
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
3	2	b	2	2	a	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where a.age=2;
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
3	2	b	2	2	a	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where a.age=1;
ida	age	name	ida	age	name	ida	age	name
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2);
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and b.name='a';
ida	age	name	ida	age	name	ida	age	name
3	2	b	2	2	a	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name);
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name) and a.name='a';
ida	age	name	ida	age	name	ida	age	name
select * from t1 a join (t2 b join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name) and a.name='b';
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
select * from t1 a left join (t2 b right join t3 c on(lnnvl(b.ida=c.ida))) on lnnvl(a.ida=b.ida);
ida	age	name	ida	age	name	ida	age	name
1	2	NULL	2	2	a	5	NULL	NULL
1	2	NULL	3	1	b	5	NULL	NULL
1	2	NULL	3	1	b	2	3	a
NULL	2	a	1	2	NULL	5	NULL	NULL
NULL	2	a	2	2	a	5	NULL	NULL
NULL	2	a	3	1	b	5	NULL	NULL
NULL	2	a	1	2	NULL	2	3	a
NULL	2	a	3	1	b	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
select * from t1 a full join (t2 b full join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b');
ida	age	name	ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	2	a	NULL	NULL	NULL	NULL	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
NULL	NULL	NULL	3	1	b	5	NULL	NULL
NULL	NULL	NULL	3	1	b	2	3	a
select * from t1 a right join (t2 b right join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b');
ida	age	name	ida	age	name	ida	age	name
NULL	NULL	NULL	3	1	b	2	3	a
3	2	b	1	2	NULL	2	3	a
NULL	NULL	NULL	3	1	b	5	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
3	2	b	1	2	NULL	5	NULL	NULL
select * from t1 a left join (t2 b left join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b');
ida	age	name	ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL	NULL	NULL	NULL
NULL	2	a	NULL	NULL	NULL	NULL	NULL	NULL
3	2	b	2	2	a	5	NULL	NULL
3	2	b	1	2	NULL	2	3	a
3	2	b	1	2	NULL	5	NULL	NULL
select * from t1 a right join (t2 b full join t3 c on(lnnvl(b.ida=c.ida))) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name) and a.name='b';
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	5	NULL	NULL
select * from t1 a right join (t2 b full join t3 c on(b.ida=c.ida)) on (lnnvl(a.ida=b.ida) and lnnvl(a.age=0) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name) and a.name='b' order by b.ida;
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	NULL	NULL	NULL
3	2	b	NULL	NULL	NULL	5	NULL	NULL
select * from t1 a right join (t2 b full join t3 c on(b.ida=c.ida)) on (lnnvl(a.ida=b.ida) and a.name='b') where lnnvl(c.age<>2) and lnnvl(b.name<>a.name) and a.name='b' order by b.ida;
ida	age	name	ida	age	name	ida	age	name
3	2	b	1	2	NULL	NULL	NULL	NULL
3	2	b	NULL	NULL	NULL	5	NULL	NULL
select * from account a,account b where lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name) and b.year!=0;
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2004B	1	peter2004B	1
select * from account a join account b on(lnnvl(a.year<>b.year) and lnnvl(a.name<>b.name)) where b.year!=0;
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2004B	1	peter2004B	1
select * from account a join account b on(lnnvl(a.year<>b.year)) where b.year!=0;
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004B	1	peter2004B	1
select * from account a join account b on(lnnvl(a.year<>b.year));
name	year	name	year
peter2003	NULL	peter2001	2001
peter2001	2001	peter2001	2001
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
peter2004B	1	peter2003	NULL
peter2004A	0	peter2003	NULL
peter2003	NULL	peter2003	NULL
peter2002	2002	peter2003	NULL
peter2001	2001	peter2003	NULL
peter2004A	0	peter2004A	0
peter2003	NULL	peter2004A	0
peter2004B	1	peter2004B	1
peter2003	NULL	peter2004B	1
select * from account a join account b on(lnnvl(a.year<>b.year) and b.year!=0);
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004B	1	peter2004B	1
select * from account a left join account b on(lnnvl(a.year<>b.year) and b.year!=0);
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004A	0	NULL	NULL
peter2004B	1	peter2004B	1
select * from account a right join account b on(lnnvl(a.year<>b.year) and b.year!=0);
name	year	name	year
peter2003	NULL	peter2001	2001
peter2001	2001	peter2001	2001
peter2003	NULL	peter2002	2002
peter2002	2002	peter2002	2002
NULL	NULL	peter2003	NULL
NULL	NULL	peter2004A	0
peter2004B	1	peter2004B	1
peter2003	NULL	peter2004B	1
select * from account a full join account b on(lnnvl(a.year<>b.year) and b.year!=0);
name	year	name	year
peter2001	2001	peter2001	2001
peter2002	2002	peter2002	2002
peter2003	NULL	peter2004B	1
peter2003	NULL	peter2002	2002
peter2003	NULL	peter2001	2001
peter2004A	0	NULL	NULL
peter2004B	1	peter2004B	1
NULL	NULL	peter2003	NULL
NULL	NULL	peter2004A	0
select * from t1 a join t2 b on lnnvl(a.ida<>1);
ida	age	name	ida	age	name
NULL	2	a	1	2	NULL
1	2	NULL	1	2	NULL
NULL	2	a	2	2	a
1	2	NULL	2	2	a
NULL	2	a	3	1	b
1	2	NULL	3	1	b
select * from t1 a left join t2 b on lnnvl(a.ida=1);
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
3	2	b	3	1	b
3	2	b	2	2	a
3	2	b	1	2	NULL
select * from t1 a left join t2 b on lnnvl(a.ida<>1);
ida	age	name	ida	age	name
1	2	NULL	3	1	b
1	2	NULL	2	2	a
1	2	NULL	1	2	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
3	2	b	NULL	NULL	NULL
select * from t1 a left join t2 b on lnnvl(a.ida=1) and a.age=2;
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
3	2	b	3	1	b
3	2	b	2	2	a
3	2	b	1	2	NULL
select * from t1 a left join t2 b on (lnnvl(a.ida=1) and a.age=2);
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
NULL	2	a	3	1	b
NULL	2	a	2	2	a
NULL	2	a	1	2	NULL
3	2	b	3	1	b
3	2	b	2	2	a
3	2	b	1	2	NULL
select * from t1 a left join t2 b on (lnnvl(a.ida=1) and a.age=2) where a.ida=1;
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
select * from t1 a left join (t2 b join t3 c on b.ida=c.ida) on(lnnvl(a.ida=b.ida));
ida	age	name	ida	age	name	ida	age	name
1	2	NULL	2	2	a	2	3	a
NULL	2	a	2	2	a	2	3	a
3	2	b	2	2	a	2	3	a
set sql_mode=oracle;
drop table account;
drop table t1;
drop table t2;
drop table t3;
set sql_mode=oracle//
declare
a int;
begin
a:=1;
select a;
end//
a
1
declare
a int;
begin
a:=lnnvl(1>1);
select a;
end//
a
NULL
create or replace procedure proc_calc as
a int;
begin
a:=1;
select a;
end;
//
call proc_calc();//
a
1
drop procedure proc_calc;//
create or replace function func_calc return number is
temp int := 0;
begin
return temp;
end;
//
select func_calc()//
func_calc()
0
create or replace function func_calc return number is
temp int := 0;
begin
return length(1);
end;
//
select func_calc()//
func_calc()
1
create or replace function func_calc return number is
temp int := lnnvl(1>1);
begin
return temp;
end;
//
select func_calc()//
func_calc()
NULL
drop function func_calc;//
create table t1(i int, j int);
insert into t1 values(0, 1);
create trigger trig_calc before insert
on t1 for each row
begin
:new.i:=0;
end;
//
insert into t1 values(0, 1);//
drop trigger trig_calc;//
create trigger trig_calc before insert
on t1 for each row
begin
:new.i:=lnnvl(1>1);
end;
//
insert into t1 values(0, 1);//
drop trigger trig_calc;//
create trigger trig_calc before insert
on t1 for each row
begin
if :new.i<2 then
:new.j:=lnnvl(1>1);
end if;
end;
//
insert into t1 values(0, 1);//
drop trigger trig_calc;//
drop table t1;//
declare
a int;
begin
a:=1;
if a = 1 then
select a;
end if;
end//
a
1
declare
a int;
begin
a:=2;
if a = 1 then
select a;
elsif a = 2 then
select a+1;
end if;
end//
a+1
3
declare
a int;
begin
a:=1;
if lnnvl(1!=1) then
select a;
end if;
end//
a
1
declare
a int;
begin
a:=1;
if lnnvl(1!=1) = 0 then
select a;
end if;
end//
declare
a int;
begin
a:=1;
if lnnvl(1=1) then
select a;
end if;
end//
declare
a int;
begin
a:=1;
if lnnvl(1>1) is null then
select a;
end if;
end//
a
1
create table account(name varchar(20),year number);
insert into account values('greatdb2001',2001);
insert into account values('greatdb2002',2002);
insert into account values('greatdb2003',2003);
insert into account values('greatdb2004',2004);
insert into account values('greatdb2005',2005);
insert into account values('greatdb2006',2006);
insert into account values('greatdb2007',null);
create or replace procedure proc_calc as
v_year int;
cursor c is select year from account where lnnvl(name<>'greatdb2004');
begin
open c;
fetch c into v_year;
select v_year;
close c;
end;
//
call proc_calc//
v_year
2004
create or replace procedure proc_calc as
v_year int;
cursor c is select year from account where lnnvl(name='greatdb2004');
begin
open c;
loop
fetch c into v_year;
exit when c%notfound;
select v_year;
end loop;
close c;
end;
//
call proc_calc//
v_year
2001
v_year
2002
v_year
2003
v_year
2005
v_year
2006
v_year
NULL
create or replace procedure proc_calc(a_a varchar(32)) as
v_year int;
cursor c(p_a varchar(32)) is select year from account where lnnvl(name<>p_a);
begin
open c(a_a);
fetch c into v_year;
select v_year;
close c;
end;
//
call proc_calc('greatdb2004')//
v_year
2004
create or replace procedure proc_calc(a_a varchar(32)) as
begin
select nvl(a_a,'NULL VALUE');
end;
//
call proc_calc(lnnvl(1>1));//
nvl(a_a,'NULL VALUE')
NULL VALUE
call proc_calc(lnnvl(1));//
nvl(a_a,'NULL VALUE')
NULL VALUE
create or replace procedure proc_calc2 as
begin
call proc_calc(lnnvl(1));
end;
//
call proc_calc2//
nvl(a_a,'NULL VALUE')
NULL VALUE
create or replace procedure proc_calc2 as
begin
call proc_calc(lnnvl(1>1));
end;
//
call proc_calc2//
nvl(a_a,'NULL VALUE')
NULL VALUE
create or replace function func_calc(id int) return number is
temp int := 0;
begin
return temp+id;
end;
//
select func_calc(lnnvl(1));//
func_calc(lnnvl(1))
NULL
select func_calc(lnnvl(1>1));//
func_calc(lnnvl(1>1))
NULL
drop procedure proc_calc//
drop procedure proc_calc2//
drop function func_calc//
drop table account//
set sql_mode=oracle;
create table account(year number);
insert into account values(1);
select lnnvl(1=1) a,lnnvl(1=1)+1 b,lnnvl(1=1) is null c,lnnvl(1=1) is not null d,lnnvl(1=1)=0 e,lnnvl(1=1)!=0 f from dual;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(1!=1) a,lnnvl(1!=1)+1 b,lnnvl(1!=1) is null c,lnnvl(1!=1) is not null d,lnnvl(1!=1)=0 e,lnnvl(1!=1)!=0 f from dual;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(null is null) a,lnnvl(null is null)+1 b,lnnvl(null is null) is null c,lnnvl(null is null) is not null d,lnnvl(null is null)=0 e,lnnvl(null is null)!=0 f from dual;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(null is not null) a,lnnvl(null is not null)+1 b,lnnvl(null is not null) is null c,lnnvl(null is not null) is not null d,lnnvl(null is not null)=0 e,lnnvl(null is not null)!=0 f from dual;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(year=1) a,lnnvl(year=1)+1 b,lnnvl(year=1) is null c,lnnvl(year=1) is not null d,lnnvl(year=1)=0 e,lnnvl(year=1)!=0 f from account;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(year!=1) a,lnnvl(year!=1)+1 b,lnnvl(year!=1) is null c,lnnvl(year!=1) is not null d,lnnvl(year!=1)=0 e,lnnvl(year!=1)!=0 f from account;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(year is null) a,lnnvl(year is null)+1 b,lnnvl(year is null) is null c,lnnvl(year is null) is not null d,lnnvl(year is null)=0 e,lnnvl(year is null)!=0 f from account;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
select lnnvl(year is not null) a,lnnvl(year is not null)+1 b,lnnvl(year is not null) is null c,lnnvl(year is not null) is not null d,lnnvl(year is not null)=0 e,lnnvl(year is not null)!=0 f from account;
a	b	c	d	e	f
NULL	NULL	1	0	NULL	NULL
drop table account;
create table account(name varchar(20),year number);
create table account_bk(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',2003);
insert into account values('peter2004',2004);
insert into account values('peter2005',2005);
insert into account values('peter2006',2006);
insert into account values('peter2007',null);
insert into account_bk select * from account;
select * from account where lnnvl(1>1 or 1=2);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1>1 or 1);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1>1 and 1=2);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1>1 and (1=2 or 1=2));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(name like '%2004%' or year=2001);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(not(a=1 and b=2));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(not(a between 1 and 2));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(a not between 1 and 2);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1>1 and year like '%2004%');
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(1=1 and 2=2));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(1=1 or 2=2));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(year between 2001 and 2003));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(year not between 2001 and 2003));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(not(year between 2001 and 2003));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(not(year between 2001 and 2003)=1);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(1=1 and year between 2001 and 2003));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(1=1 or year between 2001 and 2003));
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(1=(1=1));
name	year
select * from account where lnnvl(not(year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(not(year>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(not(year)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(not(year>1)>1);
name	year
peter2007	NULL
select * from account where lnnvl(length(year)>1);
name	year
peter2007	NULL
select * from account where lnnvl(length(year>1)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(length(1)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(length(1>1)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(length(null)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(length(null>1)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where not(lnnvl(year>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(lnnvl(year>1)>1);
name	year
select * from account where not(lnnvl(1>1));
name	year
select * from account where not(lnnvl(1>1)>1);
name	year
select * from account where not(lnnvl(null>1));
name	year
select * from account where not(lnnvl(null>1)>1);
name	year
select * from account where length(lnnvl(year>1));
name	year
select * from account where length(lnnvl(year>1)>1);
name	year
select * from account where length(lnnvl(1>1));
name	year
select * from account where length(lnnvl(1>1)>1);
name	year
select * from account where length(lnnvl(null>1));
name	year
select * from account where length(lnnvl(null>1)>1);
name	year
select * from account where lnnvl(year = (select year from account where year=2001 and name='peter2004'));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year = (select year from account where (year=2001 or name='peter2004') and rownum<=1));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year in (select year from account where year=2001 or name='peter2004'));
name	year
peter2002	2002
peter2003	2003
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year in (select year from account where year between 2001 and 2003));
name	year
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year in (select year from account where year not between 2001 and 2003));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2007	NULL
insert into account values('peter2008',lnnvl(1>1));
insert into account values('peter2008',lnnvl(lnnvl(1>1)));
update account set name = lnnvl(1>1) where name = 'peter2008';
update account set name = lnnvl(lnnvl(1>1)) where name = 'peter2008';
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
NULL	NULL
NULL	NULL
delete from account;
insert into account select * from account_bk;
select * from account where length((lnnvl(year>1) is null)) is null;
name	year
select * from account where length((lnnvl(year>1) is null)) = 1;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(not(year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year=0);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year!=2001);
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year=2001);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(not(year!=2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where not(lnnvl(year=2001));
name	year
peter2001	2001
select * from account where not(lnnvl(year!=2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not lnnvl(year=2001);
name	year
peter2001	2001
select * from account where not lnnvl(year!=2001);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(2001<>2001) in (1,2,3);
name	year
select * from account where lnnvl(year<>2001) in (1,2,3);
name	year
select * from account where lnnvl(year<>2001) like '%test%';
name	year
select * from account where lnnvl(2001<>2001) in (1,2,3) and year =1;
name	year
select * from account where lnnvl(year<>2001) in (1,2,3) and year =1;
name	year
select * from account where lnnvl(year<>2001) like '%test' and year =1;
name	year
select * from account a join account b on(lnnvl(a.year=b.year)) where b.year=2001;
name	year	name	year
peter2002	2002	peter2001	2001
peter2003	2003	peter2001	2001
peter2004	2004	peter2001	2001
peter2005	2005	peter2001	2001
peter2006	2006	peter2001	2001
peter2007	NULL	peter2001	2001
select * from account a join account b on(lnnvl(a.year=b.year));
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a join account b on(lnnvl(a.year=b.year) is null);
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2003	2003	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2004	2004	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2005	2005	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2006	2006	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a join account b on(lnnvl(a.year=b.year) = 0);
name	year	name	year
select * from account a join account b on(lnnvl(a.year=b.year) is null) where b.year is null;
name	year	name	year
peter2001	2001	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2007	NULL	peter2007	NULL
select * from account a right join account b on(lnnvl(a.year=b.year)) where b.year=2001;
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
select * from account a right join account b on(lnnvl(a.year=b.year));
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a right join account b on(lnnvl(a.year=b.year) is null);
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2003	2003	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2004	2004	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2005	2005	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2006	2006	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a right join account b on(lnnvl(a.year=b.year) = 0);
name	year	name	year
NULL	NULL	peter2001	2001
NULL	NULL	peter2002	2002
NULL	NULL	peter2003	2003
NULL	NULL	peter2004	2004
NULL	NULL	peter2005	2005
NULL	NULL	peter2006	2006
NULL	NULL	peter2007	NULL
select * from account a right join account b on(lnnvl(a.year=b.year) is null) where b.year is null;
name	year	name	year
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account b where lnnvl(a.year=b.year);
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account b where lnnvl(a.year=b.year) is null;
name	year	name	year
peter2007	NULL	peter2001	2001
peter2006	2006	peter2001	2001
peter2005	2005	peter2001	2001
peter2004	2004	peter2001	2001
peter2003	2003	peter2001	2001
peter2002	2002	peter2001	2001
peter2001	2001	peter2001	2001
peter2007	NULL	peter2002	2002
peter2006	2006	peter2002	2002
peter2005	2005	peter2002	2002
peter2004	2004	peter2002	2002
peter2003	2003	peter2002	2002
peter2002	2002	peter2002	2002
peter2001	2001	peter2002	2002
peter2007	NULL	peter2003	2003
peter2006	2006	peter2003	2003
peter2005	2005	peter2003	2003
peter2004	2004	peter2003	2003
peter2003	2003	peter2003	2003
peter2002	2002	peter2003	2003
peter2001	2001	peter2003	2003
peter2007	NULL	peter2004	2004
peter2006	2006	peter2004	2004
peter2005	2005	peter2004	2004
peter2004	2004	peter2004	2004
peter2003	2003	peter2004	2004
peter2002	2002	peter2004	2004
peter2001	2001	peter2004	2004
peter2007	NULL	peter2005	2005
peter2006	2006	peter2005	2005
peter2005	2005	peter2005	2005
peter2004	2004	peter2005	2005
peter2003	2003	peter2005	2005
peter2002	2002	peter2005	2005
peter2001	2001	peter2005	2005
peter2007	NULL	peter2006	2006
peter2006	2006	peter2006	2006
peter2005	2005	peter2006	2006
peter2004	2004	peter2006	2006
peter2003	2003	peter2006	2006
peter2002	2002	peter2006	2006
peter2001	2001	peter2006	2006
peter2007	NULL	peter2007	NULL
peter2006	2006	peter2007	NULL
peter2005	2005	peter2007	NULL
peter2004	2004	peter2007	NULL
peter2003	2003	peter2007	NULL
peter2002	2002	peter2007	NULL
peter2001	2001	peter2007	NULL
select * from account a,account b where lnnvl(a.year=b.year) = 0;
name	year	name	year
select 1 from dual where lnnvl(1=1)!=0;
1
select 1 from dual where lnnvl(1=1)!=1;
1
select 1 from dual where lnnvl(1=1) is null;
1
1
select 1 from dual where lnnvl(1=1) is not null;
1
select 1 from dual where lnnvl(1!=1)!=0;
1
select 1 from dual where lnnvl(1!=1)!=1;
1
select 1 from dual where lnnvl(1!=1) is null;
1
1
select 1 from dual where lnnvl(1!=1) is not null;
1
select * from account where lnnvl(year=2001) = 0;
name	year
select * from account where lnnvl(year=2001) != 0;
name	year
select * from account where lnnvl(year=2001) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year=2001) is not null;
name	year
select * from account where lnnvl(year!=2001) = 0;
name	year
select * from account where lnnvl(year!=2001) != 0;
name	year
select * from account where lnnvl(year!=2001) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year!=2001) is not null;
name	year
select * from account where lnnvl(year is null) = 0;
name	year
select * from account where lnnvl(year is null) != 0;
name	year
select * from account where lnnvl(year is null) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year is null) is not null;
name	year
select * from account where lnnvl(year is not null) = 0;
name	year
select * from account where lnnvl(year is not null) != 0;
name	year
select * from account where lnnvl(year is not null) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year is not null) is not null;
name	year
select * from account where lnnvl(lnnvl(year>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(lnnvl(lnnvl(year>1)));
name	year
peter2007	NULL
select * from account where lnnvl(lnnvl(lnnvl(lnnvl(year>1))));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(lnnvl(year>1)>1) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(lnnvl(year>1)>1) is null and year=2006;
name	year
peter2006	2006
drop table account;
create table account(name varchar2(20),year number);
insert into account values('peter2001',null);
select * from account where lnnvl(year>1);
name	year
peter2001	NULL
select * from account where lnnvl(lnnvl(year>1));
name	year
select * from account where lnnvl(lnnvl(lnnvl(year>1)));
name	year
peter2001	NULL
select * from account where lnnvl(lnnvl(lnnvl(lnnvl(year>1))));
name	year
select * from account where lnnvl(lnnvl(year>1)>1);
name	year
peter2001	NULL
select * from account where lnnvl(lnnvl(year>1)>1) is null;
name	year
peter2001	NULL
drop table account;
create table account(name varchar2(20),year varchar2(20));
insert into account values('peter2001','');
select * from account where lnnvl(year>1);
name	year
peter2001	
select * from account where lnnvl(lnnvl(year>1));
name	year
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=@oracle_mode_emptystring_equal_null;
select * from account where lnnvl(year='');
name	year
peter2001	NULL
select * from account where lnnvl(lnnvl(year=''));
name	year
select * from account where lnnvl(year is null);
name	year
select * from account where lnnvl(lnnvl(year is null));
name	year
peter2001	NULL
drop table account;
select lnnvl(1);
lnnvl(1)
NULL
select lnnvl(1+1);
lnnvl(1+1)
NULL
select lnnvl(1)+1;
lnnvl(1)+1
NULL
select lnnvl(1)>0;
lnnvl(1)>0
NULL
select lnnvl(1) is null;
lnnvl(1) is null
1
select lnnvl(null);
lnnvl(null)
NULL
select lnnvl(null+1);
lnnvl(null+1)
NULL
select lnnvl(null)+1;
lnnvl(null)+1
NULL
select lnnvl(null)>0;
lnnvl(null)>0
NULL
select lnnvl(null) is null;
lnnvl(null) is null
1
begin
select lnnvl(null) is null;
end//
lnnvl(null) is null
1
create or replace procedure p1() as
begin
select lnnvl(null) is null;
end//
call p1//
lnnvl(null) is null
1
drop procedure p1//
declare
a int;
begin
a:=2;
if a = 1 then
select a;
elsif a = 2 then
select lnnvl(a);
end if;
end//
lnnvl(a)
NULL
declare
a int;
begin
a:=2;
if a = 1 then
select a;
elsif a = 2 then
select lnnvl(a>1);
end if;
end//
lnnvl(a>1)
NULL
declare
type stu_record is record(
id int := 1,
name_d  varchar(20) := 'aaa',
score float := 0.1
);
my_var stu_record;
begin
select lnnvl(my_var.id>0);
end;//
lnnvl(my_var.id>0)
NULL
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',2003);
insert into account values('peter2004',2004);
insert into account values('peter2005',2005);
insert into account values('peter2006',2006);
insert into account values('peter2007',null);
select lnnvl(year>1) from account group by lnnvl(year>1);
lnnvl(year>1)
NULL
select year from account group by year having lnnvl(year>1);
year
NULL
select year from account group by year having lnnvl(year>1) is null;
year
2001
2002
2003
2004
2005
2006
NULL
select year from account group by year having lnnvl(year>1) = 0;
year
select lnnvl(year>1) from account group by lnnvl(year>1);
lnnvl(year>1)
NULL
select lnnvl(year>1)=1 from account group by lnnvl(year>1)=1;
lnnvl(year>1)=1
NULL
select lnnvl(year>1) is null from account group by lnnvl(year>1) is null;
lnnvl(year>1) is null 
1
select * from account order by lnnvl(year>0);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account order by lnnvl(year>0) is null;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account order by lnnvl(year>0) = 1;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select year,name,lnnvl(year>1) from account order by lnnvl(year>1);
year	name	lnnvl(year>1)
2001	peter2001	NULL
2002	peter2002	NULL
2003	peter2003	NULL
2004	peter2004	NULL
2005	peter2005	NULL
2006	peter2006	NULL
NULL	peter2007	NULL
select year,name,lnnvl(year>1) is null from account order by lnnvl(year>1) is null;
year	name	lnnvl(year>1) is null 
2001	peter2001	1
2002	peter2002	1
2003	peter2003	1
2004	peter2004	1
2005	peter2005	1
2006	peter2006	1
NULL	peter2007	1
select year,name,lnnvl(year>1) = 1 from account order by lnnvl(year>1) = 1;
year	name	lnnvl(year>1) = 1
2001	peter2001	NULL
2002	peter2002	NULL
2003	peter2003	NULL
2004	peter2004	NULL
2005	peter2005	NULL
2006	peter2006	NULL
NULL	peter2007	NULL
CREATE TABLE student (
id       INT,
name  VARCHAR(10),
grade INT
);
INSERT INTO student VALUES(1, 'John', NULL);
INSERT INTO student VALUES(2, 'Paul', 1);
INSERT INTO student VALUES(3, 'Nancy', 1);
INSERT INTO student VALUES(4, 'Sarah', 3);
select level,id,name,grade from student connect by lnnvl(prior id = grade);
ERROR HY000: connect by loop in user data
select level,id,name,grade from student connect by lnnvl(prior id>0) = grade;
level	id	name	grade
1	1	John	NULL
1	2	Paul	1
1	3	Nancy	1
1	4	Sarah	3
select level,id,name,grade from student connect by lnnvl(prior id>0) is null;
ERROR HY000: connect by loop in user data
select level,id,name,grade from student connect by lnnvl(prior id>0) is not null;
level	id	name	grade
1	1	John	NULL
1	2	Paul	1
1	3	Nancy	1
1	4	Sarah	3
select level,id,name,grade from student connect by lnnvl(prior id>0);
level	id	name	grade
1	1	John	NULL
1	2	Paul	1
1	3	Nancy	1
1	4	Sarah	3
select level,id,name,grade,lnnvl(grade=1) from student connect by lnnvl(prior id>0) = lnnvl(grade!=1);
level	id	name	grade	lnnvl(grade=1)
1	1	John	NULL	NULL
1	2	Paul	1	NULL
1	3	Nancy	1	NULL
1	4	Sarah	3	NULL
select level,id,name,grade from student start with lnnvl(id=2) connect by prior id = grade;
level	id	name	grade
1	1	John	NULL
2	2	Paul	1
2	3	Nancy	1
3	4	Sarah	3
1	3	Nancy	1
2	4	Sarah	3
1	4	Sarah	3
select level,id,name,grade from student start with lnnvl(id=2) is null connect by prior id = grade;
level	id	name	grade
1	1	John	NULL
2	2	Paul	1
2	3	Nancy	1
3	4	Sarah	3
1	2	Paul	1
1	3	Nancy	1
2	4	Sarah	3
1	4	Sarah	3
select level,id,name,grade from student start with lnnvl(id=2) = 0 connect by prior id = grade;
level	id	name	grade
select level,id,name,grade from student connect by lnnvl(prior id>0) = lnnvl(grade!=1);
level	id	name	grade
1	1	John	NULL
1	2	Paul	1
1	3	Nancy	1
1	4	Sarah	3
select level,id,name,grade,lnnvl(grade) from student connect by lnnvl(prior id>0) = lnnvl(grade!=1);
level	id	name	grade	lnnvl(grade)
1	1	John	NULL	NULL
1	2	Paul	1	NULL
1	3	Nancy	1	NULL
1	4	Sarah	3	NULL
select level,id,name,grade from student start with lnnvl(id) connect by prior id = grade;
level	id	name	grade
drop table student;
select * from account where lnnvl(year between 2004 and 2004);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(year not between 2004 and 2004);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(year between 2004 and 2005);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select lnnvl(year between 2004 and 2004) from account;
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select lnnvl(year not between 2004 and 2004) from account;
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select lnnvl(year between 2004 and 2005) from account;
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account where lnnvl(2001<>2001) between 1 and 10;
name	year
select * from account where lnnvl(year<>2001) between 1 and 10;
name	year
select * from account where nvl(lnnvl(year<>2001),2) between 1 and 10;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select year,(case when lnnvl(year>1) = 2001 then name||'-2001' else name||'-2002' end) col from account;
year	col
2001	peter2001-2002
2002	peter2002-2002
2003	peter2003-2002
2004	peter2004-2002
2005	peter2005-2002
2006	peter2006-2002
NULL	peter2007-2002
select year,(case when lnnvl(year>1) then name||'-2001' else name||'-2002' end) col from account;
year	col
2001	peter2001-2002
2002	peter2002-2002
2003	peter2003-2002
2004	peter2004-2002
2005	peter2005-2002
2006	peter2006-2002
NULL	peter2007-2001
select year,(case when lnnvl(year) then name||'-2001' else name||'-2002' end) col from account;
year	col
2001	peter2001-2002
2002	peter2002-2002
2003	peter2003-2002
2004	peter2004-2002
2005	peter2005-2002
2006	peter2006-2002
NULL	peter2007-2001
select * from account
offset 2 rows
fetch next 50 percent rows with ties;
name	year
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account
offset lnnvl(year) rows
fetch next 50 percent rows with ties;
ERROR HY000: SQL ROW LIMITING invalid expression 
select * from account
offset lnnvl(year>1) rows
fetch next 50 percent rows with ties;
ERROR HY000: SQL ROW LIMITING invalid expression 
select * from account
offset 2 rows
fetch next lnnvl(year) percent rows with ties;
ERROR HY000: SQL ROW LIMITING invalid expression 
select * from account
offset 2 rows
fetch next lnnvl(year>1) percent rows with ties;
ERROR HY000: SQL ROW LIMITING invalid expression 
select wm_concat(lnnvl(name)) over (partition by year) from account;
wm_concat(lnnvl(name)) over (partition by year)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select listagg(lnnvl(year=1)) over (partition by year) from account;
listagg(lnnvl(year=1)) over (partition by year)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select listagg(null) over (partition by year) from account;
listagg(null) over (partition by year)
NULL
NULL
NULL
NULL
NULL
NULL
NULL
create table cust_sales_category(location varchar2(1024), prod_category varchar(1024), customer_id int, sale_amount int);
insert into cust_sales_category values('north',    'furniture',   2, 875);
insert into cust_sales_category values('south',    'electronics', 2, 378);
insert into cust_sales_category values('east',     'gardening',   4, 136);
insert into cust_sales_category values('west',     'electronics', 3, 236);
insert into cust_sales_category values('central',  'furniture',   3, 174);
insert into cust_sales_category values('north',    'electronics', 1, 729);
select * from cust_sales_category
pivot (
sum(sale_amount)
for customer_id
in (lnnvl(customer_id), 2, 3, 4)
) order by location;
location	prod_category	lnnvl(customer_id)	2	3	4
central	furniture	NULL	NULL	174	NULL
east	gardening	NULL	NULL	NULL	136
north	electronics	NULL	NULL	NULL	NULL
north	furniture	NULL	875	NULL	NULL
south	electronics	NULL	378	NULL	NULL
west	electronics	NULL	NULL	236	NULL
select * from cust_sales_category
pivot (
sum(sale_amount)
for customer_id
in (lnnvl(customer_id=2), 2, 3, 4)
) order by location;
location	prod_category	lnnvl(customer_id=2)	2	3	4
central	furniture	NULL	NULL	174	NULL
east	gardening	NULL	NULL	NULL	136
north	electronics	NULL	NULL	NULL	NULL
north	furniture	NULL	875	NULL	NULL
south	electronics	NULL	378	NULL	NULL
west	electronics	NULL	NULL	236	NULL
drop table cust_sales_category;
create table tt ( id int,c1 int default (lnnvl(1>1)+1));
insert into tt(id) value(1);
select * from tt;
id	c1
1	NULL
drop table tt;
create table tt ( id int,c1 int default (lnnvl(1>1)));
drop table tt;
create table tt ( id int,c1 int default (lnnvl(1)));
insert into tt(id) value(1);
select * from tt;
id	c1
1	NULL
drop table tt;
create table t1(ida int, age int, name varchar(10));
insert into t1 values(1, 2, '');
insert into t1 values(NULL, 2, 'a');
insert into t1 values(3, 2, 'b');
create table t2(ida int, age int, name varchar(10));
insert into t2 values(1, 2, '');
insert into t2 values(2, 2, 'a');
insert into t2 values(3, 1, 'b');
create table t3(ida int, age int, name varchar(10));
insert into t3 values(2, 3, 'a');
insert into t3 values(5, NULL, '');
set @oracle_mode_emptystring_equal_null='oracle,emptystring_equal_null';
set sql_mode=@oracle_mode_emptystring_equal_null;
select * from t1, t2 where lnnvl(t1.ida>1) = t2.ida(+);
ida	age	name	ida	age	name
1	2	NULL	NULL	NULL	NULL
NULL	2	a	NULL	NULL	NULL
3	2	b	NULL	NULL	NULL
select * from t1, t2 where lnnvl(t1.ida(+)>1) = t2.ida;
ida	age	name	ida	age	name
NULL	NULL	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
NULL	NULL	NULL	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001)>1;
ida	age	name	ida	age	name
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001) is null;
ida	age	name	ida	age	name
1	2	NULL	1	2	NULL
NULL	NULL	NULL	2	2	a
3	2	b	3	1	b
select * from t1 a,t2 b where a.ida(+)=b.ida and lnnvl(a.ida=2001)+1;
ida	age	name	ida	age	name
select * from t1, t2 where lnnvl(t1.ida(+)>1) = t2.ida(+);
ERROR HY000: OuterJoin: a predicate may reference only one outer-joined table
drop table t1;
drop table t2;
drop table t3;
delete from account;
insert into account select * from account_bk;
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year in(2004));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year not in(2004));
name	year
peter2004	2004
peter2007	NULL
select * from account where lnnvl(year in (select 2001 from dual));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year in (select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year not in (select 2001 from dual));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year not in (select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year not in (select 2001 from dual));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl((select 2001 from dual) in (select 2001 from dual));
name	year
select * from account where lnnvl((select 2001 from dual) not in (select 2001 from dual));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select lnnvl(year in(2004)) from account;
lnnvl(year in(2004))
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select lnnvl(year not in(2004)) from account;
lnnvl(year not in(2004))
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select lnnvl(year in(2004,2005)) from account;
lnnvl(year in(2004,2005))
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select lnnvl(year not in(2004,2005)) from account;
lnnvl(year not in(2004,2005))
NULL
NULL
NULL
NULL
NULL
NULL
NULL
select * from account a where lnnvl(exists (select 1 from account b where a.year=b.year and a.year=1) and a.year=1);
ERROR HY000: Incorrect arguments to invalid parameter in LNNVL function.
select * from account a where lnnvl(exists (select 1 from account b where a.year=b.year and a.year=1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account a where lnnvl(not exists (select 1 from account b where a.year=b.year and a.year=1));
name	year
select * from account a where lnnvl(not(exists (select 1 from account b where a.year=b.year and a.year=1)));
name	year
select * from account a where lnnvl(exists (select 1 from account b where a.year=b.year));
name	year
peter2007	NULL
select * from account a where lnnvl(not exists (select 1 from account b where a.year=b.year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select exists (select 1 from account b where a.year=b.year),lnnvl(exists (select 1 from account b where a.year=b.year)) from account a where lnnvl(exists (select 1 from account b where a.year=b.year));
exists (select 1 from account b where a.year=b.year)	lnnvl(exists (select 1 from account b where a.year=b.year))
0	NULL
select exists (select 1 from account b where a.year=b.year),year,name from account a;
exists (select 1 from account b where a.year=b.year)	year	name
1	2001	peter2001
1	2002	peter2002
1	2003	peter2003
1	2004	peter2004
1	2005	peter2005
1	2006	peter2006
0	NULL	peter2007
select not exists (select 1 from account b where a.year=b.year),year,name from account a;
not exists (select 1 from account b where a.year=b.year)	year	name
0	2001	peter2001
0	2002	peter2002
0	2003	peter2003
0	2004	peter2004
0	2005	peter2005
0	2006	peter2006
1	NULL	peter2007
select exists (select 1 from account b where a.year=b.year),year,name from account a where lnnvl(exists (select 1 from account b where a.year=b.year) = 0);
exists (select 1 from account b where a.year=b.year)	year	name
1	2001	peter2001
1	2002	peter2002
1	2003	peter2003
1	2004	peter2004
1	2005	peter2005
1	2006	peter2006
select exists (select 1 from account b where a.year=b.year),year,name from account a where lnnvl(exists (select 1 from account b where a.year=b.year) != 0);
exists (select 1 from account b where a.year=b.year)	year	name
0	NULL	peter2007
select not exists (select 1 from account b where a.year=b.year),year,name from account a where lnnvl(not exists (select 1 from account b where a.year=b.year) = 0);
not exists (select 1 from account b where a.year=b.year)	year	name
1	NULL	peter2007
select not exists (select 1 from account b where a.year=b.year),year,name from account a where lnnvl(not exists (select 1 from account b where a.year=b.year) != 0);
not exists (select 1 from account b where a.year=b.year)	year	name
0	2001	peter2001
0	2002	peter2002
0	2003	peter2003
0	2004	peter2004
0	2005	peter2005
0	2006	peter2006
select * from account a where lnnvl(exists (select lnnvl(year) from account b where a.year=b.year));
name	year
peter2007	NULL
select * from account a where lnnvl(exists (select lnnvl(year>1) from account b where a.year=b.year));
name	year
peter2007	NULL
select * from account a where exists (select lnnvl(a.year=b.year) from account b where a.year=b.year and a.year=2001);
name	year
peter2001	2001
select * from account a where exists (select lnnvl(a.year=b.year) from account b where a.year=b.year);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account a where exists (select lnnvl(a.year=b.year) from account b where a.year=b.year and a.year=2001);
name	year
peter2001	2001
select * from account a where exists (select lnnvl(a.year=b.year) from account b where a.year=b.year) and year=2001;
name	year
peter2001	2001
select * from account a where not exists (select lnnvl(a.year=b.year) from account b where a.year=b.year and a.year=2001);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account a where not exists (select lnnvl(a.year=b.year) from account b where a.year=b.year);
name	year
peter2007	NULL
select * from account a where not exists (select lnnvl(a.year=b.year) from account b where a.year=b.year and a.year=2001);
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account a where not exists (select lnnvl(a.year=b.year) from account b where a.year=b.year) and year=2001;
name	year
select * from account a where not exists (select lnnvl(a.year>1)+1 from account b where a.year=b.year);
name	year
peter2007	NULL
select * from account a where not exists (select lnnvl(a.year) from account b where a.year=b.year);
name	year
peter2007	NULL
select * from account where lnnvl(year > any(2001));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year >= any(2001));
name	year
peter2007	NULL
select * from account where lnnvl(year < any(2001));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year <= any(2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year = any(2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year != any(2001));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year > all(2001));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year >= all(2001));
name	year
peter2007	NULL
select * from account where lnnvl(year < all(2001));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year <= all(2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year = all(2001));
name	year
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year != all(2001));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year = any(select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year = any(select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year != any(select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year > any(select year from account));
name	year
peter2001	2001
peter2007	NULL
select * from account where lnnvl(year >= any(select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year < any(select year from account));
name	year
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year <= any(select year from account));
name	year
peter2007	NULL
select * from account where lnnvl(year = all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year != all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year > all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year >= all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year < all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year <= all(select year from account));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year > any(2001,1));
name	year
peter2007	NULL
select * from account where lnnvl(year > all(2001,1));
name	year
peter2001	2001
peter2007	NULL
drop table account;
drop table account_bk;
set sql_mode=oracle;
create table account(name varchar(20),year number);
insert into account values('peter2001',2001);
insert into account values('peter2002',2002);
insert into account values('peter2003',2003);
insert into account values('peter2004',2004);
insert into account values('peter2005',2005);
insert into account values('peter2006',2006);
insert into account values('peter2007',null);
select * from account;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select 1 from dual where lnnvl(1=1) is null;
1
1
select 1 from dual where lnnvl(1!=1) is null;
1
1
select 1 from dual where lnnvl(1) is null;
1
1
select 1 from dual where lnnvl(0) is null;
1
1
select * from account where lnnvl(1);
name	year
select * from account where lnnvl(0);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(null);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(year);
name	year
peter2007	NULL
select * from account where lnnvl(lnnvl(year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(lnnvl(year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(lnnvl(lnnvl(year)));
name	year
peter2007	NULL
select * from account where not(not(lnnvl(year)));
name	year
peter2007	NULL
select * from account where lnnvl(lnnvl(lnnvl(lnnvl(year))));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(not(not(lnnvl(year))));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(year>1);
name	year
peter2007	NULL
select * from account where lnnvl(lnnvl(year>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(lnnvl(year>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(lnnvl(lnnvl(year>1)));
name	year
peter2007	NULL
select * from account where not(not(lnnvl(year>1)));
name	year
peter2007	NULL
select * from account where lnnvl(lnnvl(lnnvl(lnnvl(year>1))));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(not(not(lnnvl(year>1))));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where lnnvl(year);
name	year
peter2007	NULL
select * from account where lnnvl(length(year));
name	year
peter2007	NULL
select * from account where lnnvl(length(year>1));
name	year
peter2007	NULL
select * from account where lnnvl(length(1));
name	year
select * from account where lnnvl(length(1>1));
name	year
select * from account where lnnvl(length(null));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(length(null>1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where not(lnnvl(year));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
select * from account where not(lnnvl(year)>1);
name	year
select * from account where not(lnnvl(1));
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where not(lnnvl(1)>1);
name	year
select * from account where not(lnnvl(null));
name	year
select * from account where not(lnnvl(null)>1);
name	year
select * from account where length(lnnvl(year));
name	year
select * from account where length(lnnvl(year)>1);
name	year
select * from account where length(lnnvl(1));
name	year
select * from account where length(lnnvl(1)>1);
name	year
select * from account where length(lnnvl(null));
name	year
select * from account where length(lnnvl(null)>1);
name	year
select * from account where lnnvl(lnnvl(year)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(null);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(lnnvl(year)>1);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(lnnvl(year)='');
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(lnnvl(year) is null);
name	year
select lnnvl(year) from account group by lnnvl(year);
lnnvl(year)
NULL
select year from account group by year having lnnvl(year);
year
NULL
select * from account order by lnnvl(year);
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account order by lnnvl(year)>0;
name	year
peter2001	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
select * from account where lnnvl(2001) between 1 and 10;
name	year
select * from account where lnnvl(2001=2001) between 1 and 10;
name	year
insert into account values('peter2008',lnnvl(1));
update account set name = lnnvl(1) where year=2001;
select * from account;
name	year
NULL	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
peter2008	NULL
delete from account where lnnvl(1);
select * from account;
name	year
NULL	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
peter2008	NULL
delete from account where lnnvl(1)+1;
select * from account;
name	year
NULL	2001
peter2002	2002
peter2003	2003
peter2004	2004
peter2005	2005
peter2006	2006
peter2007	NULL
peter2008	NULL
delete from account where lnnvl(lnnvl(year)=1);
select * from account;
name	year
drop table account;
