drop table if exists  t_to_char1;

CREATE TABLE t_to_char1(c0 int, c1 date, c2 time, c3 datetime);
set timestamp = 1;
set sql_mode='oracle';
INSERT INTO t_to_char1 VALUES (1, '1000-1-1', '00:00:00', '1000-1-1 00:00:00');
INSERT INTO t_to_char1 VALUES (2, '9999-12-31', '23:59:59', '9999-12-31 23:59:59');
INSERT INTO t_to_char1 VALUES (3, '2021-01-03', '08:30:00', '2021-01-03 08:30:00');
INSERT INTO t_to_char1 VALUES (4, '2021-07-03', '18:30:00', '2021-07-03 18:30:00');
INSERT INTO t_to_char1 VALUES (5, '0001-1-1', '00:00:00', '0001-1-1 00:00:00');
INSERT INTO t_to_char1 VALUES (6, '0011-1-1', '00:00:00', '0011-1-1 00:00:00');
INSERT INTO t_to_char1 VALUES (7, '0111-1-1', '00:00:00', '0111-1-1 00:00:00');

drop table if exists t_to_char2;
CREATE TABLE t_to_char2(c1 timestamp);
INSERT INTO t_to_char2 VALUES ('1980-01-11 04:50:39');
INSERT INTO t_to_char2 VALUES ('2000-11-11 12:50:00');
INSERT INTO t_to_char2 VALUES ('2030-11-11 18:20:10');

# test for timestamp
SELECT TO_CHAR(c1, 'YYYY-MM-DD') FROM t_to_char2;
SELECT TO_CHAR(c1, 'HH24-MI-SS') FROM t_to_char2;

# test full output format

SELECT TO_CHAR(c1, 'YYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'YY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'yyyy-mm-dd') AS C1, TO_CHAR(c2, 'hh:mi:ss') AS C2, TO_CHAR(c3, 'yy-mm-dd hh24:mi:ss') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'YYY-MON-DD') AS C1, TO_CHAR(c2, 'HH12:MI:SS') AS C2, TO_CHAR(c3, 'Y-MONTH-DY HH:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'yyy-Mon-Dd') AS C1, TO_CHAR(c2, 'Hh12:mi:Ss') AS C2, TO_CHAR(c3, 'y-Month-Dy Hh:Mi:Ss') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'RRRR-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'RRRR-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'RR-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'YY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'Rrrr-Mm-Dd') AS C1, TO_CHAR(c2, 'hh:mi:ss') AS C2, TO_CHAR(c3, 'Rrrr-mm-dd Hh24:mi:ss') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'rr-mm-dd') AS C1, TO_CHAR(c2, 'hh:mi:ss') AS C2, TO_CHAR(c3, 'yy-mm-dd hh24:Mi:ss') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'ADYYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'AD.YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'ADYYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'AD.YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'BCYYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'BCYYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'B.C.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'B.C.YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'bcyyyy-mm-dd') AS C1, TO_CHAR(c2, 'hh:mi:ss') AS C2, TO_CHAR(c3, 'BcYYyy-MM-DD Hh24:mi:sS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'b.c.yyyy-mm-dd') AS C1, TO_CHAR(c2, 'hh:mI:Ss') AS C2, TO_CHAR(c3, 'b.C.Yyyy-Mm-dd hH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'PMHH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD P.M.HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'pmHH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD p.m.HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'AMHH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD A.m.HH24:MI:SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'A.D.YYYY-MM-DD') AS C1, TO_CHAR(c2, 'amHH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD a.M.HH24:MI:SS') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'MM-YYYY-DD') AS C1, TO_CHAR(c2, 'HH:SS:MI') AS C2, TO_CHAR(c3, 'DD-YY-MM MI:SS:HH24') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'yyy-Dd-Mon') AS C1, TO_CHAR(c2, 'mi:Hh12:Ss') AS C2, TO_CHAR(c3, 'Ss:Hh:Mi Dy-y-Month') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'Dd-Mm-Rrrr') AS C1, TO_CHAR(c2, 'ss:hh:mi') AS C2, TO_CHAR(c3, 'ss:Rrrr-hh24-dd mon:mi') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYYA.D.-MM-DD') AS C1, TO_CHAR(c2, 'HH:MI:SS') AS C2, TO_CHAR(c3, 'A.D..YYYY-MM-DD HH24:MI:SS') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'YYYYMMDD') AS C1, TO_CHAR(c2, 'HHMISS') AS C2, TO_CHAR(c3, 'YYMMDDHH24MISS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY!!MM@DD') AS C1, TO_CHAR(c2, 'HH#MI$SS') AS C2, TO_CHAR(c3, 'YY%MM^DD*HH24(MI)SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY_MM+DD') AS C1, TO_CHAR(c2, 'HH=MI{SS') AS C2, TO_CHAR(c3, 'YY}MMDDHH24MISS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY,MM.DD') AS C1, TO_CHAR(c2, 'HH/MI;SS') AS C2, TO_CHAR(c3, 'YY>MM<DD]HH24[MI\SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY||||MM|DD') AS C1, TO_CHAR(c2, 'HH&|MI|&|SS') AS C2, TO_CHAR(c3, 'YY&&&\\MM|&&|DD HH24|| MI&||"abx"|SS') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY&MM-DD') FROM t_to_char1 where c0=1;
SELECT TO_CHAR(c1, 'YYYY"abx"MM"bsz"DD') AS C1 FROM t_to_char1;

SET character_set_client='utf8';
SET character_set_connection='utf8';
SET character_set_results='utf8';
SET lc_time_names='zh_TW';
SELECT TO_CHAR(c1, 'YYYY-MON-DAY') FROM t_to_char1;
SET lc_time_names='de_DE';
SELECT TO_CHAR(c1, 'YYYY-MON-DAY') FROM t_to_char1;
SET lc_time_names='en_US';
SELECT TO_CHAR(c1, 'YYYY-MON-DAY') FROM t_to_char1;
SET lc_time_names='zh_CN';
SELECT TO_CHAR(c1, 'YYYY-MON-DAY') FROM t_to_char1;

SET lc_time_names='en_US';
SET character_set_client='latin1';
SET character_set_connection='latin1';
SET character_set_results='latin1';

select to_char(c3, 'YYYYYYYYYYYYYYY') from t_to_char1;
select to_char(c3, 'YYYYYYYYYYYYYYYDDDDDD') from t_to_char1;

SET character_set_client='gb18030';
SET character_set_connection='gb18030';
SET character_set_results='gb18030';
SELECT TO_CHAR(c1, 'MONTH-MON-DAY-DY') FROM t_to_char1;


CREATE TABLE t_f(c1 varchar(150));
insert into t_f values('YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY-DD-MM');
--error ER_TOO_LONG_IDENT
select to_char('2000-11-11', c1) from t_f;
DROP TABLE t_f;
--error ER_TOO_LONG_IDENT
select to_char(c3, 'YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY-DD-MM') from t_to_char1 where c0 = 1;

select to_char(c3, 'YYYY-MM-DD HH:MI:SS') from t_to_char1 where c0 =1;

CREATE TABLE t_a( c4 char(20), c5 varchar(20), c6 nchar(20), c7 nvarchar(20));
insert into t_a VALUES ('2000-11-11', '2000-11-11', '2000-11-11', '2000-11-11');

SELECT TO_CHAR(to_date(c4, 'YYYY-MM-DD') , 'YYYY') from t_a;
SELECT TO_CHAR(to_date(c5,'YYYY-MM-DD') , 'YYYY') from t_a;
SELECT TO_CHAR(to_date(c6, 'YYYY-MM-DD'), 'YYYY') from t_a;
SELECT TO_CHAR(to_date(c7, 'YYYY-MM-DD')) from t_a;
DROP TABLE t_a;

CREATE TABLE t_b(c0 int, c1 char(20), c2 varchar(20), c3 nchar(20), c4 nvarchar(20));
INSERT INTO t_b VALUES (1111, 'YYYY-MM-DD', 'YYYY-MM-DD', 'YYYY-MM-DD', 'YYYY-MM-DD');
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR('2000-11-11', c0) FROM t_b;

SELECT TO_CHAR( to_date('2000-11-11', c1), c1) FROM t_b;
SELECT TO_CHAR( to_date('2000-11-11', c2), c2) FROM t_b;
SELECT TO_CHAR( to_date('2000-11-11', c3), c3) FROM t_b;
SELECT TO_CHAR( to_date('2000-11-11', c4), c4) FROM t_b;
DROP TABLE t_b;

EXPLAIN PLAN FOR  SELECT TO_CHAR(c1, 'YYYY-MM-DD') FROM t_to_char1;

SELECT TO_CHAR(c2, 'YYYY-MM-DD HH:MI:SS') from t_to_char1;
SELECT TO_CHAR(c2, 'YYYY-MON-DY HH:MI:SS') from t_to_char1;
SELECT TO_CHAR(c2, 'MON-YYYY-DY HH:MI:SS') from t_to_char1;
SELECT TO_CHAR(c2, 'YYYY-MONTH-DAY HH:MI:SS') from t_to_char1;

drop table if exists  t1,t2 ;
create table t1 (a datetime, b int, f varchar(30)) engine=myisam;
insert into t1 values ('2021-01-24 19:22:10', 2014, 'YYYY-MM-DD');
create table t2 (a varchar(30)) engine=myisam;

insert into t2 select to_char(a,f) from t1 ;

insert into t1 values ('2021-01-24 19:22:10', 2014, 'YYYY-MQ-DD');

--error ER_STD_INVALID_ARGUMENT
insert into t2 select to_char(a,f) from t1;

select to_char(123);
select to_char('123');
select to_char( to_date('2014/04/23','YYYY/MM/DD' ), 'YY-MM', 'NLS_DATE_LANGUAGE = zh_CN');

# 2006-01-02 15:04:05.123456789
select to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.SSSSS');
select to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF1'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF6');
select to_char(str_to_date('20210628','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210629','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210630','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210701','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210702','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210703','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210704','%Y%m%d') , 'D');

set timestamp=1;
SELECT to_char(now(),'FMMONTH/FMMONTH/MON/HH24')   FROM dual;

# test for CC element
SELECT TO_CHAR(c1, 'CC-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1 where c0 <> 2;
--error ER_STD_OUT_OF_RANGE_ERROR
SELECT TO_CHAR(c1, 'CC-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1 where c0 = 2;

# test for I IY IYY IYYY Y,YYY and YEAR element
SELECT TO_CHAR(c1, 'I-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'IY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'IYY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'IYYY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'Y,YYY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'year-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'yEAR-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'Year-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YeAR-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YEAR-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;

# test for IW J Q RM W WW element
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS IW') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS J') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS Q') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS rm') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS rM') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS Rm') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS RM') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS W') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'YYYY-MM-DD HH24:MI:SS WW') AS C1 FROM t_to_char1;

# test for X and DDD
select to_char(str_to_date('20210108','%Y%m%d') , 'DDD') ,
    to_char(str_to_date('20210128','%Y%m%d') , 'DDD') ,
    to_char(str_to_date('20210630','%Y%m%d') , 'DDD') ;

select to_char(str_to_date('15:04:05.123','%T.%f'), 'SSXFF');
select to_char(str_to_date('15:04:05.123','%T.%f'), 'SSXFF'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SSXFF1'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SSXFF6');

# test for SCC SYEAR SYYYY TZH TZM
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'SCC-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'SYEAR-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'SYYYY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'SYYYY-MM-DD HH24:MI:SS') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(now(6), 'SYYYY-MM-DD HH24:MI:SS TZH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(now(6), 'SYYYY-MM-DD HH24:MI:SS TZM') AS C1 FROM t_to_char1;

# test for FM and TH element
SELECT TO_CHAR(c1, 'FMCCTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMCCTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1  where c0 <> 2;
SELECT TO_CHAR(c1, 'FMCcTH-MmTH-DdTH') AS C1, TO_CHAR(c2, 'FMHhTH:MiTH:SsTH') AS C2, TO_CHAR(c3, 'FMCcTH-MmTH-DdTH Hh24TH:MiTH:SsTH') AS C3 FROM t_to_char1  where c0 <> 2;
SELECT TO_CHAR(c1, 'FMccTH-mmTH-ddTH') AS C1, TO_CHAR(c2, 'FMhhTH:miTH:ssTH') AS C2, TO_CHAR(c3, 'FMccTH-mmTH-ddTH hh24TH:miTH:ssTH') AS C3 FROM t_to_char1  where c0 <> 2;
SELECT TO_CHAR(c1, 'FMcCTH-mMTH-dDTH') AS C1, TO_CHAR(c2, 'FMhHTH:mITH:sSTH') AS C2, TO_CHAR(c3, 'FMcCTH-mMTH-dDTH hH24TH:mITH:sSTH') AS C3 FROM t_to_char1  where c0 <> 2;

SELECT TO_CHAR(c1, 'FMYYYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyyyyTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMyyTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMYyYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYyTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyyYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMyyTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyYYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMyYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMYYYTH-MON-DDTH') AS C1, TO_CHAR(c2, 'FMHH12TH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYTH-MONTH-DY HHTH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyyyTH-MON-DDTH') AS C1, TO_CHAR(c2, 'FMHH12TH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMyTH-MONTH-DY HHTH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMYyYTH-MON-DDTH') AS C1, TO_CHAR(c2, 'FMHH12TH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMytH-MONTH-DY HHTH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyyYTH-MON-DDTH') AS C1, TO_CHAR(c2, 'FMHH12TH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYTH-MONTH-DY HHTH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMyYYTH-MON-DDTH') AS C1, TO_CHAR(c2, 'FMHH12TH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYTH-MONTH-DY HHTH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMRRRRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMRRRRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMrrrrTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMrrrrTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMrrRRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMrrRRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMrRRRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMrRRRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMRrRRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMRrRRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMRRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMRRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMrrTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMrrTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMrRTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMrRTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMRrTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMRrTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMITH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMITH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMItH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMItH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMitH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMitH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMIYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMIyTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIyTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiyTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiyTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMIYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMIyYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIyYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiyYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiyYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMIYYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIYYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMIyYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMIyYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiYYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiYYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiyYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMiyYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMY,YYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMY,YYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMY,yYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMY,yYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMy,YYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMy,YYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMy,yYYTH-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMy,yYYTH-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMYEAR-MMTH-DDTH') AS C1, TO_CHAR(c2, 'FMHHTH:MITH:SSTH') AS C2, TO_CHAR(c3, 'FMYEAR-MMTH-DDTH HH24TH:MITH:SSTH') AS C3 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMIWTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMIwTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiWTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMiwTH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMJTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMJtH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMjTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMjtH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMQTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMQtH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMqTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMqtH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMWTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMWtH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMwTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMwtH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMWWTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMWwTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMwWTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMwwTH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMDTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMDtH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMdTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMdtH') AS C1 FROM t_to_char1;

SELECT TO_CHAR(c1, 'FMSSSSSTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMSsSSSTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMsSSSSTH') AS C1 FROM t_to_char1;
SELECT TO_CHAR(c1, 'FMssSSSTH') AS C1 FROM t_to_char1;

select to_char(str_to_date('20210108','%Y%m%d') , 'FMDDDTH') ,
    to_char(str_to_date('20210128','%Y%m%d') , 'FMDDDTH') ,
    to_char(str_to_date('20210630','%Y%m%d') , 'FMDDDTH') ;
select to_char(str_to_date('20210108','%Y%m%d') , 'FMDdDTH') ,
    to_char(str_to_date('20210128','%Y%m%d') , 'FMdDDTH') ,
    to_char(str_to_date('20210630','%Y%m%d') , 'FMddDTH') ;
    
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFF');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSXFFTH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFFTH');

select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFFTH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFfTH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXfFTH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXffTH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFF6TH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXFf6TH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXfF6TH');
select to_char(str_to_date('15:04:05.003','%T.%f'), 'FMSSTHXff6TH');

--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'RMTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'YEARTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'MONTHTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'DTTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'DAYTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'ADTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'A.D.TH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'BCTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'B.C.TH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c2, 'HH:MI:SS ADTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c2, 'HH:MI:SS BCTH') AS C1 FROM t_to_char1;
--error ER_STD_INVALID_ARGUMENT
SELECT TO_CHAR(c1, 'YYYY-MM-DD TH') AS C1 FROM t_to_char1;

select to_char(c3, 'FMYYYYYYYYYYYYYYYTH') from t_to_char1;
select to_char(c3, 'FMYYYYYYYYYYYYYYYDDDDDDTH') from t_to_char1;

DROP TABLE t_to_char1;
DROP TABLE t_to_char2;
drop table t1; 
drop table t2;

# zentao 1498
set timestamp=1;
select to_char(sysdate,'yyyy-mon-dd-DAY') from dual;
select to_char(sysdate,'yyyy-mon-dd') from dual;

select dump(to_char(null, '999')) from dual;
select dump(to_char(null, '999.99')) from dual;
select dump(to_char(null, null)) from dual;
select dump(to_char(null, '')) from dual;
select dump(to_char('', '')) from dual;
select dump(to_char('', null)) from dual;

# test from numeric
select to_char(12345,'9.9') FROM dual;
select to_char(123, '99D9') from dual;
SELECT to_char(1234,'999V99' ) from dual;
SELECT to_char(0,'99.99') FROM dual;
SELECT to_char(0,'090V99' ) from dual;
select to_char(0.1 ,'90.99' ) from dual;
select to_char(-0.2 ,'90.99' ) from dual;
select to_char(0 ,'9999' ) from dual;
select to_char(1 ,'9999' ) from dual;
select to_char(0 ,'B9999' ) from dual;
select to_char(1 ,'B9999' ) from dual;
select to_char(0 ,'B90.99' ) , LENGTH(to_char(0 ,'B90.99' )) from dual;
select to_char(123.456 ,'999.999' ) from dual;
select to_char(-123.456 ,'999.999' ) from dual;
select to_char(123.456 ,'FM999.009' ) from dual;
select to_char(123.456 ,'9.9EEEE' ) from dual;
--error ER_STD_OVERFLOW_ERROR
select to_char(1E+123 ,'9.9EEEE' ) from dual;

select to_char(1E+63 ,'9.9EEEE' ) from dual;

select to_char(123.456 ,'FM9.9EEEE' ) from dual;
select to_char(123.45 ,'FM999.009' ) from dual;
select to_char(123 ,'FM999.009' ) from dual;

select to_char(1234567890 ,'9999999999S' ) from dual;

select to_char('123.321' ,'999.999PR' ) ,to_char(-123.321 ,'999.999PR' ) from dual;
select to_char('123.321' ,'999.999MI' ) ,to_char(-123.321 ,'999.999MI' ) from dual;
select to_char('123.321' ,'999.999S' ) ,to_char(-123.321 ,'999.999S' ) from dual;
select to_char('123.321' ,'00XXX' ) ,to_char(-123.321 ,'00XXX' ) from dual;

select to_char('1234567890' ,'99EEEE' ) from dual;
select to_char('123.456789' ,'TME' ) from dual;
select to_char('123.456789' ,'0.99EEEE' ) from dual;
select to_char('123.456789' ,'99.99EEEE' ) from dual;
select to_char('123.45679' ,'TM9' ) from dual;

select to_char(123,'S$000.99') from dual;
select to_char(123,'S000.99$') from dual;

select to_char(12, '9,90,99.99') from dual;
select to_char(123, '9,90,99.99') from dual;

# 2006-01-02 15:04:05.123456789
select to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.SSSSS');
select to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF1'),to_char(str_to_date('15:04:05.123','%T.%f'), 'SS.FF6');
select to_char(str_to_date('20210628','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210629','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210630','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210701','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210702','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210703','%Y%m%d') , 'D') ,
    to_char(str_to_date('20210704','%Y%m%d') , 'D');

select to_char(12345,'9.9') FROM dual;
select to_char(123, '99D9') from dual;
SELECT to_char(1234,'999V99' ) from dual;

set timestamp=1;

SELECT to_char(now(),'FMMONTH/FMMONTH/MON/HH24')   FROM dual;
# zentao 1498
set timestamp=1;
select to_char(sysdate,'yyyy-mon-dd-DAY') from dual;
select to_char(sysdate,'yyyy-mon-dd') from dual;

select dump(to_char(null, '999')) from dual;
select dump(to_char(null, '999.99')) from dual;
select dump(to_char(null, null)) from dual;
select dump(to_char(null, '')) from dual;
select dump(to_char('', '')) from dual;
select dump(to_char('', null)) from dual;


CREATE TABLE format_data(id serial,  n double,c varchar(255) ,  unique(n,c) ) ;
insert into format_data(n,c)values( 1234,'9999.99');
insert into format_data(n,c)values( 1234,'99,99.99');
insert into format_data(n,c)values( 12.345,'99.99');
insert into format_data(n,c)values( 12.3,'99.99');
insert into format_data(n,c)values( 1,'99.');
insert into format_data(n,c)values( 1,'99.99');
insert into format_data(n,c)values( 0,'090V99');
insert into format_data(n,c)values( 0.1 ,'90.99');
insert into format_data(n,c)values( -0.2 ,'90.99');
insert into format_data(n,c)values( 0 ,'9999');
insert into format_data(n,c)values( 0 ,'fm9999');
insert into format_data(n,c)values( 1 ,'9999');
insert into format_data(n,c)values( 0 ,'B9999');
insert into format_data(n,c)values( 1 ,'B9999');
insert into format_data(n,c)values( 0 ,'B90.99');
insert into format_data(n,c)values( 123 ,'TM9');
insert into format_data(n,c)values( 123 ,'FMTM9');
insert into format_data(n,c)values( 123 ,'TME');
insert into format_data(n,c)values( 123 ,'FMTME');
insert into format_data(n,c)values( 123 ,'999PR');
insert into format_data(n,c)values( -123 ,'999PR');
insert into format_data(n,c)values( 1232.31231 ,'999.99PR');
insert into format_data(n,c)values( 123 ,'FM999PR');
insert into format_data(n,c)values( 123 ,'999MI');
insert into format_data(n,c)values( 123 ,'FM999MI');
insert into format_data(n,c)values( 1 ,'FMB9999');
insert into format_data(n,c)values( 0 ,'FMB9999');
insert into format_data(n,c)values( 1 ,'S9999');
insert into format_data(n,c)values( 1 ,'9999S');
insert into format_data(n,c)values( -1 ,'S9999');
insert into format_data(n,c)values( -1 ,'9999S');
insert into format_data(n,c)values( 1 ,'9999MI');
insert into format_data(n,c)values( -1 ,'9999MI');
insert into format_data(n,c)values( 123.321,'00XXX');
insert into format_data(n,c)values(-123.321,'00XXX');
insert into format_data(n,c)values( 123.321,'FM00XXX');
insert into format_data(n,c)values( 1.456 ,'099.999');
insert into format_data(n,c)values( 1.456 ,'999.999');
insert into format_data(n,c)values( 123.456 ,'999.999');
insert into format_data(n,c)values( -123.456 ,'999.999');
insert into format_data(n,c)values( 123.456 ,'FM999.009');
insert into format_data(n,c)values( 123.456 ,'9.9EEEE');
insert into format_data(n,c)values( 1E+63 ,'9.9EEEE');
insert into format_data(n,c)values( 123.456 ,'FM9.9EEEE');
insert into format_data(n,c)values( 123.45 ,'FM999.009');
insert into format_data(n,c)values( 123 ,'FM999.009');
insert into format_data(n,c)values( null ,'999');
insert into format_data(n,c)values( 1.4 ,'000.999');
insert into format_data(n,c)values( 0 ,'FMB90.99');
insert into format_data(n,c)values( 0,'FM99.99');
insert into format_data(n,c)values( 0,'99.99');
insert into format_data(n,c)values( 0.125,'99.99');
insert into format_data(n,c)values( 1,'FM99.99');
insert into format_data(n,c)values( 1,'FM99.90909');
insert into format_data(n,c)values( 1,'FM99.');
insert into format_data(n,c)values( 12345 ,'9.9');
insert into format_data(n,c)values( 123,'99D9');
insert into format_data(n,c)values( 1234,'999V99');
insert into format_data(n,c)values(0.2345,'FM0.9099');
insert into format_data(n,c)values( 0.2,'FM0.9099');
insert into format_data(n,c)values( 0.234,'FM0.9099');
insert into format_data(n,c)values( 1,'9.');
insert into format_data(n,c)values(1,'FM9.00');
insert into format_data(n,c)values(1,'FM9.99');
insert into format_data(n,c)values(0.236,'FM99.99');
insert into format_data(n,c)values(0.236,'FM9.99');
insert into format_data(n,c)values(0.1,'$99.9990');
insert into format_data(n,c)values( 0 ,'9EEEE');
insert into format_data(n,c)values( 0 ,'0EEEE');
insert into format_data(n,c)values( 0 ,'0.99EEEE');
insert into format_data(n,c)values( 0 ,'9.99EEEE');
insert into format_data(n,c)values( 0 ,'9.00EEEE');
insert into format_data(n,c)values( 10 ,'9.9EEEE');
insert into format_data(n,c)values( 0 ,'FM9.9EEEE');
insert into format_data(n,c)values( 0 ,'FM9.00EEEE');
insert into format_data(n,c)values( 0 ,'FM00.9EEEE');
insert into format_data(n,c)values( 0 ,'FM00.0EEEE');
insert into format_data(n,c)values( 10 ,'TME');
insert into format_data(n,c)values( 0 ,'TME');
insert into format_data(n,c)values( 0 ,'9V9');
insert into format_data(n,c)values( 0 ,'99,9V99');
insert into format_data(n,c)values( 0 ,'90,9V99');
insert into format_data(n,c)values( 0 ,'fm99,9V99');
insert into format_data(n,c)values( 0 ,'fm90,9V99');
insert into format_data(n,c)values(12,'99V999');
insert into format_data(n,c)values(12.4,'99V999');
insert into format_data(n,c)values(12.456,'99V99');
insert into format_data(n,c)values(12.456,'9999V99');
insert into format_data(n,c)values(123.456,'99,9,9V99');
insert into format_data(n,c)values(485,'0999');
insert into format_data(n,c)values(111100000,'9,999,999,999');
insert into format_data(n,c)values(111100000.9999,'9,999,999,999.9999');

insert into format_data(n,c)values(0,'fm.9');
insert into format_data(n,c)values(0,'fm99.09');
insert into format_data(n,c)values(0,'.99');
insert into format_data(n,c)values(0.1,'9');
insert into format_data(n,c)values(0.10,'fm9.99');
insert into format_data(n,c)values(0,'0.');
insert into format_data(n,c)values(0,'0D');
insert into format_data(n,c)values(0,'9D');
insert into format_data(n,c)values(0,'9.');
insert into format_data(n,c)values(0,'fm9.');
insert into format_data(n,c)values(0,'fm0.');
insert into format_data(n,c)values(null,'9');
insert into format_data(n,c)values(null,'');
insert into format_data(n,c)values(null,null);
insert into format_data(n,c)values(null,'YYDDMM');
insert into format_data(n,c)values(1.1000,'9.99');
insert into format_data(n,c)values(1.20,'9.99');
insert into format_data(n,c)values(1.00,'9.99');
SELECT id, to_char(n),c,to_char(n, c),LENGTH (to_char(n, c)) FROM format_data ORDER BY id;


insert into format_data(n,c)values(123,'YYDDMM');
--error ER_STD_INVALID_ARGUMENT
SELECT id, to_char(n),c,to_char(n, c),LENGTH (to_char(n, c)) FROM format_data ORDER BY id;

drop table format_data;

# max LENGTH merge
select to_char('123.321' ,'00XXX' ) ,to_char(-123.321 ,'00XXX' ) from dual
union all
select to_char('123.321' ,'00xxx' ) ,to_char(-123.321 ,'00xxx' ) from dual
union all
select to_char('123.321' ,'00Xxx' ) ,to_char(-123.321 ,'00Xxx' ) from dual
union all
select to_char('123.321' ,'00xxX' ) ,to_char(-123.321 ,'00xxX' ) from dual;

select to_char(10,'TME');

select to_char(12.34567890,'TME');

select to_char(2/3,'') from dual;
select to_char(0.10,'fm9.99') from dual;
select to_char(17/3,'9V99999') from dual ;
--error ER_DIVISION_BY_ZERO
select to_char(1/0,'9$') from dual ;
select to_char(+-1.1 ,'0.0S' ) from dual ;
select to_char(-+1.1 ,'0.0S' ) from dual ;

select to_char(null, 'YYDDMM') from dual;
select to_char(null, '9') from dual;
select to_char(null, '') from dual;
select to_char(null, null) from dual;


CREATE TABLE format_date(id serial,  n datetime,c varchar(255) ,  unique(n,c) );

insert  into format_date (n,c)values (null , null);
insert  into format_date (n,c)values (null , '');
insert  into format_date (n,c)values (null , 'YYDDMM');

--error ER_TRUNCATED_WRONG_VALUE
insert  into format_date (n,c)values ('' , 'YYDDMM');
--error ER_TRUNCATED_WRONG_VALUE
insert  into format_date (n,c)values ( '' , '');
SELECT id, to_char(n),c,to_char(n, c),LENGTH (to_char(n, c)) FROM format_date ORDER BY id;

insert  into format_date (n,c)values ( '2021-01-12' , '9');
--error ER_STD_INVALID_ARGUMENT
SELECT id, to_char(n),c,to_char(n, c),LENGTH (to_char(n, c)) FROM format_date ORDER BY id;
DROP TABLE format_date;


set sql_mode=oracle;
DELIMITER //;
DECLARE
  value1 datetime;
BEGIN
  value1:=null;
  select to_char(value1, 'YYDDMM');
END//
DELIMITER ;//
# oracle  test result:
# DROP TABLE format_data;
#
# CREATE TABLE format_data(id NUMBER  GENERATED BY DEFAULT ON NULL AS IDENTITY,  n NUMBER,c varchar2(255) , CONSTRAINT TB_UNK unique(n,c) ) ;
# SELECT id, to_char(n),c,to_char(n, c),dump(to_char(n, c)) FROM format_data ORDER BY id;
#
#ID |TO_CHAR(N)                              |C                 |TO_CHAR(N,C)       |DUMP(TO_CHAR(N,C))                                                    |
#---|----------------------------------------|------------------|-------------------|----------------------------------------------------------------------|
#1  |1234                                    |9999.99           | 1234.00           |Typ=1 Len=8: 32,49,50,51,52,46,48,48                                  |
#2  |1234                                    |99,99.99          | 12,34.00          |Typ=1 Len=9: 32,49,50,44,51,52,46,48,48                               |
#3  |12.345                                  |99.99             | 12.35             |Typ=1 Len=6: 32,49,50,46,51,53                                        |
#4  |12.3                                    |99.99             | 12.30             |Typ=1 Len=6: 32,49,50,46,51,48                                        |
#5  |1                                       |99.               |  1.               |Typ=1 Len=4: 32,32,49,46                                              |
#6  |1                                       |99.99             |  1.00             |Typ=1 Len=6: 32,32,49,46,48,48                                        |
#7  |0                                       |090V99            | 00000             |Typ=1 Len=6: 32,48,48,48,48,48                                        |
#8  |.1                                      |90.99             |  0.10             |Typ=1 Len=6: 32,32,48,46,49,48                                        |
#9  |-.2                                     |90.99             | -0.20             |Typ=1 Len=6: 32,45,48,46,50,48                                        |
#10 |0                                       |9999              |    0              |Typ=1 Len=5: 32,32,32,32,48                                           |
#11 |0                                       |fm9999            |0                  |Typ=1 Len=1: 48                                                       |
#12 |1                                       |9999              |    1              |Typ=1 Len=5: 32,32,32,32,49                                           |
#13 |0                                       |B9999             |                   |Typ=1 Len=5: 32,32,32,32,32                                           |
#14 |1                                       |B9999             |    1              |Typ=1 Len=5: 32,32,32,32,49                                           |
#15 |0                                       |B90.99            |                   |Typ=1 Len=6: 32,32,32,32,32,32                                        |
#16 |123                                     |TM9               |123                |Typ=1 Len=3: 49,50,51                                                 |
#17 |123                                     |FMTM9             |123                |Typ=1 Len=3: 49,50,51                                                 |
#18 |123                                     |TME               |1.23E+02           |Typ=1 Len=8: 49,46,50,51,69,43,48,50                                  |
#19 |123                                     |FMTME             |1.23E+02           |Typ=1 Len=8: 49,46,50,51,69,43,48,50                                  |
#20 |123                                     |999PR             | 123               |Typ=1 Len=5: 32,49,50,51,32                                           |
#21 |-123                                    |999PR             |<123>              |Typ=1 Len=5: 60,49,50,51,62                                           |
#22 |1232.31231                              |999.99PR          |########           |Typ=1 Len=8: 35,35,35,35,35,35,35,35                                  |
#23 |123                                     |FM999PR           |123                |Typ=1 Len=3: 49,50,51                                                 |
#24 |123                                     |999MI             |123                |Typ=1 Len=4: 49,50,51,32                                              |
#25 |123                                     |FM999MI           |123                |Typ=1 Len=3: 49,50,51                                                 |
#26 |1                                       |FMB9999           |1                  |Typ=1 Len=1: 49                                                       |
#27 |0                                       |FMB9999           |                   |NULL                                                                  |
#28 |1                                       |S9999             |   +1              |Typ=1 Len=5: 32,32,32,43,49                                           |
#29 |1                                       |9999S             |   1+              |Typ=1 Len=5: 32,32,32,49,43                                           |
#30 |-1                                      |S9999             |   -1              |Typ=1 Len=5: 32,32,32,45,49                                           |
#31 |-1                                      |9999S             |   1-              |Typ=1 Len=5: 32,32,32,49,45                                           |
#32 |1                                       |9999MI            |   1               |Typ=1 Len=5: 32,32,32,49,32                                           |
#33 |-1                                      |9999MI            |   1-              |Typ=1 Len=5: 32,32,32,49,45                                           |
#34 |123.321                                 |00XXX             | 0007B             |Typ=1 Len=6: 32,48,48,48,55,66                                        |
#35 |-123.321                                |00XXX             |######             |Typ=1 Len=6: 35,35,35,35,35,35                                        |
#36 |123.321                                 |FM00XXX           |0007B              |Typ=1 Len=5: 48,48,48,55,66                                           |
#37 |1.456                                   |099.999           | 001.456           |Typ=1 Len=8: 32,48,48,49,46,52,53,54                                  |
#38 |1.456                                   |999.999           |   1.456           |Typ=1 Len=8: 32,32,32,49,46,52,53,54                                  |
#39 |123.456                                 |999.999           | 123.456           |Typ=1 Len=8: 32,49,50,51,46,52,53,54                                  |
#40 |-123.456                                |999.999           |-123.456           |Typ=1 Len=8: 45,49,50,51,46,52,53,54                                  |
#41 |123.456                                 |FM999.009         |123.456            |Typ=1 Len=7: 49,50,51,46,52,53,54                                     |
#42 |123.456                                 |9.9EEEE           |  1.2E+02          |Typ=1 Len=9: 32,32,49,46,50,69,43,48,50                               |
#43 |1.0000000000000000000000000000000000E+63|9.9EEEE           |  1.0E+63          |Typ=1 Len=9: 32,32,49,46,48,69,43,54,51                               |
#44 |123.456                                 |FM9.9EEEE         |1.2E+02            |Typ=1 Len=7: 49,46,50,69,43,48,50                                     |
#45 |123.45                                  |FM999.009         |123.45             |Typ=1 Len=6: 49,50,51,46,52,53                                        |
#46 |123                                     |FM999.009         |123.00             |Typ=1 Len=6: 49,50,51,46,48,48                                        |
#47 |                                        |999               |                   |NULL                                                                  |
#48 |1.4                                     |000.999           | 001.400           |Typ=1 Len=8: 32,48,48,49,46,52,48,48                                  |
#49 |0                                       |FMB90.99          |                   |NULL                                                                  |
#50 |0                                       |FM99.99           |0.                 |Typ=1 Len=2: 48,46                                                    |
#51 |0                                       |99.99             |   .00             |Typ=1 Len=6: 32,32,32,46,48,48                                        |
#52 |.125                                    |99.99             |   .13             |Typ=1 Len=6: 32,32,32,46,49,51                                        |
#53 |1                                       |FM99.99           |1.                 |Typ=1 Len=2: 49,46                                                    |
#54 |1                                       |FM99.90909        |1.0000             |Typ=1 Len=6: 49,46,48,48,48,48                                        |
#55 |1                                       |FM99.             |1.                 |Typ=1 Len=2: 49,46                                                    |
#56 |12345                                   |9.9               |####               |Typ=1 Len=4: 35,35,35,35                                              |
#57 |123                                     |99D9              |#####              |Typ=1 Len=5: 35,35,35,35,35                                           |
#58 |1234                                    |999V99            |######             |Typ=1 Len=6: 35,35,35,35,35,35                                        |
#59 |.2345                                   |FM0.9099          |0.2345             |Typ=1 Len=6: 48,46,50,51,52,53                                        |
#60 |.2                                      |FM0.9099          |0.20               |Typ=1 Len=4: 48,46,50,48                                              |
#61 |.234                                    |FM0.9099          |0.234              |Typ=1 Len=5: 48,46,50,51,52                                           |
#62 |1                                       |9.                | 1.                |Typ=1 Len=3: 32,49,46                                                 |
#63 |1                                       |FM9.00            |1.00               |Typ=1 Len=4: 49,46,48,48                                              |
#64 |1                                       |FM9.99            |1.                 |Typ=1 Len=2: 49,46                                                    |
#65 |.236                                    |FM99.99           |.24                |Typ=1 Len=3: 46,50,52                                                 |
#66 |.236                                    |FM9.99            |.24                |Typ=1 Len=3: 46,50,52                                                 |
#67 |.1                                      |$99.9990          |   $.1000          |Typ=1 Len=9: 32,32,32,36,46,49,48,48,48                               |
#68 |0                                       |9EEEE             |  0E+00            |Typ=1 Len=7: 32,32,48,69,43,48,48                                     |
#69 |0                                       |0EEEE             |  0E+00            |Typ=1 Len=7: 32,32,48,69,43,48,48                                     |
#70 |0                                       |0.99EEEE          |  0.00E+00         |Typ=1 Len=10: 32,32,48,46,48,48,69,43,48,48                           |
#71 |0                                       |9.99EEEE          |   .00E+00         |Typ=1 Len=10: 32,32,32,46,48,48,69,43,48,48                           |
#72 |0                                       |9.00EEEE          |   .00E+00         |Typ=1 Len=10: 32,32,32,46,48,48,69,43,48,48                           |
#73 |10                                      |9.9EEEE           |  1.0E+01          |Typ=1 Len=9: 32,32,49,46,48,69,43,48,49                               |
#74 |0                                       |FM9.9EEEE         |0.E+00             |Typ=1 Len=6: 48,46,69,43,48,48                                        |
#75 |0                                       |FM9.00EEEE        |.00E+00            |Typ=1 Len=7: 46,48,48,69,43,48,48                                     |
#76 |0                                       |FM00.9EEEE        |0.E+00             |Typ=1 Len=6: 48,46,69,43,48,48                                        |
#77 |0                                       |FM00.0EEEE        |0.0E+00            |Typ=1 Len=7: 48,46,48,69,43,48,48                                     |
#78 |10                                      |TME               |1E+01              |Typ=1 Len=5: 49,69,43,48,49                                           |
#79 |0                                       |TME               |0E+00              |Typ=1 Len=5: 48,69,43,48,48                                           |
#80 |0                                       |9V9               |  0                |Typ=1 Len=3: 32,32,48                                                 |
#81 |0                                       |99,9V99           |     00            |Typ=1 Len=7: 32,32,32,32,32,48,48                                     |
#82 |0                                       |90,9V99           |  0,000            |Typ=1 Len=7: 32,32,48,44,48,48,48                                     |
#83 |0                                       |fm99,9V99         |00                 |Typ=1 Len=2: 48,48                                                    |
#84 |0                                       |fm90,9V99         |0,000              |Typ=1 Len=5: 48,44,48,48,48                                           |
#85 |12                                      |99V999            | 12000             |Typ=1 Len=6: 32,49,50,48,48,48                                        |
#86 |12.4                                    |99V999            | 12400             |Typ=1 Len=6: 32,49,50,52,48,48                                        |
#87 |12.456                                  |99V99             | 1246              |Typ=1 Len=5: 32,49,50,52,54                                           |
#88 |12.456                                  |9999V99           |   1246            |Typ=1 Len=7: 32,32,32,49,50,52,54                                     |
#89 |123.456                                 |99,9,9V99         |  1,2,346          |Typ=1 Len=9: 32,32,49,44,50,44,51,52,54                               |
#90 |485                                     |0999              | 0485              |Typ=1 Len=5: 32,48,52,56,53                                           |
#91 |111100000                               |9,999,999,999     |   111,100,000     |Typ=1 Len=14: 32,32,32,49,49,49,44,49,48,48,44,48,48,48               |
#92 |111100000.9999                          |9,999,999,999.9999|   111,100,000.9999|Typ=1 Len=19: 32,32,32,49,49,49,44,49,48,48,44,48,48,48,46,57,57,57,57|
#93 |0                                       |fm.9              |.                  |Typ=1 Len=1: 46                                                       |
#94 |0                                       |fm99.09           |.0                 |Typ=1 Len=2: 46,48                                                    |
#95 |0                                       |.99               | .00               |Typ=1 Len=4: 32,46,48,48                                              |


SELECT to_char(to_date('2022-03-06','yyyy-mm-dd'),'D') FROM dual;
set SESSION default_week_format=1;
SELECT to_char(to_date('2022-03-06','yyyy-mm-dd'),'D') FROM dual;

--error ER_STD_INVALID_ARGUMENT
select to_char('123vxcdf', '9999999999') ;
--error ER_STD_INVALID_ARGUMENT
select to_char('2017-99', '99999999') ;
--error ER_STD_INVALID_ARGUMENT
select to_char('csdfaf', '99999999') ;


select to_char(1.000, '9.99') from dual;
select to_char(1.010, '9.99')  from dual;

select to_char(1.010, '9.99')  from dual;
select to_char(1.010, 'fm9.99')  from dual;
select to_char(1.010, 'fm9.90')  from dual;
select to_char(1.011, 'fm9.99')  from dual;
select to_char(1.011, '9.99')  from dual;
