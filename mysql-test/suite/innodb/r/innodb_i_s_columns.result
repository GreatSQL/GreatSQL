#
# BUG#30837086 : SELECT FROM I_S.INNODB_COLUMNS IS SLOW IN 8.0
#
# Table without partition and virual columns
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, d INT, c INT AS(a+b));
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
d	2	6	1027
c	65539	6	9219
DROP TABLE t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, c INT AS(a+b), d INT);
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
c	65538	6	9219
d	2	6	1027
DROP TABLE t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, c INT AS(a+b), b INT, d INT);
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
c	65537	6	9219
b	1	6	1027
d	2	6	1027
DROP TABLE t1;
CREATE TABLE t1 (c INT AS(a+b), a INT NOT NULL PRIMARY KEY, b INT, d INT);
NAME	POS	MTYPE	PRTYPE
c	65536	6	9219
a	0	6	1283
b	1	6	1027
d	2	6	1027
DROP TABLE t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, c INT AS(a+b), d INT, e INT AS(b+d) STORED,f INT AS(a+b+d));
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
c	65538	6	9219
d	2	6	1027
e	3	6	1027
f	131077	6	9219
DROP TABLE t1;
# Table with partition and virtual column
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, d INT, c INT AS(a+b))
PARTITION BY HASH (a) PARTITIONS 3;
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
d	2	6	1027
c	65539	6	9219
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
d	2	6	1027
c	65539	6	9219
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
d	2	6	1027
c	65539	6	9219
DROP TABLE t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, c INT AS(a+b), d INT, e INT AS(b+d) STORED,f INT AS(a+b+d))
PARTITION BY HASH (a) PARTITIONS 3;
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
c	65538	6	9219
d	2	6	1027
e	3	6	1027
f	131077	6	9219
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
c	65538	6	9219
d	2	6	1027
e	3	6	1027
f	131077	6	9219
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
c	65538	6	9219
d	2	6	1027
e	3	6	1027
f	131077	6	9219
DROP TABLE t1;
# Table with FTS Index
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, d VARCHAR(100), c INT AS(a+b), FULLTEXT idx (d))
PARTITION BY HASH (a) PARTITIONS 3;
ERROR HY000: The used table type doesn't support FULLTEXT indexes
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY, b INT, d VARCHAR(100), c INT AS(a+b), FULLTEXT idx (d));
NAME	POS	MTYPE	PRTYPE
a	0	6	1283
b	1	6	1027
d	2	12	16715791
c	65539	6	9219
DROP TABLE t1;
# Table with functional index
CREATE TABLE t1 (int_col INTEGER, string_col VARCHAR(255));
CREATE INDEX int_func_index ON t1 ((ABS(int_col)));
NAME	POS	MTYPE	PRTYPE
int_col	0	6	1027
string_col	1	12	16715791
CREATE INDEX string_func_index ON t1 ((SUBSTRING(string_col, 1, 2)));
NAME	POS	MTYPE	PRTYPE
int_col	0	6	1027
string_col	1	12	16715791
DROP TABLE t1;
